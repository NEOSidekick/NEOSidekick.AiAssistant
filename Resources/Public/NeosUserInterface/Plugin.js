"use strict";(()=>{var zv=Object.create;var gi=Object.defineProperty;var yf=Object.getOwnPropertyDescriptor;var $v=Object.getOwnPropertyNames;var qv=Object.getPrototypeOf,Yv=Object.prototype.hasOwnProperty;var Zv=(r,i,u)=>i in r?gi(r,i,{enumerable:!0,configurable:!0,writable:!0,value:u}):r[i]=u;var Jv=(r,i)=>()=>(r&&(i=r(r=0)),i);var at=(r,i)=>()=>(i||r((i={exports:{}}).exports,i),i.exports);var Xv=(r,i,u,c)=>{if(i&&typeof i=="object"||typeof i=="function")for(let d of $v(i))!Yv.call(r,d)&&d!==u&&gi(r,d,{get:()=>i[d],enumerable:!(c=yf(i,d))||c.enumerable});return r};var Y=(r,i,u)=>(u=r!=null?zv(qv(r)):{},Xv(i||!r||!r.__esModule?gi(u,"default",{value:r,enumerable:!0}):u,r));var Gt=(r,i,u,c)=>{for(var d=c>1?void 0:c?yf(i,u):i,_=r.length-1,y;_>=0;_--)(y=r[_])&&(d=(c?y(i,u,d):y(d))||d);return c&&d&&gi(i,u,d),d};var O=(r,i,u)=>(Zv(r,typeof i!="symbol"?i+"":i,u),u);function ce(r){return(...i)=>{if(window["@Neos:HostPluginAPI"]&&window["@Neos:HostPluginAPI"][`@${r}`])return window["@Neos:HostPluginAPI"][`@${r}`](...i);throw new Error("You are trying to read from a consumer api that hasn't been initialized yet!")}}var tt=Jv(()=>{});var ft=at((T1,xf)=>{tt();xf.exports=ce("NeosProjectPackages")().NeosUiReduxStore});var gc=at((cr,Tn)=>{var fy=200,cy="Expected a function",Rs="__lodash_hash_undefined__",Ti=1,Nn=2,$f=1/0,qf=9007199254740991,Ai="[object Arguments]",bs="[object Array]",Yf="[object Boolean]",Zf="[object Date]",Jf="[object Error]",Xf="[object Function]",ly="[object GeneratorFunction]",xi="[object Map]",Qf="[object Number]",Pn="[object Object]",Lf="[object Promise]",Vf="[object RegExp]",Ci="[object Set]",jf="[object String]",ec="[object Symbol]",Es="[object WeakMap]",tc="[object ArrayBuffer]",bi="[object DataView]",hy="[object Float32Array]",dy="[object Float64Array]",py="[object Int8Array]",gy="[object Int16Array]",_y="[object Int32Array]",my="[object Uint8Array]",vy="[object Uint8ClampedArray]",yy="[object Uint16Array]",wy="[object Uint32Array]",Sy=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ay=/^\w*$/,xy=/^\./,Cy=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,by=/[\\^$.*+?()[\]{}|]/g,Ey=/\\(\\)?/g,Oy=/^\[object .+?Constructor\]$/,Py=/^(?:0|[1-9]\d*)$/,oe={};oe[hy]=oe[dy]=oe[py]=oe[gy]=oe[_y]=oe[my]=oe[vy]=oe[yy]=oe[wy]=!0;oe[Ai]=oe[bs]=oe[tc]=oe[Yf]=oe[bi]=oe[Zf]=oe[Jf]=oe[Xf]=oe[xi]=oe[Qf]=oe[Pn]=oe[Vf]=oe[Ci]=oe[jf]=oe[Es]=!1;var nc=typeof global=="object"&&global&&global.Object===Object&&global,Ty=typeof self=="object"&&self&&self.Object===Object&&self,zt=nc||Ty||Function("return this")(),rc=typeof cr=="object"&&cr&&!cr.nodeType&&cr,Wf=rc&&typeof Tn=="object"&&Tn&&!Tn.nodeType&&Tn,Ny=Wf&&Wf.exports===rc,Bf=Ny&&nc.process,Uf=function(){try{return Bf&&Bf.binding("util")}catch{}}(),kf=Uf&&Uf.isTypedArray;function Iy(r,i){for(var u=-1,c=r?r.length:0;++u<c;)if(i(r[u],u,r))return!0;return!1}function Ry(r){return function(i){return i?.[r]}}function Fy(r,i){for(var u=-1,c=Array(r);++u<r;)c[u]=i(u);return c}function Dy(r){return function(i){return r(i)}}function My(r,i){return r?.[i]}function Os(r){var i=!1;if(r!=null&&typeof r.toString!="function")try{i=!!(r+"")}catch{}return i}function Ly(r){var i=-1,u=Array(r.size);return r.forEach(function(c,d){u[++i]=[d,c]}),u}function Wy(r,i){return function(u){return r(i(u))}}function By(r){var i=-1,u=Array(r.size);return r.forEach(function(c){u[++i]=c}),u}var Uy=Array.prototype,ky=Function.prototype,Ni=Object.prototype,xs=zt["__core-js_shared__"],Gf=function(){var r=/[^.]+$/.exec(xs&&xs.keys&&xs.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),ic=ky.toString,Ct=Ni.hasOwnProperty,In=Ni.toString,Gy=RegExp("^"+ic.call(Ct).replace(by,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Kf=zt.Symbol,Hf=zt.Uint8Array,Ky=Ni.propertyIsEnumerable,Hy=Uy.splice,zy=Wy(Object.keys,Object),Ps=Rn(zt,"DataView"),lr=Rn(zt,"Map"),Ts=Rn(zt,"Promise"),Ns=Rn(zt,"Set"),Is=Rn(zt,"WeakMap"),hr=Rn(Object,"create"),$y=an(Ps),qy=an(lr),Yy=an(Ts),Zy=an(Ns),Jy=an(Is),Ei=Kf?Kf.prototype:void 0,Cs=Ei?Ei.valueOf:void 0,zf=Ei?Ei.toString:void 0;function sn(r){var i=-1,u=r?r.length:0;for(this.clear();++i<u;){var c=r[i];this.set(c[0],c[1])}}function Xy(){this.__data__=hr?hr(null):{}}function Qy(r){return this.has(r)&&delete this.__data__[r]}function Vy(r){var i=this.__data__;if(hr){var u=i[r];return u===Rs?void 0:u}return Ct.call(i,r)?i[r]:void 0}function jy(r){var i=this.__data__;return hr?i[r]!==void 0:Ct.call(i,r)}function e0(r,i){var u=this.__data__;return u[r]=hr&&i===void 0?Rs:i,this}sn.prototype.clear=Xy;sn.prototype.delete=Qy;sn.prototype.get=Vy;sn.prototype.has=jy;sn.prototype.set=e0;function bt(r){var i=-1,u=r?r.length:0;for(this.clear();++i<u;){var c=r[i];this.set(c[0],c[1])}}function t0(){this.__data__=[]}function n0(r){var i=this.__data__,u=Ii(i,r);if(u<0)return!1;var c=i.length-1;return u==c?i.pop():Hy.call(i,u,1),!0}function r0(r){var i=this.__data__,u=Ii(i,r);return u<0?void 0:i[u][1]}function i0(r){return Ii(this.__data__,r)>-1}function o0(r,i){var u=this.__data__,c=Ii(u,r);return c<0?u.push([r,i]):u[c][1]=i,this}bt.prototype.clear=t0;bt.prototype.delete=n0;bt.prototype.get=r0;bt.prototype.has=i0;bt.prototype.set=o0;function Et(r){var i=-1,u=r?r.length:0;for(this.clear();++i<u;){var c=r[i];this.set(c[0],c[1])}}function s0(){this.__data__={hash:new sn,map:new(lr||bt),string:new sn}}function u0(r){return Ri(this,r).delete(r)}function a0(r){return Ri(this,r).get(r)}function f0(r){return Ri(this,r).has(r)}function c0(r,i){return Ri(this,r).set(r,i),this}Et.prototype.clear=s0;Et.prototype.delete=u0;Et.prototype.get=a0;Et.prototype.has=f0;Et.prototype.set=c0;function Oi(r){var i=-1,u=r?r.length:0;for(this.__data__=new Et;++i<u;)this.add(r[i])}function l0(r){return this.__data__.set(r,Rs),this}function h0(r){return this.__data__.has(r)}Oi.prototype.add=Oi.prototype.push=l0;Oi.prototype.has=h0;function xt(r){this.__data__=new bt(r)}function d0(){this.__data__=new bt}function p0(r){return this.__data__.delete(r)}function g0(r){return this.__data__.get(r)}function _0(r){return this.__data__.has(r)}function m0(r,i){var u=this.__data__;if(u instanceof bt){var c=u.__data__;if(!lr||c.length<fy-1)return c.push([r,i]),this;u=this.__data__=new Et(c)}return u.set(r,i),this}xt.prototype.clear=d0;xt.prototype.delete=p0;xt.prototype.get=g0;xt.prototype.has=_0;xt.prototype.set=m0;function v0(r,i){var u=un(r)||hc(r)?Fy(r.length,String):[],c=u.length,d=!!c;for(var _ in r)(i||Ct.call(r,_))&&!(d&&(_=="length"||ac(_,c)))&&u.push(_);return u}function Ii(r,i){for(var u=r.length;u--;)if(lc(r[u][0],i))return u;return-1}var y0=F0();function w0(r,i){return r&&y0(r,i,Pi)}function oc(r,i){i=Fi(i,r)?[i]:sc(i);for(var u=0,c=i.length;r!=null&&u<c;)r=r[Di(i[u++])];return u&&u==c?r:void 0}function S0(r){return In.call(r)}function A0(r,i){return r!=null&&i in Object(r)}function Fs(r,i,u,c,d){return r===i?!0:r==null||i==null||!Mi(r)&&!Li(i)?r!==r&&i!==i:x0(r,i,Fs,u,c,d)}function x0(r,i,u,c,d,_){var y=un(r),x=un(i),b=bs,P=bs;y||(b=Ht(r),b=b==Ai?Pn:b),x||(P=Ht(i),P=P==Ai?Pn:P);var T=b==Pn&&!Os(r),G=P==Pn&&!Os(i),W=b==P;if(W&&!T)return _||(_=new xt),y||H0(r)?uc(r,i,u,c,d,_):D0(r,i,b,u,c,d,_);if(!(d&Nn)){var R=T&&Ct.call(r,"__wrapped__"),L=G&&Ct.call(i,"__wrapped__");if(R||L){var z=R?r.value():r,le=L?i.value():i;return _||(_=new xt),u(z,le,c,d,_)}}return W?(_||(_=new xt),M0(r,i,u,c,d,_)):!1}function C0(r,i,u,c){var d=u.length,_=d,y=!c;if(r==null)return!_;for(r=Object(r);d--;){var x=u[d];if(y&&x[2]?x[1]!==r[x[0]]:!(x[0]in r))return!1}for(;++d<_;){x=u[d];var b=x[0],P=r[b],T=x[1];if(y&&x[2]){if(P===void 0&&!(b in r))return!1}else{var G=new xt;if(c)var W=c(P,T,b,r,i,G);if(!(W===void 0?Fs(T,P,c,Ti|Nn,G):W))return!1}}return!0}function b0(r){if(!Mi(r)||U0(r))return!1;var i=pc(r)||Os(r)?Gy:Oy;return i.test(an(r))}function E0(r){return Li(r)&&Ms(r.length)&&!!oe[In.call(r)]}function O0(r){return typeof r=="function"?r:r==null?Z0:typeof r=="object"?un(r)?N0(r[0],r[1]):T0(r):J0(r)}function P0(r){if(!k0(r))return zy(r);var i=[];for(var u in Object(r))Ct.call(r,u)&&u!="constructor"&&i.push(u);return i}function T0(r){var i=L0(r);return i.length==1&&i[0][2]?cc(i[0][0],i[0][1]):function(u){return u===r||C0(u,r,i)}}function N0(r,i){return Fi(r)&&fc(i)?cc(Di(r),i):function(u){var c=$0(u,r);return c===void 0&&c===i?q0(u,r):Fs(i,c,void 0,Ti|Nn)}}function I0(r){return function(i){return oc(i,r)}}function R0(r){if(typeof r=="string")return r;if(Ls(r))return zf?zf.call(r):"";var i=r+"";return i=="0"&&1/r==-$f?"-0":i}function sc(r){return un(r)?r:G0(r)}function F0(r){return function(i,u,c){for(var d=-1,_=Object(i),y=c(i),x=y.length;x--;){var b=y[r?x:++d];if(u(_[b],b,_)===!1)break}return i}}function uc(r,i,u,c,d,_){var y=d&Nn,x=r.length,b=i.length;if(x!=b&&!(y&&b>x))return!1;var P=_.get(r);if(P&&_.get(i))return P==i;var T=-1,G=!0,W=d&Ti?new Oi:void 0;for(_.set(r,i),_.set(i,r);++T<x;){var R=r[T],L=i[T];if(c)var z=y?c(L,R,T,i,r,_):c(R,L,T,r,i,_);if(z!==void 0){if(z)continue;G=!1;break}if(W){if(!Iy(i,function(le,I){if(!W.has(I)&&(R===le||u(R,le,c,d,_)))return W.add(I)})){G=!1;break}}else if(!(R===L||u(R,L,c,d,_))){G=!1;break}}return _.delete(r),_.delete(i),G}function D0(r,i,u,c,d,_,y){switch(u){case bi:if(r.byteLength!=i.byteLength||r.byteOffset!=i.byteOffset)return!1;r=r.buffer,i=i.buffer;case tc:return!(r.byteLength!=i.byteLength||!c(new Hf(r),new Hf(i)));case Yf:case Zf:case Qf:return lc(+r,+i);case Jf:return r.name==i.name&&r.message==i.message;case Vf:case jf:return r==i+"";case xi:var x=Ly;case Ci:var b=_&Nn;if(x||(x=By),r.size!=i.size&&!b)return!1;var P=y.get(r);if(P)return P==i;_|=Ti,y.set(r,i);var T=uc(x(r),x(i),c,d,_,y);return y.delete(r),T;case ec:if(Cs)return Cs.call(r)==Cs.call(i)}return!1}function M0(r,i,u,c,d,_){var y=d&Nn,x=Pi(r),b=x.length,P=Pi(i),T=P.length;if(b!=T&&!y)return!1;for(var G=b;G--;){var W=x[G];if(!(y?W in i:Ct.call(i,W)))return!1}var R=_.get(r);if(R&&_.get(i))return R==i;var L=!0;_.set(r,i),_.set(i,r);for(var z=y;++G<b;){W=x[G];var le=r[W],I=i[W];if(c)var te=y?c(I,le,W,i,r,_):c(le,I,W,r,i,_);if(!(te===void 0?le===I||u(le,I,c,d,_):te)){L=!1;break}z||(z=W=="constructor")}if(L&&!z){var Z=r.constructor,ae=i.constructor;Z!=ae&&"constructor"in r&&"constructor"in i&&!(typeof Z=="function"&&Z instanceof Z&&typeof ae=="function"&&ae instanceof ae)&&(L=!1)}return _.delete(r),_.delete(i),L}function Ri(r,i){var u=r.__data__;return B0(i)?u[typeof i=="string"?"string":"hash"]:u.map}function L0(r){for(var i=Pi(r),u=i.length;u--;){var c=i[u],d=r[c];i[u]=[c,d,fc(d)]}return i}function Rn(r,i){var u=My(r,i);return b0(u)?u:void 0}var Ht=S0;(Ps&&Ht(new Ps(new ArrayBuffer(1)))!=bi||lr&&Ht(new lr)!=xi||Ts&&Ht(Ts.resolve())!=Lf||Ns&&Ht(new Ns)!=Ci||Is&&Ht(new Is)!=Es)&&(Ht=function(r){var i=In.call(r),u=i==Pn?r.constructor:void 0,c=u?an(u):void 0;if(c)switch(c){case $y:return bi;case qy:return xi;case Yy:return Lf;case Zy:return Ci;case Jy:return Es}return i});function W0(r,i,u){i=Fi(i,r)?[i]:sc(i);for(var c,d=-1,y=i.length;++d<y;){var _=Di(i[d]);if(!(c=r!=null&&u(r,_)))break;r=r[_]}if(c)return c;var y=r?r.length:0;return!!y&&Ms(y)&&ac(_,y)&&(un(r)||hc(r))}function ac(r,i){return i=i??qf,!!i&&(typeof r=="number"||Py.test(r))&&r>-1&&r%1==0&&r<i}function Fi(r,i){if(un(r))return!1;var u=typeof r;return u=="number"||u=="symbol"||u=="boolean"||r==null||Ls(r)?!0:Ay.test(r)||!Sy.test(r)||i!=null&&r in Object(i)}function B0(r){var i=typeof r;return i=="string"||i=="number"||i=="symbol"||i=="boolean"?r!=="__proto__":r===null}function U0(r){return!!Gf&&Gf in r}function k0(r){var i=r&&r.constructor,u=typeof i=="function"&&i.prototype||Ni;return r===u}function fc(r){return r===r&&!Mi(r)}function cc(r,i){return function(u){return u==null?!1:u[r]===i&&(i!==void 0||r in Object(u))}}var G0=Ds(function(r){r=z0(r);var i=[];return xy.test(r)&&i.push(""),r.replace(Cy,function(u,c,d,_){i.push(d?_.replace(Ey,"$1"):c||u)}),i});function Di(r){if(typeof r=="string"||Ls(r))return r;var i=r+"";return i=="0"&&1/r==-$f?"-0":i}function an(r){if(r!=null){try{return ic.call(r)}catch{}try{return r+""}catch{}}return""}function Ds(r,i){if(typeof r!="function"||i&&typeof i!="function")throw new TypeError(cy);var u=function(){var c=arguments,d=i?i.apply(this,c):c[0],_=u.cache;if(_.has(d))return _.get(d);var y=r.apply(this,c);return u.cache=_.set(d,y),y};return u.cache=new(Ds.Cache||Et),u}Ds.Cache=Et;function lc(r,i){return r===i||r!==r&&i!==i}function hc(r){return K0(r)&&Ct.call(r,"callee")&&(!Ky.call(r,"callee")||In.call(r)==Ai)}var un=Array.isArray;function dc(r){return r!=null&&Ms(r.length)&&!pc(r)}function K0(r){return Li(r)&&dc(r)}function pc(r){var i=Mi(r)?In.call(r):"";return i==Xf||i==ly}function Ms(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=qf}function Mi(r){var i=typeof r;return!!r&&(i=="object"||i=="function")}function Li(r){return!!r&&typeof r=="object"}function Ls(r){return typeof r=="symbol"||Li(r)&&In.call(r)==ec}var H0=kf?Dy(kf):E0;function z0(r){return r==null?"":R0(r)}function $0(r,i,u){var c=r==null?void 0:oc(r,i);return c===void 0?u:c}function q0(r,i){return r!=null&&W0(r,i,A0)}function Pi(r){return dc(r)?v0(r):P0(r)}function Y0(r,i){var u={};return i=O0(i,3),w0(r,function(c,d,_){u[d]=i(c,d,_)}),u}function Z0(r){return r}function J0(r){return Fi(r)?Ry(Di(r)):I0(r)}Tn.exports=Y0});var Ac=at((Z1,Sc)=>{tt();Sc.exports=ce("NeosProjectPackages")().NeosUiEditors});var Dn=at((X1,xc)=>{tt();xc.exports=ce("vendor")().React});var dr=at((V1,Cc)=>{tt();Cc.exports=ce("vendor")().reactRedux});var pr=at((ew,bc)=>{tt();bc.exports=ce("vendor")().PropTypes});var gr=at((nw,Ec)=>{tt();Ec.exports=ce("NeosProjectPackages")().NeosUiDecorators});var _r=at((iw,Oc)=>{tt();Oc.exports=ce("NeosProjectPackages")().ReactUiComponents});var Ui=at((mw,Wc)=>{tt();Wc.exports=ce("vendor")().reduxSagaEffects});var Hc=at((Wn,yr)=>{(function(){var r,i="4.17.21",u=200,c="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",d="Expected a function",_="Invalid `variable` option passed into `_.template`",y="__lodash_hash_undefined__",x=500,b="__lodash_placeholder__",P=1,T=2,G=4,W=1,R=2,L=1,z=2,le=4,I=8,te=16,Z=32,ae=64,re=128,rt=256,j=512,he=30,ht="...",Qc=800,Vc=16,ks=1,jc=2,el=3,qt=1/0,Nt=9007199254740991,tl=17976931348623157e292,Ar=0/0,it=4294967295,nl=it-1,rl=it>>>1,il=[["ary",re],["bind",L],["bindKey",z],["curry",I],["curryRight",te],["flip",j],["partial",Z],["partialRight",ae],["rearg",rt]],ln="[object Arguments]",xr="[object Array]",ol="[object AsyncFunction]",Bn="[object Boolean]",Un="[object Date]",sl="[object DOMException]",Cr="[object Error]",br="[object Function]",Gs="[object GeneratorFunction]",Je="[object Map]",kn="[object Number]",ul="[object Null]",dt="[object Object]",Ks="[object Promise]",al="[object Proxy]",Gn="[object RegExp]",Xe="[object Set]",Kn="[object String]",Er="[object Symbol]",fl="[object Undefined]",Hn="[object WeakMap]",cl="[object WeakSet]",zn="[object ArrayBuffer]",hn="[object DataView]",Hi="[object Float32Array]",zi="[object Float64Array]",$i="[object Int8Array]",qi="[object Int16Array]",Yi="[object Int32Array]",Zi="[object Uint8Array]",Ji="[object Uint8ClampedArray]",Xi="[object Uint16Array]",Qi="[object Uint32Array]",ll=/\b__p \+= '';/g,hl=/\b(__p \+=) '' \+/g,dl=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Hs=/&(?:amp|lt|gt|quot|#39);/g,zs=/[&<>"']/g,pl=RegExp(Hs.source),gl=RegExp(zs.source),_l=/<%-([\s\S]+?)%>/g,ml=/<%([\s\S]+?)%>/g,$s=/<%=([\s\S]+?)%>/g,vl=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,yl=/^\w*$/,wl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Vi=/[\\^$.*+?()[\]{}|]/g,Sl=RegExp(Vi.source),ji=/^\s+/,Al=/\s/,xl=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Cl=/\{\n\/\* \[wrapped with (.+)\] \*/,bl=/,? & /,El=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ol=/[()=,{}\[\]\/\s]/,Pl=/\\(\\)?/g,Tl=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,qs=/\w*$/,Nl=/^[-+]0x[0-9a-f]+$/i,Il=/^0b[01]+$/i,Rl=/^\[object .+?Constructor\]$/,Fl=/^0o[0-7]+$/i,Dl=/^(?:0|[1-9]\d*)$/,Ml=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Or=/($^)/,Ll=/['\n\r\u2028\u2029\\]/g,Pr="\\ud800-\\udfff",Wl="\\u0300-\\u036f",Bl="\\ufe20-\\ufe2f",Ul="\\u20d0-\\u20ff",Ys=Wl+Bl+Ul,Zs="\\u2700-\\u27bf",Js="a-z\\xdf-\\xf6\\xf8-\\xff",kl="\\xac\\xb1\\xd7\\xf7",Gl="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Kl="\\u2000-\\u206f",Hl=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Xs="A-Z\\xc0-\\xd6\\xd8-\\xde",Qs="\\ufe0e\\ufe0f",Vs=kl+Gl+Kl+Hl,eo="['\u2019]",zl="["+Pr+"]",js="["+Vs+"]",Tr="["+Ys+"]",eu="\\d+",$l="["+Zs+"]",tu="["+Js+"]",nu="[^"+Pr+Vs+eu+Zs+Js+Xs+"]",to="\\ud83c[\\udffb-\\udfff]",ql="(?:"+Tr+"|"+to+")",ru="[^"+Pr+"]",no="(?:\\ud83c[\\udde6-\\uddff]){2}",ro="[\\ud800-\\udbff][\\udc00-\\udfff]",dn="["+Xs+"]",iu="\\u200d",ou="(?:"+tu+"|"+nu+")",Yl="(?:"+dn+"|"+nu+")",su="(?:"+eo+"(?:d|ll|m|re|s|t|ve))?",uu="(?:"+eo+"(?:D|LL|M|RE|S|T|VE))?",au=ql+"?",fu="["+Qs+"]?",Zl="(?:"+iu+"(?:"+[ru,no,ro].join("|")+")"+fu+au+")*",Jl="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Xl="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",cu=fu+au+Zl,Ql="(?:"+[$l,no,ro].join("|")+")"+cu,Vl="(?:"+[ru+Tr+"?",Tr,no,ro,zl].join("|")+")",jl=RegExp(eo,"g"),eh=RegExp(Tr,"g"),io=RegExp(to+"(?="+to+")|"+Vl+cu,"g"),th=RegExp([dn+"?"+tu+"+"+su+"(?="+[js,dn,"$"].join("|")+")",Yl+"+"+uu+"(?="+[js,dn+ou,"$"].join("|")+")",dn+"?"+ou+"+"+su,dn+"+"+uu,Xl,Jl,eu,Ql].join("|"),"g"),nh=RegExp("["+iu+Pr+Ys+Qs+"]"),rh=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,ih=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],oh=-1,ie={};ie[Hi]=ie[zi]=ie[$i]=ie[qi]=ie[Yi]=ie[Zi]=ie[Ji]=ie[Xi]=ie[Qi]=!0,ie[ln]=ie[xr]=ie[zn]=ie[Bn]=ie[hn]=ie[Un]=ie[Cr]=ie[br]=ie[Je]=ie[kn]=ie[dt]=ie[Gn]=ie[Xe]=ie[Kn]=ie[Hn]=!1;var ne={};ne[ln]=ne[xr]=ne[zn]=ne[hn]=ne[Bn]=ne[Un]=ne[Hi]=ne[zi]=ne[$i]=ne[qi]=ne[Yi]=ne[Je]=ne[kn]=ne[dt]=ne[Gn]=ne[Xe]=ne[Kn]=ne[Er]=ne[Zi]=ne[Ji]=ne[Xi]=ne[Qi]=!0,ne[Cr]=ne[br]=ne[Hn]=!1;var sh={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},uh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ah={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},fh={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},ch=parseFloat,lh=parseInt,lu=typeof global=="object"&&global&&global.Object===Object&&global,hh=typeof self=="object"&&self&&self.Object===Object&&self,me=lu||hh||Function("return this")(),oo=typeof Wn=="object"&&Wn&&!Wn.nodeType&&Wn,Yt=oo&&typeof yr=="object"&&yr&&!yr.nodeType&&yr,hu=Yt&&Yt.exports===oo,so=hu&&lu.process,Ge=function(){try{var p=Yt&&Yt.require&&Yt.require("util").types;return p||so&&so.binding&&so.binding("util")}catch{}}(),du=Ge&&Ge.isArrayBuffer,pu=Ge&&Ge.isDate,gu=Ge&&Ge.isMap,_u=Ge&&Ge.isRegExp,mu=Ge&&Ge.isSet,vu=Ge&&Ge.isTypedArray;function Fe(p,v,m){switch(m.length){case 0:return p.call(v);case 1:return p.call(v,m[0]);case 2:return p.call(v,m[0],m[1]);case 3:return p.call(v,m[0],m[1],m[2])}return p.apply(v,m)}function dh(p,v,m,E){for(var B=-1,X=p==null?0:p.length;++B<X;){var ge=p[B];v(E,ge,m(ge),p)}return E}function Ke(p,v){for(var m=-1,E=p==null?0:p.length;++m<E&&v(p[m],m,p)!==!1;);return p}function ph(p,v){for(var m=p==null?0:p.length;m--&&v(p[m],m,p)!==!1;);return p}function yu(p,v){for(var m=-1,E=p==null?0:p.length;++m<E;)if(!v(p[m],m,p))return!1;return!0}function It(p,v){for(var m=-1,E=p==null?0:p.length,B=0,X=[];++m<E;){var ge=p[m];v(ge,m,p)&&(X[B++]=ge)}return X}function Nr(p,v){var m=p==null?0:p.length;return!!m&&pn(p,v,0)>-1}function uo(p,v,m){for(var E=-1,B=p==null?0:p.length;++E<B;)if(m(v,p[E]))return!0;return!1}function se(p,v){for(var m=-1,E=p==null?0:p.length,B=Array(E);++m<E;)B[m]=v(p[m],m,p);return B}function Rt(p,v){for(var m=-1,E=v.length,B=p.length;++m<E;)p[B+m]=v[m];return p}function ao(p,v,m,E){var B=-1,X=p==null?0:p.length;for(E&&X&&(m=p[++B]);++B<X;)m=v(m,p[B],B,p);return m}function gh(p,v,m,E){var B=p==null?0:p.length;for(E&&B&&(m=p[--B]);B--;)m=v(m,p[B],B,p);return m}function fo(p,v){for(var m=-1,E=p==null?0:p.length;++m<E;)if(v(p[m],m,p))return!0;return!1}var _h=co("length");function mh(p){return p.split("")}function vh(p){return p.match(El)||[]}function wu(p,v,m){var E;return m(p,function(B,X,ge){if(v(B,X,ge))return E=X,!1}),E}function Ir(p,v,m,E){for(var B=p.length,X=m+(E?1:-1);E?X--:++X<B;)if(v(p[X],X,p))return X;return-1}function pn(p,v,m){return v===v?Nh(p,v,m):Ir(p,Su,m)}function yh(p,v,m,E){for(var B=m-1,X=p.length;++B<X;)if(E(p[B],v))return B;return-1}function Su(p){return p!==p}function Au(p,v){var m=p==null?0:p.length;return m?ho(p,v)/m:Ar}function co(p){return function(v){return v==null?r:v[p]}}function lo(p){return function(v){return p==null?r:p[v]}}function xu(p,v,m,E,B){return B(p,function(X,ge,ee){m=E?(E=!1,X):v(m,X,ge,ee)}),m}function wh(p,v){var m=p.length;for(p.sort(v);m--;)p[m]=p[m].value;return p}function ho(p,v){for(var m,E=-1,B=p.length;++E<B;){var X=v(p[E]);X!==r&&(m=m===r?X:m+X)}return m}function po(p,v){for(var m=-1,E=Array(p);++m<p;)E[m]=v(m);return E}function Sh(p,v){return se(v,function(m){return[m,p[m]]})}function Cu(p){return p&&p.slice(0,Pu(p)+1).replace(ji,"")}function De(p){return function(v){return p(v)}}function go(p,v){return se(v,function(m){return p[m]})}function $n(p,v){return p.has(v)}function bu(p,v){for(var m=-1,E=p.length;++m<E&&pn(v,p[m],0)>-1;);return m}function Eu(p,v){for(var m=p.length;m--&&pn(v,p[m],0)>-1;);return m}function Ah(p,v){for(var m=p.length,E=0;m--;)p[m]===v&&++E;return E}var xh=lo(sh),Ch=lo(uh);function bh(p){return"\\"+fh[p]}function Eh(p,v){return p==null?r:p[v]}function gn(p){return nh.test(p)}function Oh(p){return rh.test(p)}function Ph(p){for(var v,m=[];!(v=p.next()).done;)m.push(v.value);return m}function _o(p){var v=-1,m=Array(p.size);return p.forEach(function(E,B){m[++v]=[B,E]}),m}function Ou(p,v){return function(m){return p(v(m))}}function Ft(p,v){for(var m=-1,E=p.length,B=0,X=[];++m<E;){var ge=p[m];(ge===v||ge===b)&&(p[m]=b,X[B++]=m)}return X}function Rr(p){var v=-1,m=Array(p.size);return p.forEach(function(E){m[++v]=E}),m}function Th(p){var v=-1,m=Array(p.size);return p.forEach(function(E){m[++v]=[E,E]}),m}function Nh(p,v,m){for(var E=m-1,B=p.length;++E<B;)if(p[E]===v)return E;return-1}function Ih(p,v,m){for(var E=m+1;E--;)if(p[E]===v)return E;return E}function _n(p){return gn(p)?Fh(p):_h(p)}function Qe(p){return gn(p)?Dh(p):mh(p)}function Pu(p){for(var v=p.length;v--&&Al.test(p.charAt(v)););return v}var Rh=lo(ah);function Fh(p){for(var v=io.lastIndex=0;io.test(p);)++v;return v}function Dh(p){return p.match(io)||[]}function Mh(p){return p.match(th)||[]}var Lh=function p(v){v=v==null?me:Dt.defaults(me.Object(),v,Dt.pick(me,ih));var m=v.Array,E=v.Date,B=v.Error,X=v.Function,ge=v.Math,ee=v.Object,mo=v.RegExp,Wh=v.String,He=v.TypeError,Fr=m.prototype,Bh=X.prototype,mn=ee.prototype,Dr=v["__core-js_shared__"],Mr=Bh.toString,V=mn.hasOwnProperty,Uh=0,Tu=function(){var e=/[^.]+$/.exec(Dr&&Dr.keys&&Dr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Lr=mn.toString,kh=Mr.call(ee),Gh=me._,Kh=mo("^"+Mr.call(V).replace(Vi,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wr=hu?v.Buffer:r,Mt=v.Symbol,Br=v.Uint8Array,Nu=Wr?Wr.allocUnsafe:r,Ur=Ou(ee.getPrototypeOf,ee),Iu=ee.create,Ru=mn.propertyIsEnumerable,kr=Fr.splice,Fu=Mt?Mt.isConcatSpreadable:r,qn=Mt?Mt.iterator:r,Zt=Mt?Mt.toStringTag:r,Gr=function(){try{var e=jt(ee,"defineProperty");return e({},"",{}),e}catch{}}(),Hh=v.clearTimeout!==me.clearTimeout&&v.clearTimeout,zh=E&&E.now!==me.Date.now&&E.now,$h=v.setTimeout!==me.setTimeout&&v.setTimeout,Kr=ge.ceil,Hr=ge.floor,vo=ee.getOwnPropertySymbols,qh=Wr?Wr.isBuffer:r,Du=v.isFinite,Yh=Fr.join,Zh=Ou(ee.keys,ee),_e=ge.max,Ae=ge.min,Jh=E.now,Xh=v.parseInt,Mu=ge.random,Qh=Fr.reverse,yo=jt(v,"DataView"),Yn=jt(v,"Map"),wo=jt(v,"Promise"),vn=jt(v,"Set"),Zn=jt(v,"WeakMap"),Jn=jt(ee,"create"),zr=Zn&&new Zn,yn={},Vh=en(yo),jh=en(Yn),ed=en(wo),td=en(vn),nd=en(Zn),$r=Mt?Mt.prototype:r,Xn=$r?$r.valueOf:r,Lu=$r?$r.toString:r;function a(e){if(fe(e)&&!U(e)&&!(e instanceof q)){if(e instanceof ze)return e;if(V.call(e,"__wrapped__"))return Wa(e)}return new ze(e)}var wn=function(){function e(){}return function(t){if(!ue(t))return{};if(Iu)return Iu(t);e.prototype=t;var n=new e;return e.prototype=r,n}}();function qr(){}function ze(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}a.templateSettings={escape:_l,evaluate:ml,interpolate:$s,variable:"",imports:{_:a}},a.prototype=qr.prototype,a.prototype.constructor=a,ze.prototype=wn(qr.prototype),ze.prototype.constructor=ze;function q(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=it,this.__views__=[]}function rd(){var e=new q(this.__wrapped__);return e.__actions__=Te(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Te(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Te(this.__views__),e}function id(){if(this.__filtered__){var e=new q(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function od(){var e=this.__wrapped__.value(),t=this.__dir__,n=U(e),o=t<0,s=n?e.length:0,f=mp(0,s,this.__views__),l=f.start,h=f.end,g=h-l,w=o?h:l-1,S=this.__iteratees__,A=S.length,C=0,N=Ae(g,this.__takeCount__);if(!n||!o&&s==g&&N==g)return sa(e,this.__actions__);var D=[];e:for(;g--&&C<N;){w+=t;for(var K=-1,M=e[w];++K<A;){var $=S[K],J=$.iteratee,We=$.type,Oe=J(M);if(We==jc)M=Oe;else if(!Oe){if(We==ks)continue e;break e}}D[C++]=M}return D}q.prototype=wn(qr.prototype),q.prototype.constructor=q;function Jt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function sd(){this.__data__=Jn?Jn(null):{},this.size=0}function ud(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function ad(e){var t=this.__data__;if(Jn){var n=t[e];return n===y?r:n}return V.call(t,e)?t[e]:r}function fd(e){var t=this.__data__;return Jn?t[e]!==r:V.call(t,e)}function cd(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Jn&&t===r?y:t,this}Jt.prototype.clear=sd,Jt.prototype.delete=ud,Jt.prototype.get=ad,Jt.prototype.has=fd,Jt.prototype.set=cd;function pt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function ld(){this.__data__=[],this.size=0}function hd(e){var t=this.__data__,n=Yr(t,e);if(n<0)return!1;var o=t.length-1;return n==o?t.pop():kr.call(t,n,1),--this.size,!0}function dd(e){var t=this.__data__,n=Yr(t,e);return n<0?r:t[n][1]}function pd(e){return Yr(this.__data__,e)>-1}function gd(e,t){var n=this.__data__,o=Yr(n,e);return o<0?(++this.size,n.push([e,t])):n[o][1]=t,this}pt.prototype.clear=ld,pt.prototype.delete=hd,pt.prototype.get=dd,pt.prototype.has=pd,pt.prototype.set=gd;function gt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var o=e[t];this.set(o[0],o[1])}}function _d(){this.size=0,this.__data__={hash:new Jt,map:new(Yn||pt),string:new Jt}}function md(e){var t=oi(this,e).delete(e);return this.size-=t?1:0,t}function vd(e){return oi(this,e).get(e)}function yd(e){return oi(this,e).has(e)}function wd(e,t){var n=oi(this,e),o=n.size;return n.set(e,t),this.size+=n.size==o?0:1,this}gt.prototype.clear=_d,gt.prototype.delete=md,gt.prototype.get=vd,gt.prototype.has=yd,gt.prototype.set=wd;function Xt(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new gt;++t<n;)this.add(e[t])}function Sd(e){return this.__data__.set(e,y),this}function Ad(e){return this.__data__.has(e)}Xt.prototype.add=Xt.prototype.push=Sd,Xt.prototype.has=Ad;function Ve(e){var t=this.__data__=new pt(e);this.size=t.size}function xd(){this.__data__=new pt,this.size=0}function Cd(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function bd(e){return this.__data__.get(e)}function Ed(e){return this.__data__.has(e)}function Od(e,t){var n=this.__data__;if(n instanceof pt){var o=n.__data__;if(!Yn||o.length<u-1)return o.push([e,t]),this.size=++n.size,this;n=this.__data__=new gt(o)}return n.set(e,t),this.size=n.size,this}Ve.prototype.clear=xd,Ve.prototype.delete=Cd,Ve.prototype.get=bd,Ve.prototype.has=Ed,Ve.prototype.set=Od;function Wu(e,t){var n=U(e),o=!n&&tn(e),s=!n&&!o&&kt(e),f=!n&&!o&&!s&&Cn(e),l=n||o||s||f,h=l?po(e.length,Wh):[],g=h.length;for(var w in e)(t||V.call(e,w))&&!(l&&(w=="length"||s&&(w=="offset"||w=="parent")||f&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||yt(w,g)))&&h.push(w);return h}function Bu(e){var t=e.length;return t?e[Io(0,t-1)]:r}function Pd(e,t){return si(Te(e),Qt(t,0,e.length))}function Td(e){return si(Te(e))}function So(e,t,n){(n!==r&&!je(e[t],n)||n===r&&!(t in e))&&_t(e,t,n)}function Qn(e,t,n){var o=e[t];(!(V.call(e,t)&&je(o,n))||n===r&&!(t in e))&&_t(e,t,n)}function Yr(e,t){for(var n=e.length;n--;)if(je(e[n][0],t))return n;return-1}function Nd(e,t,n,o){return Lt(e,function(s,f,l){t(o,s,n(s),l)}),o}function Uu(e,t){return e&&st(t,ve(t),e)}function Id(e,t){return e&&st(t,Ie(t),e)}function _t(e,t,n){t=="__proto__"&&Gr?Gr(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Ao(e,t){for(var n=-1,o=t.length,s=m(o),f=e==null;++n<o;)s[n]=f?r:ns(e,t[n]);return s}function Qt(e,t,n){return e===e&&(n!==r&&(e=e<=n?e:n),t!==r&&(e=e>=t?e:t)),e}function $e(e,t,n,o,s,f){var l,h=t&P,g=t&T,w=t&G;if(n&&(l=s?n(e,o,s,f):n(e)),l!==r)return l;if(!ue(e))return e;var S=U(e);if(S){if(l=yp(e),!h)return Te(e,l)}else{var A=xe(e),C=A==br||A==Gs;if(kt(e))return fa(e,h);if(A==dt||A==ln||C&&!s){if(l=g||C?{}:Pa(e),!h)return g?ap(e,Id(l,e)):up(e,Uu(l,e))}else{if(!ne[A])return s?e:{};l=wp(e,A,h)}}f||(f=new Ve);var N=f.get(e);if(N)return N;f.set(e,l),rf(e)?e.forEach(function(M){l.add($e(M,t,n,M,e,f))}):tf(e)&&e.forEach(function(M,$){l.set($,$e(M,t,n,$,e,f))});var D=w?g?Ko:Go:g?Ie:ve,K=S?r:D(e);return Ke(K||e,function(M,$){K&&($=M,M=e[$]),Qn(l,$,$e(M,t,n,$,e,f))}),l}function Rd(e){var t=ve(e);return function(n){return ku(n,e,t)}}function ku(e,t,n){var o=n.length;if(e==null)return!o;for(e=ee(e);o--;){var s=n[o],f=t[s],l=e[s];if(l===r&&!(s in e)||!f(l))return!1}return!0}function Gu(e,t,n){if(typeof e!="function")throw new He(d);return ir(function(){e.apply(r,n)},t)}function Vn(e,t,n,o){var s=-1,f=Nr,l=!0,h=e.length,g=[],w=t.length;if(!h)return g;n&&(t=se(t,De(n))),o?(f=uo,l=!1):t.length>=u&&(f=$n,l=!1,t=new Xt(t));e:for(;++s<h;){var S=e[s],A=n==null?S:n(S);if(S=o||S!==0?S:0,l&&A===A){for(var C=w;C--;)if(t[C]===A)continue e;g.push(S)}else f(t,A,o)||g.push(S)}return g}var Lt=pa(ot),Ku=pa(Co,!0);function Fd(e,t){var n=!0;return Lt(e,function(o,s,f){return n=!!t(o,s,f),n}),n}function Zr(e,t,n){for(var o=-1,s=e.length;++o<s;){var f=e[o],l=t(f);if(l!=null&&(h===r?l===l&&!Le(l):n(l,h)))var h=l,g=f}return g}function Dd(e,t,n,o){var s=e.length;for(n=k(n),n<0&&(n=-n>s?0:s+n),o=o===r||o>s?s:k(o),o<0&&(o+=s),o=n>o?0:sf(o);n<o;)e[n++]=t;return e}function Hu(e,t){var n=[];return Lt(e,function(o,s,f){t(o,s,f)&&n.push(o)}),n}function Se(e,t,n,o,s){var f=-1,l=e.length;for(n||(n=Ap),s||(s=[]);++f<l;){var h=e[f];t>0&&n(h)?t>1?Se(h,t-1,n,o,s):Rt(s,h):o||(s[s.length]=h)}return s}var xo=ga(),zu=ga(!0);function ot(e,t){return e&&xo(e,t,ve)}function Co(e,t){return e&&zu(e,t,ve)}function Jr(e,t){return It(t,function(n){return wt(e[n])})}function Vt(e,t){t=Bt(t,e);for(var n=0,o=t.length;e!=null&&n<o;)e=e[ut(t[n++])];return n&&n==o?e:r}function $u(e,t,n){var o=t(e);return U(e)?o:Rt(o,n(e))}function be(e){return e==null?e===r?fl:ul:Zt&&Zt in ee(e)?_p(e):Tp(e)}function bo(e,t){return e>t}function Md(e,t){return e!=null&&V.call(e,t)}function Ld(e,t){return e!=null&&t in ee(e)}function Wd(e,t,n){return e>=Ae(t,n)&&e<_e(t,n)}function Eo(e,t,n){for(var o=n?uo:Nr,s=e[0].length,f=e.length,l=f,h=m(f),g=1/0,w=[];l--;){var S=e[l];l&&t&&(S=se(S,De(t))),g=Ae(S.length,g),h[l]=!n&&(t||s>=120&&S.length>=120)?new Xt(l&&S):r}S=e[0];var A=-1,C=h[0];e:for(;++A<s&&w.length<g;){var N=S[A],D=t?t(N):N;if(N=n||N!==0?N:0,!(C?$n(C,D):o(w,D,n))){for(l=f;--l;){var K=h[l];if(!(K?$n(K,D):o(e[l],D,n)))continue e}C&&C.push(D),w.push(N)}}return w}function Bd(e,t,n,o){return ot(e,function(s,f,l){t(o,n(s),f,l)}),o}function jn(e,t,n){t=Bt(t,e),e=Ra(e,t);var o=e==null?e:e[ut(Ye(t))];return o==null?r:Fe(o,e,n)}function qu(e){return fe(e)&&be(e)==ln}function Ud(e){return fe(e)&&be(e)==zn}function kd(e){return fe(e)&&be(e)==Un}function er(e,t,n,o,s){return e===t?!0:e==null||t==null||!fe(e)&&!fe(t)?e!==e&&t!==t:Gd(e,t,n,o,er,s)}function Gd(e,t,n,o,s,f){var l=U(e),h=U(t),g=l?xr:xe(e),w=h?xr:xe(t);g=g==ln?dt:g,w=w==ln?dt:w;var S=g==dt,A=w==dt,C=g==w;if(C&&kt(e)){if(!kt(t))return!1;l=!0,S=!1}if(C&&!S)return f||(f=new Ve),l||Cn(e)?ba(e,t,n,o,s,f):pp(e,t,g,n,o,s,f);if(!(n&W)){var N=S&&V.call(e,"__wrapped__"),D=A&&V.call(t,"__wrapped__");if(N||D){var K=N?e.value():e,M=D?t.value():t;return f||(f=new Ve),s(K,M,n,o,f)}}return C?(f||(f=new Ve),gp(e,t,n,o,s,f)):!1}function Kd(e){return fe(e)&&xe(e)==Je}function Oo(e,t,n,o){var s=n.length,f=s,l=!o;if(e==null)return!f;for(e=ee(e);s--;){var h=n[s];if(l&&h[2]?h[1]!==e[h[0]]:!(h[0]in e))return!1}for(;++s<f;){h=n[s];var g=h[0],w=e[g],S=h[1];if(l&&h[2]){if(w===r&&!(g in e))return!1}else{var A=new Ve;if(o)var C=o(w,S,g,e,t,A);if(!(C===r?er(S,w,W|R,o,A):C))return!1}}return!0}function Yu(e){if(!ue(e)||Cp(e))return!1;var t=wt(e)?Kh:Rl;return t.test(en(e))}function Hd(e){return fe(e)&&be(e)==Gn}function zd(e){return fe(e)&&xe(e)==Xe}function $d(e){return fe(e)&&hi(e.length)&&!!ie[be(e)]}function Zu(e){return typeof e=="function"?e:e==null?Re:typeof e=="object"?U(e)?Qu(e[0],e[1]):Xu(e):mf(e)}function Po(e){if(!rr(e))return Zh(e);var t=[];for(var n in ee(e))V.call(e,n)&&n!="constructor"&&t.push(n);return t}function qd(e){if(!ue(e))return Pp(e);var t=rr(e),n=[];for(var o in e)o=="constructor"&&(t||!V.call(e,o))||n.push(o);return n}function To(e,t){return e<t}function Ju(e,t){var n=-1,o=Ne(e)?m(e.length):[];return Lt(e,function(s,f,l){o[++n]=t(s,f,l)}),o}function Xu(e){var t=zo(e);return t.length==1&&t[0][2]?Na(t[0][0],t[0][1]):function(n){return n===e||Oo(n,e,t)}}function Qu(e,t){return qo(e)&&Ta(t)?Na(ut(e),t):function(n){var o=ns(n,e);return o===r&&o===t?rs(n,e):er(t,o,W|R)}}function Xr(e,t,n,o,s){e!==t&&xo(t,function(f,l){if(s||(s=new Ve),ue(f))Yd(e,t,l,n,Xr,o,s);else{var h=o?o(Zo(e,l),f,l+"",e,t,s):r;h===r&&(h=f),So(e,l,h)}},Ie)}function Yd(e,t,n,o,s,f,l){var h=Zo(e,n),g=Zo(t,n),w=l.get(g);if(w){So(e,n,w);return}var S=f?f(h,g,n+"",e,t,l):r,A=S===r;if(A){var C=U(g),N=!C&&kt(g),D=!C&&!N&&Cn(g);S=g,C||N||D?U(h)?S=h:de(h)?S=Te(h):N?(A=!1,S=fa(g,!0)):D?(A=!1,S=ca(g,!0)):S=[]:or(g)||tn(g)?(S=h,tn(h)?S=uf(h):(!ue(h)||wt(h))&&(S=Pa(g))):A=!1}A&&(l.set(g,S),s(S,g,o,f,l),l.delete(g)),So(e,n,S)}function Vu(e,t){var n=e.length;if(n)return t+=t<0?n:0,yt(t,n)?e[t]:r}function ju(e,t,n){t.length?t=se(t,function(f){return U(f)?function(l){return Vt(l,f.length===1?f[0]:f)}:f}):t=[Re];var o=-1;t=se(t,De(F()));var s=Ju(e,function(f,l,h){var g=se(t,function(w){return w(f)});return{criteria:g,index:++o,value:f}});return wh(s,function(f,l){return sp(f,l,n)})}function Zd(e,t){return ea(e,t,function(n,o){return rs(e,o)})}function ea(e,t,n){for(var o=-1,s=t.length,f={};++o<s;){var l=t[o],h=Vt(e,l);n(h,l)&&tr(f,Bt(l,e),h)}return f}function Jd(e){return function(t){return Vt(t,e)}}function No(e,t,n,o){var s=o?yh:pn,f=-1,l=t.length,h=e;for(e===t&&(t=Te(t)),n&&(h=se(e,De(n)));++f<l;)for(var g=0,w=t[f],S=n?n(w):w;(g=s(h,S,g,o))>-1;)h!==e&&kr.call(h,g,1),kr.call(e,g,1);return e}function ta(e,t){for(var n=e?t.length:0,o=n-1;n--;){var s=t[n];if(n==o||s!==f){var f=s;yt(s)?kr.call(e,s,1):Do(e,s)}}return e}function Io(e,t){return e+Hr(Mu()*(t-e+1))}function Xd(e,t,n,o){for(var s=-1,f=_e(Kr((t-e)/(n||1)),0),l=m(f);f--;)l[o?f:++s]=e,e+=n;return l}function Ro(e,t){var n="";if(!e||t<1||t>Nt)return n;do t%2&&(n+=e),t=Hr(t/2),t&&(e+=e);while(t);return n}function H(e,t){return Jo(Ia(e,t,Re),e+"")}function Qd(e){return Bu(bn(e))}function Vd(e,t){var n=bn(e);return si(n,Qt(t,0,n.length))}function tr(e,t,n,o){if(!ue(e))return e;t=Bt(t,e);for(var s=-1,f=t.length,l=f-1,h=e;h!=null&&++s<f;){var g=ut(t[s]),w=n;if(g==="__proto__"||g==="constructor"||g==="prototype")return e;if(s!=l){var S=h[g];w=o?o(S,g,h):r,w===r&&(w=ue(S)?S:yt(t[s+1])?[]:{})}Qn(h,g,w),h=h[g]}return e}var na=zr?function(e,t){return zr.set(e,t),e}:Re,jd=Gr?function(e,t){return Gr(e,"toString",{configurable:!0,enumerable:!1,value:os(t),writable:!0})}:Re;function ep(e){return si(bn(e))}function qe(e,t,n){var o=-1,s=e.length;t<0&&(t=-t>s?0:s+t),n=n>s?s:n,n<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var f=m(s);++o<s;)f[o]=e[o+t];return f}function tp(e,t){var n;return Lt(e,function(o,s,f){return n=t(o,s,f),!n}),!!n}function Qr(e,t,n){var o=0,s=e==null?o:e.length;if(typeof t=="number"&&t===t&&s<=rl){for(;o<s;){var f=o+s>>>1,l=e[f];l!==null&&!Le(l)&&(n?l<=t:l<t)?o=f+1:s=f}return s}return Fo(e,t,Re,n)}function Fo(e,t,n,o){var s=0,f=e==null?0:e.length;if(f===0)return 0;t=n(t);for(var l=t!==t,h=t===null,g=Le(t),w=t===r;s<f;){var S=Hr((s+f)/2),A=n(e[S]),C=A!==r,N=A===null,D=A===A,K=Le(A);if(l)var M=o||D;else w?M=D&&(o||C):h?M=D&&C&&(o||!N):g?M=D&&C&&!N&&(o||!K):N||K?M=!1:M=o?A<=t:A<t;M?s=S+1:f=S}return Ae(f,nl)}function ra(e,t){for(var n=-1,o=e.length,s=0,f=[];++n<o;){var l=e[n],h=t?t(l):l;if(!n||!je(h,g)){var g=h;f[s++]=l===0?0:l}}return f}function ia(e){return typeof e=="number"?e:Le(e)?Ar:+e}function Me(e){if(typeof e=="string")return e;if(U(e))return se(e,Me)+"";if(Le(e))return Lu?Lu.call(e):"";var t=e+"";return t=="0"&&1/e==-qt?"-0":t}function Wt(e,t,n){var o=-1,s=Nr,f=e.length,l=!0,h=[],g=h;if(n)l=!1,s=uo;else if(f>=u){var w=t?null:hp(e);if(w)return Rr(w);l=!1,s=$n,g=new Xt}else g=t?[]:h;e:for(;++o<f;){var S=e[o],A=t?t(S):S;if(S=n||S!==0?S:0,l&&A===A){for(var C=g.length;C--;)if(g[C]===A)continue e;t&&g.push(A),h.push(S)}else s(g,A,n)||(g!==h&&g.push(A),h.push(S))}return h}function Do(e,t){return t=Bt(t,e),e=Ra(e,t),e==null||delete e[ut(Ye(t))]}function oa(e,t,n,o){return tr(e,t,n(Vt(e,t)),o)}function Vr(e,t,n,o){for(var s=e.length,f=o?s:-1;(o?f--:++f<s)&&t(e[f],f,e););return n?qe(e,o?0:f,o?f+1:s):qe(e,o?f+1:0,o?s:f)}function sa(e,t){var n=e;return n instanceof q&&(n=n.value()),ao(t,function(o,s){return s.func.apply(s.thisArg,Rt([o],s.args))},n)}function Mo(e,t,n){var o=e.length;if(o<2)return o?Wt(e[0]):[];for(var s=-1,f=m(o);++s<o;)for(var l=e[s],h=-1;++h<o;)h!=s&&(f[s]=Vn(f[s]||l,e[h],t,n));return Wt(Se(f,1),t,n)}function ua(e,t,n){for(var o=-1,s=e.length,f=t.length,l={};++o<s;){var h=o<f?t[o]:r;n(l,e[o],h)}return l}function Lo(e){return de(e)?e:[]}function Wo(e){return typeof e=="function"?e:Re}function Bt(e,t){return U(e)?e:qo(e,t)?[e]:La(Q(e))}var np=H;function Ut(e,t,n){var o=e.length;return n=n===r?o:n,!t&&n>=o?e:qe(e,t,n)}var aa=Hh||function(e){return me.clearTimeout(e)};function fa(e,t){if(t)return e.slice();var n=e.length,o=Nu?Nu(n):new e.constructor(n);return e.copy(o),o}function Bo(e){var t=new e.constructor(e.byteLength);return new Br(t).set(new Br(e)),t}function rp(e,t){var n=t?Bo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function ip(e){var t=new e.constructor(e.source,qs.exec(e));return t.lastIndex=e.lastIndex,t}function op(e){return Xn?ee(Xn.call(e)):{}}function ca(e,t){var n=t?Bo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function la(e,t){if(e!==t){var n=e!==r,o=e===null,s=e===e,f=Le(e),l=t!==r,h=t===null,g=t===t,w=Le(t);if(!h&&!w&&!f&&e>t||f&&l&&g&&!h&&!w||o&&l&&g||!n&&g||!s)return 1;if(!o&&!f&&!w&&e<t||w&&n&&s&&!o&&!f||h&&n&&s||!l&&s||!g)return-1}return 0}function sp(e,t,n){for(var o=-1,s=e.criteria,f=t.criteria,l=s.length,h=n.length;++o<l;){var g=la(s[o],f[o]);if(g){if(o>=h)return g;var w=n[o];return g*(w=="desc"?-1:1)}}return e.index-t.index}function ha(e,t,n,o){for(var s=-1,f=e.length,l=n.length,h=-1,g=t.length,w=_e(f-l,0),S=m(g+w),A=!o;++h<g;)S[h]=t[h];for(;++s<l;)(A||s<f)&&(S[n[s]]=e[s]);for(;w--;)S[h++]=e[s++];return S}function da(e,t,n,o){for(var s=-1,f=e.length,l=-1,h=n.length,g=-1,w=t.length,S=_e(f-h,0),A=m(S+w),C=!o;++s<S;)A[s]=e[s];for(var N=s;++g<w;)A[N+g]=t[g];for(;++l<h;)(C||s<f)&&(A[N+n[l]]=e[s++]);return A}function Te(e,t){var n=-1,o=e.length;for(t||(t=m(o));++n<o;)t[n]=e[n];return t}function st(e,t,n,o){var s=!n;n||(n={});for(var f=-1,l=t.length;++f<l;){var h=t[f],g=o?o(n[h],e[h],h,n,e):r;g===r&&(g=e[h]),s?_t(n,h,g):Qn(n,h,g)}return n}function up(e,t){return st(e,$o(e),t)}function ap(e,t){return st(e,Ea(e),t)}function jr(e,t){return function(n,o){var s=U(n)?dh:Nd,f=t?t():{};return s(n,e,F(o,2),f)}}function Sn(e){return H(function(t,n){var o=-1,s=n.length,f=s>1?n[s-1]:r,l=s>2?n[2]:r;for(f=e.length>3&&typeof f=="function"?(s--,f):r,l&&Ee(n[0],n[1],l)&&(f=s<3?r:f,s=1),t=ee(t);++o<s;){var h=n[o];h&&e(t,h,o,f)}return t})}function pa(e,t){return function(n,o){if(n==null)return n;if(!Ne(n))return e(n,o);for(var s=n.length,f=t?s:-1,l=ee(n);(t?f--:++f<s)&&o(l[f],f,l)!==!1;);return n}}function ga(e){return function(t,n,o){for(var s=-1,f=ee(t),l=o(t),h=l.length;h--;){var g=l[e?h:++s];if(n(f[g],g,f)===!1)break}return t}}function fp(e,t,n){var o=t&L,s=nr(e);function f(){var l=this&&this!==me&&this instanceof f?s:e;return l.apply(o?n:this,arguments)}return f}function _a(e){return function(t){t=Q(t);var n=gn(t)?Qe(t):r,o=n?n[0]:t.charAt(0),s=n?Ut(n,1).join(""):t.slice(1);return o[e]()+s}}function An(e){return function(t){return ao(gf(pf(t).replace(jl,"")),e,"")}}function nr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=wn(e.prototype),o=e.apply(n,t);return ue(o)?o:n}}function cp(e,t,n){var o=nr(e);function s(){for(var f=arguments.length,l=m(f),h=f,g=xn(s);h--;)l[h]=arguments[h];var w=f<3&&l[0]!==g&&l[f-1]!==g?[]:Ft(l,g);if(f-=w.length,f<n)return Sa(e,t,ei,s.placeholder,r,l,w,r,r,n-f);var S=this&&this!==me&&this instanceof s?o:e;return Fe(S,this,l)}return s}function ma(e){return function(t,n,o){var s=ee(t);if(!Ne(t)){var f=F(n,3);t=ve(t),n=function(h){return f(s[h],h,s)}}var l=e(t,n,o);return l>-1?s[f?t[l]:l]:r}}function va(e){return vt(function(t){var n=t.length,o=n,s=ze.prototype.thru;for(e&&t.reverse();o--;){var f=t[o];if(typeof f!="function")throw new He(d);if(s&&!l&&ii(f)=="wrapper")var l=new ze([],!0)}for(o=l?o:n;++o<n;){f=t[o];var h=ii(f),g=h=="wrapper"?Ho(f):r;g&&Yo(g[0])&&g[1]==(re|I|Z|rt)&&!g[4].length&&g[9]==1?l=l[ii(g[0])].apply(l,g[3]):l=f.length==1&&Yo(f)?l[h]():l.thru(f)}return function(){var w=arguments,S=w[0];if(l&&w.length==1&&U(S))return l.plant(S).value();for(var A=0,C=n?t[A].apply(this,w):S;++A<n;)C=t[A].call(this,C);return C}})}function ei(e,t,n,o,s,f,l,h,g,w){var S=t&re,A=t&L,C=t&z,N=t&(I|te),D=t&j,K=C?r:nr(e);function M(){for(var $=arguments.length,J=m($),We=$;We--;)J[We]=arguments[We];if(N)var Oe=xn(M),Be=Ah(J,Oe);if(o&&(J=ha(J,o,s,N)),f&&(J=da(J,f,l,N)),$-=Be,N&&$<w){var pe=Ft(J,Oe);return Sa(e,t,ei,M.placeholder,n,J,pe,h,g,w-$)}var et=A?n:this,At=C?et[e]:e;return $=J.length,h?J=Np(J,h):D&&$>1&&J.reverse(),S&&g<$&&(J.length=g),this&&this!==me&&this instanceof M&&(At=K||nr(At)),At.apply(et,J)}return M}function ya(e,t){return function(n,o){return Bd(n,e,t(o),{})}}function ti(e,t){return function(n,o){var s;if(n===r&&o===r)return t;if(n!==r&&(s=n),o!==r){if(s===r)return o;typeof n=="string"||typeof o=="string"?(n=Me(n),o=Me(o)):(n=ia(n),o=ia(o)),s=e(n,o)}return s}}function Uo(e){return vt(function(t){return t=se(t,De(F())),H(function(n){var o=this;return e(t,function(s){return Fe(s,o,n)})})})}function ni(e,t){t=t===r?" ":Me(t);var n=t.length;if(n<2)return n?Ro(t,e):t;var o=Ro(t,Kr(e/_n(t)));return gn(t)?Ut(Qe(o),0,e).join(""):o.slice(0,e)}function lp(e,t,n,o){var s=t&L,f=nr(e);function l(){for(var h=-1,g=arguments.length,w=-1,S=o.length,A=m(S+g),C=this&&this!==me&&this instanceof l?f:e;++w<S;)A[w]=o[w];for(;g--;)A[w++]=arguments[++h];return Fe(C,s?n:this,A)}return l}function wa(e){return function(t,n,o){return o&&typeof o!="number"&&Ee(t,n,o)&&(n=o=r),t=St(t),n===r?(n=t,t=0):n=St(n),o=o===r?t<n?1:-1:St(o),Xd(t,n,o,e)}}function ri(e){return function(t,n){return typeof t=="string"&&typeof n=="string"||(t=Ze(t),n=Ze(n)),e(t,n)}}function Sa(e,t,n,o,s,f,l,h,g,w){var S=t&I,A=S?l:r,C=S?r:l,N=S?f:r,D=S?r:f;t|=S?Z:ae,t&=~(S?ae:Z),t&le||(t&=~(L|z));var K=[e,t,s,N,A,D,C,h,g,w],M=n.apply(r,K);return Yo(e)&&Fa(M,K),M.placeholder=o,Da(M,e,t)}function ko(e){var t=ge[e];return function(n,o){if(n=Ze(n),o=o==null?0:Ae(k(o),292),o&&Du(n)){var s=(Q(n)+"e").split("e"),f=t(s[0]+"e"+(+s[1]+o));return s=(Q(f)+"e").split("e"),+(s[0]+"e"+(+s[1]-o))}return t(n)}}var hp=vn&&1/Rr(new vn([,-0]))[1]==qt?function(e){return new vn(e)}:as;function Aa(e){return function(t){var n=xe(t);return n==Je?_o(t):n==Xe?Th(t):Sh(t,e(t))}}function mt(e,t,n,o,s,f,l,h){var g=t&z;if(!g&&typeof e!="function")throw new He(d);var w=o?o.length:0;if(w||(t&=~(Z|ae),o=s=r),l=l===r?l:_e(k(l),0),h=h===r?h:k(h),w-=s?s.length:0,t&ae){var S=o,A=s;o=s=r}var C=g?r:Ho(e),N=[e,t,n,o,s,S,A,f,l,h];if(C&&Op(N,C),e=N[0],t=N[1],n=N[2],o=N[3],s=N[4],h=N[9]=N[9]===r?g?0:e.length:_e(N[9]-w,0),!h&&t&(I|te)&&(t&=~(I|te)),!t||t==L)var D=fp(e,t,n);else t==I||t==te?D=cp(e,t,h):(t==Z||t==(L|Z))&&!s.length?D=lp(e,t,n,o):D=ei.apply(r,N);var K=C?na:Fa;return Da(K(D,N),e,t)}function xa(e,t,n,o){return e===r||je(e,mn[n])&&!V.call(o,n)?t:e}function Ca(e,t,n,o,s,f){return ue(e)&&ue(t)&&(f.set(t,e),Xr(e,t,r,Ca,f),f.delete(t)),e}function dp(e){return or(e)?r:e}function ba(e,t,n,o,s,f){var l=n&W,h=e.length,g=t.length;if(h!=g&&!(l&&g>h))return!1;var w=f.get(e),S=f.get(t);if(w&&S)return w==t&&S==e;var A=-1,C=!0,N=n&R?new Xt:r;for(f.set(e,t),f.set(t,e);++A<h;){var D=e[A],K=t[A];if(o)var M=l?o(K,D,A,t,e,f):o(D,K,A,e,t,f);if(M!==r){if(M)continue;C=!1;break}if(N){if(!fo(t,function($,J){if(!$n(N,J)&&(D===$||s(D,$,n,o,f)))return N.push(J)})){C=!1;break}}else if(!(D===K||s(D,K,n,o,f))){C=!1;break}}return f.delete(e),f.delete(t),C}function pp(e,t,n,o,s,f,l){switch(n){case hn:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case zn:return!(e.byteLength!=t.byteLength||!f(new Br(e),new Br(t)));case Bn:case Un:case kn:return je(+e,+t);case Cr:return e.name==t.name&&e.message==t.message;case Gn:case Kn:return e==t+"";case Je:var h=_o;case Xe:var g=o&W;if(h||(h=Rr),e.size!=t.size&&!g)return!1;var w=l.get(e);if(w)return w==t;o|=R,l.set(e,t);var S=ba(h(e),h(t),o,s,f,l);return l.delete(e),S;case Er:if(Xn)return Xn.call(e)==Xn.call(t)}return!1}function gp(e,t,n,o,s,f){var l=n&W,h=Go(e),g=h.length,w=Go(t),S=w.length;if(g!=S&&!l)return!1;for(var A=g;A--;){var C=h[A];if(!(l?C in t:V.call(t,C)))return!1}var N=f.get(e),D=f.get(t);if(N&&D)return N==t&&D==e;var K=!0;f.set(e,t),f.set(t,e);for(var M=l;++A<g;){C=h[A];var $=e[C],J=t[C];if(o)var We=l?o(J,$,C,t,e,f):o($,J,C,e,t,f);if(!(We===r?$===J||s($,J,n,o,f):We)){K=!1;break}M||(M=C=="constructor")}if(K&&!M){var Oe=e.constructor,Be=t.constructor;Oe!=Be&&"constructor"in e&&"constructor"in t&&!(typeof Oe=="function"&&Oe instanceof Oe&&typeof Be=="function"&&Be instanceof Be)&&(K=!1)}return f.delete(e),f.delete(t),K}function vt(e){return Jo(Ia(e,r,ka),e+"")}function Go(e){return $u(e,ve,$o)}function Ko(e){return $u(e,Ie,Ea)}var Ho=zr?function(e){return zr.get(e)}:as;function ii(e){for(var t=e.name+"",n=yn[t],o=V.call(yn,t)?n.length:0;o--;){var s=n[o],f=s.func;if(f==null||f==e)return s.name}return t}function xn(e){var t=V.call(a,"placeholder")?a:e;return t.placeholder}function F(){var e=a.iteratee||ss;return e=e===ss?Zu:e,arguments.length?e(arguments[0],arguments[1]):e}function oi(e,t){var n=e.__data__;return xp(t)?n[typeof t=="string"?"string":"hash"]:n.map}function zo(e){for(var t=ve(e),n=t.length;n--;){var o=t[n],s=e[o];t[n]=[o,s,Ta(s)]}return t}function jt(e,t){var n=Eh(e,t);return Yu(n)?n:r}function _p(e){var t=V.call(e,Zt),n=e[Zt];try{e[Zt]=r;var o=!0}catch{}var s=Lr.call(e);return o&&(t?e[Zt]=n:delete e[Zt]),s}var $o=vo?function(e){return e==null?[]:(e=ee(e),It(vo(e),function(t){return Ru.call(e,t)}))}:fs,Ea=vo?function(e){for(var t=[];e;)Rt(t,$o(e)),e=Ur(e);return t}:fs,xe=be;(yo&&xe(new yo(new ArrayBuffer(1)))!=hn||Yn&&xe(new Yn)!=Je||wo&&xe(wo.resolve())!=Ks||vn&&xe(new vn)!=Xe||Zn&&xe(new Zn)!=Hn)&&(xe=function(e){var t=be(e),n=t==dt?e.constructor:r,o=n?en(n):"";if(o)switch(o){case Vh:return hn;case jh:return Je;case ed:return Ks;case td:return Xe;case nd:return Hn}return t});function mp(e,t,n){for(var o=-1,s=n.length;++o<s;){var f=n[o],l=f.size;switch(f.type){case"drop":e+=l;break;case"dropRight":t-=l;break;case"take":t=Ae(t,e+l);break;case"takeRight":e=_e(e,t-l);break}}return{start:e,end:t}}function vp(e){var t=e.match(Cl);return t?t[1].split(bl):[]}function Oa(e,t,n){t=Bt(t,e);for(var o=-1,s=t.length,f=!1;++o<s;){var l=ut(t[o]);if(!(f=e!=null&&n(e,l)))break;e=e[l]}return f||++o!=s?f:(s=e==null?0:e.length,!!s&&hi(s)&&yt(l,s)&&(U(e)||tn(e)))}function yp(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&V.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Pa(e){return typeof e.constructor=="function"&&!rr(e)?wn(Ur(e)):{}}function wp(e,t,n){var o=e.constructor;switch(t){case zn:return Bo(e);case Bn:case Un:return new o(+e);case hn:return rp(e,n);case Hi:case zi:case $i:case qi:case Yi:case Zi:case Ji:case Xi:case Qi:return ca(e,n);case Je:return new o;case kn:case Kn:return new o(e);case Gn:return ip(e);case Xe:return new o;case Er:return op(e)}}function Sp(e,t){var n=t.length;if(!n)return e;var o=n-1;return t[o]=(n>1?"& ":"")+t[o],t=t.join(n>2?", ":" "),e.replace(xl,`{
/* [wrapped with `+t+`] */
`)}function Ap(e){return U(e)||tn(e)||!!(Fu&&e&&e[Fu])}function yt(e,t){var n=typeof e;return t=t??Nt,!!t&&(n=="number"||n!="symbol"&&Dl.test(e))&&e>-1&&e%1==0&&e<t}function Ee(e,t,n){if(!ue(n))return!1;var o=typeof t;return(o=="number"?Ne(n)&&yt(t,n.length):o=="string"&&t in n)?je(n[t],e):!1}function qo(e,t){if(U(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Le(e)?!0:yl.test(e)||!vl.test(e)||t!=null&&e in ee(t)}function xp(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function Yo(e){var t=ii(e),n=a[t];if(typeof n!="function"||!(t in q.prototype))return!1;if(e===n)return!0;var o=Ho(n);return!!o&&e===o[0]}function Cp(e){return!!Tu&&Tu in e}var bp=Dr?wt:cs;function rr(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||mn;return e===n}function Ta(e){return e===e&&!ue(e)}function Na(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==r||e in ee(n))}}function Ep(e){var t=ci(e,function(o){return n.size===x&&n.clear(),o}),n=t.cache;return t}function Op(e,t){var n=e[1],o=t[1],s=n|o,f=s<(L|z|re),l=o==re&&n==I||o==re&&n==rt&&e[7].length<=t[8]||o==(re|rt)&&t[7].length<=t[8]&&n==I;if(!(f||l))return e;o&L&&(e[2]=t[2],s|=n&L?0:le);var h=t[3];if(h){var g=e[3];e[3]=g?ha(g,h,t[4]):h,e[4]=g?Ft(e[3],b):t[4]}return h=t[5],h&&(g=e[5],e[5]=g?da(g,h,t[6]):h,e[6]=g?Ft(e[5],b):t[6]),h=t[7],h&&(e[7]=h),o&re&&(e[8]=e[8]==null?t[8]:Ae(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=s,e}function Pp(e){var t=[];if(e!=null)for(var n in ee(e))t.push(n);return t}function Tp(e){return Lr.call(e)}function Ia(e,t,n){return t=_e(t===r?e.length-1:t,0),function(){for(var o=arguments,s=-1,f=_e(o.length-t,0),l=m(f);++s<f;)l[s]=o[t+s];s=-1;for(var h=m(t+1);++s<t;)h[s]=o[s];return h[t]=n(l),Fe(e,this,h)}}function Ra(e,t){return t.length<2?e:Vt(e,qe(t,0,-1))}function Np(e,t){for(var n=e.length,o=Ae(t.length,n),s=Te(e);o--;){var f=t[o];e[o]=yt(f,n)?s[f]:r}return e}function Zo(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var Fa=Ma(na),ir=$h||function(e,t){return me.setTimeout(e,t)},Jo=Ma(jd);function Da(e,t,n){var o=t+"";return Jo(e,Sp(o,Ip(vp(o),n)))}function Ma(e){var t=0,n=0;return function(){var o=Jh(),s=Vc-(o-n);if(n=o,s>0){if(++t>=Qc)return arguments[0]}else t=0;return e.apply(r,arguments)}}function si(e,t){var n=-1,o=e.length,s=o-1;for(t=t===r?o:t;++n<t;){var f=Io(n,s),l=e[f];e[f]=e[n],e[n]=l}return e.length=t,e}var La=Ep(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(wl,function(n,o,s,f){t.push(s?f.replace(Pl,"$1"):o||n)}),t});function ut(e){if(typeof e=="string"||Le(e))return e;var t=e+"";return t=="0"&&1/e==-qt?"-0":t}function en(e){if(e!=null){try{return Mr.call(e)}catch{}try{return e+""}catch{}}return""}function Ip(e,t){return Ke(il,function(n){var o="_."+n[0];t&n[1]&&!Nr(e,o)&&e.push(o)}),e.sort()}function Wa(e){if(e instanceof q)return e.clone();var t=new ze(e.__wrapped__,e.__chain__);return t.__actions__=Te(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Rp(e,t,n){(n?Ee(e,t,n):t===r)?t=1:t=_e(k(t),0);var o=e==null?0:e.length;if(!o||t<1)return[];for(var s=0,f=0,l=m(Kr(o/t));s<o;)l[f++]=qe(e,s,s+=t);return l}function Fp(e){for(var t=-1,n=e==null?0:e.length,o=0,s=[];++t<n;){var f=e[t];f&&(s[o++]=f)}return s}function Dp(){var e=arguments.length;if(!e)return[];for(var t=m(e-1),n=arguments[0],o=e;o--;)t[o-1]=arguments[o];return Rt(U(n)?Te(n):[n],Se(t,1))}var Mp=H(function(e,t){return de(e)?Vn(e,Se(t,1,de,!0)):[]}),Lp=H(function(e,t){var n=Ye(t);return de(n)&&(n=r),de(e)?Vn(e,Se(t,1,de,!0),F(n,2)):[]}),Wp=H(function(e,t){var n=Ye(t);return de(n)&&(n=r),de(e)?Vn(e,Se(t,1,de,!0),r,n):[]});function Bp(e,t,n){var o=e==null?0:e.length;return o?(t=n||t===r?1:k(t),qe(e,t<0?0:t,o)):[]}function Up(e,t,n){var o=e==null?0:e.length;return o?(t=n||t===r?1:k(t),t=o-t,qe(e,0,t<0?0:t)):[]}function kp(e,t){return e&&e.length?Vr(e,F(t,3),!0,!0):[]}function Gp(e,t){return e&&e.length?Vr(e,F(t,3),!0):[]}function Kp(e,t,n,o){var s=e==null?0:e.length;return s?(n&&typeof n!="number"&&Ee(e,t,n)&&(n=0,o=s),Dd(e,t,n,o)):[]}function Ba(e,t,n){var o=e==null?0:e.length;if(!o)return-1;var s=n==null?0:k(n);return s<0&&(s=_e(o+s,0)),Ir(e,F(t,3),s)}function Ua(e,t,n){var o=e==null?0:e.length;if(!o)return-1;var s=o-1;return n!==r&&(s=k(n),s=n<0?_e(o+s,0):Ae(s,o-1)),Ir(e,F(t,3),s,!0)}function ka(e){var t=e==null?0:e.length;return t?Se(e,1):[]}function Hp(e){var t=e==null?0:e.length;return t?Se(e,qt):[]}function zp(e,t){var n=e==null?0:e.length;return n?(t=t===r?1:k(t),Se(e,t)):[]}function $p(e){for(var t=-1,n=e==null?0:e.length,o={};++t<n;){var s=e[t];o[s[0]]=s[1]}return o}function Ga(e){return e&&e.length?e[0]:r}function qp(e,t,n){var o=e==null?0:e.length;if(!o)return-1;var s=n==null?0:k(n);return s<0&&(s=_e(o+s,0)),pn(e,t,s)}function Yp(e){var t=e==null?0:e.length;return t?qe(e,0,-1):[]}var Zp=H(function(e){var t=se(e,Lo);return t.length&&t[0]===e[0]?Eo(t):[]}),Jp=H(function(e){var t=Ye(e),n=se(e,Lo);return t===Ye(n)?t=r:n.pop(),n.length&&n[0]===e[0]?Eo(n,F(t,2)):[]}),Xp=H(function(e){var t=Ye(e),n=se(e,Lo);return t=typeof t=="function"?t:r,t&&n.pop(),n.length&&n[0]===e[0]?Eo(n,r,t):[]});function Qp(e,t){return e==null?"":Yh.call(e,t)}function Ye(e){var t=e==null?0:e.length;return t?e[t-1]:r}function Vp(e,t,n){var o=e==null?0:e.length;if(!o)return-1;var s=o;return n!==r&&(s=k(n),s=s<0?_e(o+s,0):Ae(s,o-1)),t===t?Ih(e,t,s):Ir(e,Su,s,!0)}function jp(e,t){return e&&e.length?Vu(e,k(t)):r}var eg=H(Ka);function Ka(e,t){return e&&e.length&&t&&t.length?No(e,t):e}function tg(e,t,n){return e&&e.length&&t&&t.length?No(e,t,F(n,2)):e}function ng(e,t,n){return e&&e.length&&t&&t.length?No(e,t,r,n):e}var rg=vt(function(e,t){var n=e==null?0:e.length,o=Ao(e,t);return ta(e,se(t,function(s){return yt(s,n)?+s:s}).sort(la)),o});function ig(e,t){var n=[];if(!(e&&e.length))return n;var o=-1,s=[],f=e.length;for(t=F(t,3);++o<f;){var l=e[o];t(l,o,e)&&(n.push(l),s.push(o))}return ta(e,s),n}function Xo(e){return e==null?e:Qh.call(e)}function og(e,t,n){var o=e==null?0:e.length;return o?(n&&typeof n!="number"&&Ee(e,t,n)?(t=0,n=o):(t=t==null?0:k(t),n=n===r?o:k(n)),qe(e,t,n)):[]}function sg(e,t){return Qr(e,t)}function ug(e,t,n){return Fo(e,t,F(n,2))}function ag(e,t){var n=e==null?0:e.length;if(n){var o=Qr(e,t);if(o<n&&je(e[o],t))return o}return-1}function fg(e,t){return Qr(e,t,!0)}function cg(e,t,n){return Fo(e,t,F(n,2),!0)}function lg(e,t){var n=e==null?0:e.length;if(n){var o=Qr(e,t,!0)-1;if(je(e[o],t))return o}return-1}function hg(e){return e&&e.length?ra(e):[]}function dg(e,t){return e&&e.length?ra(e,F(t,2)):[]}function pg(e){var t=e==null?0:e.length;return t?qe(e,1,t):[]}function gg(e,t,n){return e&&e.length?(t=n||t===r?1:k(t),qe(e,0,t<0?0:t)):[]}function _g(e,t,n){var o=e==null?0:e.length;return o?(t=n||t===r?1:k(t),t=o-t,qe(e,t<0?0:t,o)):[]}function mg(e,t){return e&&e.length?Vr(e,F(t,3),!1,!0):[]}function vg(e,t){return e&&e.length?Vr(e,F(t,3)):[]}var yg=H(function(e){return Wt(Se(e,1,de,!0))}),wg=H(function(e){var t=Ye(e);return de(t)&&(t=r),Wt(Se(e,1,de,!0),F(t,2))}),Sg=H(function(e){var t=Ye(e);return t=typeof t=="function"?t:r,Wt(Se(e,1,de,!0),r,t)});function Ag(e){return e&&e.length?Wt(e):[]}function xg(e,t){return e&&e.length?Wt(e,F(t,2)):[]}function Cg(e,t){return t=typeof t=="function"?t:r,e&&e.length?Wt(e,r,t):[]}function Qo(e){if(!(e&&e.length))return[];var t=0;return e=It(e,function(n){if(de(n))return t=_e(n.length,t),!0}),po(t,function(n){return se(e,co(n))})}function Ha(e,t){if(!(e&&e.length))return[];var n=Qo(e);return t==null?n:se(n,function(o){return Fe(t,r,o)})}var bg=H(function(e,t){return de(e)?Vn(e,t):[]}),Eg=H(function(e){return Mo(It(e,de))}),Og=H(function(e){var t=Ye(e);return de(t)&&(t=r),Mo(It(e,de),F(t,2))}),Pg=H(function(e){var t=Ye(e);return t=typeof t=="function"?t:r,Mo(It(e,de),r,t)}),Tg=H(Qo);function Ng(e,t){return ua(e||[],t||[],Qn)}function Ig(e,t){return ua(e||[],t||[],tr)}var Rg=H(function(e){var t=e.length,n=t>1?e[t-1]:r;return n=typeof n=="function"?(e.pop(),n):r,Ha(e,n)});function za(e){var t=a(e);return t.__chain__=!0,t}function Fg(e,t){return t(e),e}function ui(e,t){return t(e)}var Dg=vt(function(e){var t=e.length,n=t?e[0]:0,o=this.__wrapped__,s=function(f){return Ao(f,e)};return t>1||this.__actions__.length||!(o instanceof q)||!yt(n)?this.thru(s):(o=o.slice(n,+n+(t?1:0)),o.__actions__.push({func:ui,args:[s],thisArg:r}),new ze(o,this.__chain__).thru(function(f){return t&&!f.length&&f.push(r),f}))});function Mg(){return za(this)}function Lg(){return new ze(this.value(),this.__chain__)}function Wg(){this.__values__===r&&(this.__values__=of(this.value()));var e=this.__index__>=this.__values__.length,t=e?r:this.__values__[this.__index__++];return{done:e,value:t}}function Bg(){return this}function Ug(e){for(var t,n=this;n instanceof qr;){var o=Wa(n);o.__index__=0,o.__values__=r,t?s.__wrapped__=o:t=o;var s=o;n=n.__wrapped__}return s.__wrapped__=e,t}function kg(){var e=this.__wrapped__;if(e instanceof q){var t=e;return this.__actions__.length&&(t=new q(this)),t=t.reverse(),t.__actions__.push({func:ui,args:[Xo],thisArg:r}),new ze(t,this.__chain__)}return this.thru(Xo)}function Gg(){return sa(this.__wrapped__,this.__actions__)}var Kg=jr(function(e,t,n){V.call(e,n)?++e[n]:_t(e,n,1)});function Hg(e,t,n){var o=U(e)?yu:Fd;return n&&Ee(e,t,n)&&(t=r),o(e,F(t,3))}function zg(e,t){var n=U(e)?It:Hu;return n(e,F(t,3))}var $g=ma(Ba),qg=ma(Ua);function Yg(e,t){return Se(ai(e,t),1)}function Zg(e,t){return Se(ai(e,t),qt)}function Jg(e,t,n){return n=n===r?1:k(n),Se(ai(e,t),n)}function $a(e,t){var n=U(e)?Ke:Lt;return n(e,F(t,3))}function qa(e,t){var n=U(e)?ph:Ku;return n(e,F(t,3))}var Xg=jr(function(e,t,n){V.call(e,n)?e[n].push(t):_t(e,n,[t])});function Qg(e,t,n,o){e=Ne(e)?e:bn(e),n=n&&!o?k(n):0;var s=e.length;return n<0&&(n=_e(s+n,0)),di(e)?n<=s&&e.indexOf(t,n)>-1:!!s&&pn(e,t,n)>-1}var Vg=H(function(e,t,n){var o=-1,s=typeof t=="function",f=Ne(e)?m(e.length):[];return Lt(e,function(l){f[++o]=s?Fe(t,l,n):jn(l,t,n)}),f}),jg=jr(function(e,t,n){_t(e,n,t)});function ai(e,t){var n=U(e)?se:Ju;return n(e,F(t,3))}function e_(e,t,n,o){return e==null?[]:(U(t)||(t=t==null?[]:[t]),n=o?r:n,U(n)||(n=n==null?[]:[n]),ju(e,t,n))}var t_=jr(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});function n_(e,t,n){var o=U(e)?ao:xu,s=arguments.length<3;return o(e,F(t,4),n,s,Lt)}function r_(e,t,n){var o=U(e)?gh:xu,s=arguments.length<3;return o(e,F(t,4),n,s,Ku)}function i_(e,t){var n=U(e)?It:Hu;return n(e,li(F(t,3)))}function o_(e){var t=U(e)?Bu:Qd;return t(e)}function s_(e,t,n){(n?Ee(e,t,n):t===r)?t=1:t=k(t);var o=U(e)?Pd:Vd;return o(e,t)}function u_(e){var t=U(e)?Td:ep;return t(e)}function a_(e){if(e==null)return 0;if(Ne(e))return di(e)?_n(e):e.length;var t=xe(e);return t==Je||t==Xe?e.size:Po(e).length}function f_(e,t,n){var o=U(e)?fo:tp;return n&&Ee(e,t,n)&&(t=r),o(e,F(t,3))}var c_=H(function(e,t){if(e==null)return[];var n=t.length;return n>1&&Ee(e,t[0],t[1])?t=[]:n>2&&Ee(t[0],t[1],t[2])&&(t=[t[0]]),ju(e,Se(t,1),[])}),fi=zh||function(){return me.Date.now()};function l_(e,t){if(typeof t!="function")throw new He(d);return e=k(e),function(){if(--e<1)return t.apply(this,arguments)}}function Ya(e,t,n){return t=n?r:t,t=e&&t==null?e.length:t,mt(e,re,r,r,r,r,t)}function Za(e,t){var n;if(typeof t!="function")throw new He(d);return e=k(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=r),n}}var Vo=H(function(e,t,n){var o=L;if(n.length){var s=Ft(n,xn(Vo));o|=Z}return mt(e,o,t,n,s)}),Ja=H(function(e,t,n){var o=L|z;if(n.length){var s=Ft(n,xn(Ja));o|=Z}return mt(t,o,e,n,s)});function Xa(e,t,n){t=n?r:t;var o=mt(e,I,r,r,r,r,r,t);return o.placeholder=Xa.placeholder,o}function Qa(e,t,n){t=n?r:t;var o=mt(e,te,r,r,r,r,r,t);return o.placeholder=Qa.placeholder,o}function Va(e,t,n){var o,s,f,l,h,g,w=0,S=!1,A=!1,C=!0;if(typeof e!="function")throw new He(d);t=Ze(t)||0,ue(n)&&(S=!!n.leading,A="maxWait"in n,f=A?_e(Ze(n.maxWait)||0,t):f,C="trailing"in n?!!n.trailing:C);function N(pe){var et=o,At=s;return o=s=r,w=pe,l=e.apply(At,et),l}function D(pe){return w=pe,h=ir($,t),S?N(pe):l}function K(pe){var et=pe-g,At=pe-w,vf=t-et;return A?Ae(vf,f-At):vf}function M(pe){var et=pe-g,At=pe-w;return g===r||et>=t||et<0||A&&At>=f}function $(){var pe=fi();if(M(pe))return J(pe);h=ir($,K(pe))}function J(pe){return h=r,C&&o?N(pe):(o=s=r,l)}function We(){h!==r&&aa(h),w=0,o=g=s=h=r}function Oe(){return h===r?l:J(fi())}function Be(){var pe=fi(),et=M(pe);if(o=arguments,s=this,g=pe,et){if(h===r)return D(g);if(A)return aa(h),h=ir($,t),N(g)}return h===r&&(h=ir($,t)),l}return Be.cancel=We,Be.flush=Oe,Be}var h_=H(function(e,t){return Gu(e,1,t)}),d_=H(function(e,t,n){return Gu(e,Ze(t)||0,n)});function p_(e){return mt(e,j)}function ci(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new He(d);var n=function(){var o=arguments,s=t?t.apply(this,o):o[0],f=n.cache;if(f.has(s))return f.get(s);var l=e.apply(this,o);return n.cache=f.set(s,l)||f,l};return n.cache=new(ci.Cache||gt),n}ci.Cache=gt;function li(e){if(typeof e!="function")throw new He(d);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function g_(e){return Za(2,e)}var __=np(function(e,t){t=t.length==1&&U(t[0])?se(t[0],De(F())):se(Se(t,1),De(F()));var n=t.length;return H(function(o){for(var s=-1,f=Ae(o.length,n);++s<f;)o[s]=t[s].call(this,o[s]);return Fe(e,this,o)})}),jo=H(function(e,t){var n=Ft(t,xn(jo));return mt(e,Z,r,t,n)}),ja=H(function(e,t){var n=Ft(t,xn(ja));return mt(e,ae,r,t,n)}),m_=vt(function(e,t){return mt(e,rt,r,r,r,t)});function v_(e,t){if(typeof e!="function")throw new He(d);return t=t===r?t:k(t),H(e,t)}function y_(e,t){if(typeof e!="function")throw new He(d);return t=t==null?0:_e(k(t),0),H(function(n){var o=n[t],s=Ut(n,0,t);return o&&Rt(s,o),Fe(e,this,s)})}function w_(e,t,n){var o=!0,s=!0;if(typeof e!="function")throw new He(d);return ue(n)&&(o="leading"in n?!!n.leading:o,s="trailing"in n?!!n.trailing:s),Va(e,t,{leading:o,maxWait:t,trailing:s})}function S_(e){return Ya(e,1)}function A_(e,t){return jo(Wo(t),e)}function x_(){if(!arguments.length)return[];var e=arguments[0];return U(e)?e:[e]}function C_(e){return $e(e,G)}function b_(e,t){return t=typeof t=="function"?t:r,$e(e,G,t)}function E_(e){return $e(e,P|G)}function O_(e,t){return t=typeof t=="function"?t:r,$e(e,P|G,t)}function P_(e,t){return t==null||ku(e,t,ve(t))}function je(e,t){return e===t||e!==e&&t!==t}var T_=ri(bo),N_=ri(function(e,t){return e>=t}),tn=qu(function(){return arguments}())?qu:function(e){return fe(e)&&V.call(e,"callee")&&!Ru.call(e,"callee")},U=m.isArray,I_=du?De(du):Ud;function Ne(e){return e!=null&&hi(e.length)&&!wt(e)}function de(e){return fe(e)&&Ne(e)}function R_(e){return e===!0||e===!1||fe(e)&&be(e)==Bn}var kt=qh||cs,F_=pu?De(pu):kd;function D_(e){return fe(e)&&e.nodeType===1&&!or(e)}function M_(e){if(e==null)return!0;if(Ne(e)&&(U(e)||typeof e=="string"||typeof e.splice=="function"||kt(e)||Cn(e)||tn(e)))return!e.length;var t=xe(e);if(t==Je||t==Xe)return!e.size;if(rr(e))return!Po(e).length;for(var n in e)if(V.call(e,n))return!1;return!0}function L_(e,t){return er(e,t)}function W_(e,t,n){n=typeof n=="function"?n:r;var o=n?n(e,t):r;return o===r?er(e,t,r,n):!!o}function es(e){if(!fe(e))return!1;var t=be(e);return t==Cr||t==sl||typeof e.message=="string"&&typeof e.name=="string"&&!or(e)}function B_(e){return typeof e=="number"&&Du(e)}function wt(e){if(!ue(e))return!1;var t=be(e);return t==br||t==Gs||t==ol||t==al}function ef(e){return typeof e=="number"&&e==k(e)}function hi(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Nt}function ue(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function fe(e){return e!=null&&typeof e=="object"}var tf=gu?De(gu):Kd;function U_(e,t){return e===t||Oo(e,t,zo(t))}function k_(e,t,n){return n=typeof n=="function"?n:r,Oo(e,t,zo(t),n)}function G_(e){return nf(e)&&e!=+e}function K_(e){if(bp(e))throw new B(c);return Yu(e)}function H_(e){return e===null}function z_(e){return e==null}function nf(e){return typeof e=="number"||fe(e)&&be(e)==kn}function or(e){if(!fe(e)||be(e)!=dt)return!1;var t=Ur(e);if(t===null)return!0;var n=V.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Mr.call(n)==kh}var ts=_u?De(_u):Hd;function $_(e){return ef(e)&&e>=-Nt&&e<=Nt}var rf=mu?De(mu):zd;function di(e){return typeof e=="string"||!U(e)&&fe(e)&&be(e)==Kn}function Le(e){return typeof e=="symbol"||fe(e)&&be(e)==Er}var Cn=vu?De(vu):$d;function q_(e){return e===r}function Y_(e){return fe(e)&&xe(e)==Hn}function Z_(e){return fe(e)&&be(e)==cl}var J_=ri(To),X_=ri(function(e,t){return e<=t});function of(e){if(!e)return[];if(Ne(e))return di(e)?Qe(e):Te(e);if(qn&&e[qn])return Ph(e[qn]());var t=xe(e),n=t==Je?_o:t==Xe?Rr:bn;return n(e)}function St(e){if(!e)return e===0?e:0;if(e=Ze(e),e===qt||e===-qt){var t=e<0?-1:1;return t*tl}return e===e?e:0}function k(e){var t=St(e),n=t%1;return t===t?n?t-n:t:0}function sf(e){return e?Qt(k(e),0,it):0}function Ze(e){if(typeof e=="number")return e;if(Le(e))return Ar;if(ue(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=ue(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Cu(e);var n=Il.test(e);return n||Fl.test(e)?lh(e.slice(2),n?2:8):Nl.test(e)?Ar:+e}function uf(e){return st(e,Ie(e))}function Q_(e){return e?Qt(k(e),-Nt,Nt):e===0?e:0}function Q(e){return e==null?"":Me(e)}var V_=Sn(function(e,t){if(rr(t)||Ne(t)){st(t,ve(t),e);return}for(var n in t)V.call(t,n)&&Qn(e,n,t[n])}),af=Sn(function(e,t){st(t,Ie(t),e)}),pi=Sn(function(e,t,n,o){st(t,Ie(t),e,o)}),j_=Sn(function(e,t,n,o){st(t,ve(t),e,o)}),em=vt(Ao);function tm(e,t){var n=wn(e);return t==null?n:Uu(n,t)}var nm=H(function(e,t){e=ee(e);var n=-1,o=t.length,s=o>2?t[2]:r;for(s&&Ee(t[0],t[1],s)&&(o=1);++n<o;)for(var f=t[n],l=Ie(f),h=-1,g=l.length;++h<g;){var w=l[h],S=e[w];(S===r||je(S,mn[w])&&!V.call(e,w))&&(e[w]=f[w])}return e}),rm=H(function(e){return e.push(r,Ca),Fe(ff,r,e)});function im(e,t){return wu(e,F(t,3),ot)}function om(e,t){return wu(e,F(t,3),Co)}function sm(e,t){return e==null?e:xo(e,F(t,3),Ie)}function um(e,t){return e==null?e:zu(e,F(t,3),Ie)}function am(e,t){return e&&ot(e,F(t,3))}function fm(e,t){return e&&Co(e,F(t,3))}function cm(e){return e==null?[]:Jr(e,ve(e))}function lm(e){return e==null?[]:Jr(e,Ie(e))}function ns(e,t,n){var o=e==null?r:Vt(e,t);return o===r?n:o}function hm(e,t){return e!=null&&Oa(e,t,Md)}function rs(e,t){return e!=null&&Oa(e,t,Ld)}var dm=ya(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=Lr.call(t)),e[t]=n},os(Re)),pm=ya(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=Lr.call(t)),V.call(e,t)?e[t].push(n):e[t]=[n]},F),gm=H(jn);function ve(e){return Ne(e)?Wu(e):Po(e)}function Ie(e){return Ne(e)?Wu(e,!0):qd(e)}function _m(e,t){var n={};return t=F(t,3),ot(e,function(o,s,f){_t(n,t(o,s,f),o)}),n}function mm(e,t){var n={};return t=F(t,3),ot(e,function(o,s,f){_t(n,s,t(o,s,f))}),n}var vm=Sn(function(e,t,n){Xr(e,t,n)}),ff=Sn(function(e,t,n,o){Xr(e,t,n,o)}),ym=vt(function(e,t){var n={};if(e==null)return n;var o=!1;t=se(t,function(f){return f=Bt(f,e),o||(o=f.length>1),f}),st(e,Ko(e),n),o&&(n=$e(n,P|T|G,dp));for(var s=t.length;s--;)Do(n,t[s]);return n});function wm(e,t){return cf(e,li(F(t)))}var Sm=vt(function(e,t){return e==null?{}:Zd(e,t)});function cf(e,t){if(e==null)return{};var n=se(Ko(e),function(o){return[o]});return t=F(t),ea(e,n,function(o,s){return t(o,s[0])})}function Am(e,t,n){t=Bt(t,e);var o=-1,s=t.length;for(s||(s=1,e=r);++o<s;){var f=e==null?r:e[ut(t[o])];f===r&&(o=s,f=n),e=wt(f)?f.call(e):f}return e}function xm(e,t,n){return e==null?e:tr(e,t,n)}function Cm(e,t,n,o){return o=typeof o=="function"?o:r,e==null?e:tr(e,t,n,o)}var lf=Aa(ve),hf=Aa(Ie);function bm(e,t,n){var o=U(e),s=o||kt(e)||Cn(e);if(t=F(t,4),n==null){var f=e&&e.constructor;s?n=o?new f:[]:ue(e)?n=wt(f)?wn(Ur(e)):{}:n={}}return(s?Ke:ot)(e,function(l,h,g){return t(n,l,h,g)}),n}function Em(e,t){return e==null?!0:Do(e,t)}function Om(e,t,n){return e==null?e:oa(e,t,Wo(n))}function Pm(e,t,n,o){return o=typeof o=="function"?o:r,e==null?e:oa(e,t,Wo(n),o)}function bn(e){return e==null?[]:go(e,ve(e))}function Tm(e){return e==null?[]:go(e,Ie(e))}function Nm(e,t,n){return n===r&&(n=t,t=r),n!==r&&(n=Ze(n),n=n===n?n:0),t!==r&&(t=Ze(t),t=t===t?t:0),Qt(Ze(e),t,n)}function Im(e,t,n){return t=St(t),n===r?(n=t,t=0):n=St(n),e=Ze(e),Wd(e,t,n)}function Rm(e,t,n){if(n&&typeof n!="boolean"&&Ee(e,t,n)&&(t=n=r),n===r&&(typeof t=="boolean"?(n=t,t=r):typeof e=="boolean"&&(n=e,e=r)),e===r&&t===r?(e=0,t=1):(e=St(e),t===r?(t=e,e=0):t=St(t)),e>t){var o=e;e=t,t=o}if(n||e%1||t%1){var s=Mu();return Ae(e+s*(t-e+ch("1e-"+((s+"").length-1))),t)}return Io(e,t)}var Fm=An(function(e,t,n){return t=t.toLowerCase(),e+(n?df(t):t)});function df(e){return is(Q(e).toLowerCase())}function pf(e){return e=Q(e),e&&e.replace(Ml,xh).replace(eh,"")}function Dm(e,t,n){e=Q(e),t=Me(t);var o=e.length;n=n===r?o:Qt(k(n),0,o);var s=n;return n-=t.length,n>=0&&e.slice(n,s)==t}function Mm(e){return e=Q(e),e&&gl.test(e)?e.replace(zs,Ch):e}function Lm(e){return e=Q(e),e&&Sl.test(e)?e.replace(Vi,"\\$&"):e}var Wm=An(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),Bm=An(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Um=_a("toLowerCase");function km(e,t,n){e=Q(e),t=k(t);var o=t?_n(e):0;if(!t||o>=t)return e;var s=(t-o)/2;return ni(Hr(s),n)+e+ni(Kr(s),n)}function Gm(e,t,n){e=Q(e),t=k(t);var o=t?_n(e):0;return t&&o<t?e+ni(t-o,n):e}function Km(e,t,n){e=Q(e),t=k(t);var o=t?_n(e):0;return t&&o<t?ni(t-o,n)+e:e}function Hm(e,t,n){return n||t==null?t=0:t&&(t=+t),Xh(Q(e).replace(ji,""),t||0)}function zm(e,t,n){return(n?Ee(e,t,n):t===r)?t=1:t=k(t),Ro(Q(e),t)}function $m(){var e=arguments,t=Q(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var qm=An(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});function Ym(e,t,n){return n&&typeof n!="number"&&Ee(e,t,n)&&(t=n=r),n=n===r?it:n>>>0,n?(e=Q(e),e&&(typeof t=="string"||t!=null&&!ts(t))&&(t=Me(t),!t&&gn(e))?Ut(Qe(e),0,n):e.split(t,n)):[]}var Zm=An(function(e,t,n){return e+(n?" ":"")+is(t)});function Jm(e,t,n){return e=Q(e),n=n==null?0:Qt(k(n),0,e.length),t=Me(t),e.slice(n,n+t.length)==t}function Xm(e,t,n){var o=a.templateSettings;n&&Ee(e,t,n)&&(t=r),e=Q(e),t=pi({},t,o,xa);var s=pi({},t.imports,o.imports,xa),f=ve(s),l=go(s,f),h,g,w=0,S=t.interpolate||Or,A="__p += '",C=mo((t.escape||Or).source+"|"+S.source+"|"+(S===$s?Tl:Or).source+"|"+(t.evaluate||Or).source+"|$","g"),N="//# sourceURL="+(V.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++oh+"]")+`
`;e.replace(C,function(M,$,J,We,Oe,Be){return J||(J=We),A+=e.slice(w,Be).replace(Ll,bh),$&&(h=!0,A+=`' +
__e(`+$+`) +
'`),Oe&&(g=!0,A+=`';
`+Oe+`;
__p += '`),J&&(A+=`' +
((__t = (`+J+`)) == null ? '' : __t) +
'`),w=Be+M.length,M}),A+=`';
`;var D=V.call(t,"variable")&&t.variable;if(!D)A=`with (obj) {
`+A+`
}
`;else if(Ol.test(D))throw new B(_);A=(g?A.replace(ll,""):A).replace(hl,"$1").replace(dl,"$1;"),A="function("+(D||"obj")+`) {
`+(D?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(h?", __e = _.escape":"")+(g?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+A+`return __p
}`;var K=_f(function(){return X(f,N+"return "+A).apply(r,l)});if(K.source=A,es(K))throw K;return K}function Qm(e){return Q(e).toLowerCase()}function Vm(e){return Q(e).toUpperCase()}function jm(e,t,n){if(e=Q(e),e&&(n||t===r))return Cu(e);if(!e||!(t=Me(t)))return e;var o=Qe(e),s=Qe(t),f=bu(o,s),l=Eu(o,s)+1;return Ut(o,f,l).join("")}function ev(e,t,n){if(e=Q(e),e&&(n||t===r))return e.slice(0,Pu(e)+1);if(!e||!(t=Me(t)))return e;var o=Qe(e),s=Eu(o,Qe(t))+1;return Ut(o,0,s).join("")}function tv(e,t,n){if(e=Q(e),e&&(n||t===r))return e.replace(ji,"");if(!e||!(t=Me(t)))return e;var o=Qe(e),s=bu(o,Qe(t));return Ut(o,s).join("")}function nv(e,t){var n=he,o=ht;if(ue(t)){var s="separator"in t?t.separator:s;n="length"in t?k(t.length):n,o="omission"in t?Me(t.omission):o}e=Q(e);var f=e.length;if(gn(e)){var l=Qe(e);f=l.length}if(n>=f)return e;var h=n-_n(o);if(h<1)return o;var g=l?Ut(l,0,h).join(""):e.slice(0,h);if(s===r)return g+o;if(l&&(h+=g.length-h),ts(s)){if(e.slice(h).search(s)){var w,S=g;for(s.global||(s=mo(s.source,Q(qs.exec(s))+"g")),s.lastIndex=0;w=s.exec(S);)var A=w.index;g=g.slice(0,A===r?h:A)}}else if(e.indexOf(Me(s),h)!=h){var C=g.lastIndexOf(s);C>-1&&(g=g.slice(0,C))}return g+o}function rv(e){return e=Q(e),e&&pl.test(e)?e.replace(Hs,Rh):e}var iv=An(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),is=_a("toUpperCase");function gf(e,t,n){return e=Q(e),t=n?r:t,t===r?Oh(e)?Mh(e):vh(e):e.match(t)||[]}var _f=H(function(e,t){try{return Fe(e,r,t)}catch(n){return es(n)?n:new B(n)}}),ov=vt(function(e,t){return Ke(t,function(n){n=ut(n),_t(e,n,Vo(e[n],e))}),e});function sv(e){var t=e==null?0:e.length,n=F();return e=t?se(e,function(o){if(typeof o[1]!="function")throw new He(d);return[n(o[0]),o[1]]}):[],H(function(o){for(var s=-1;++s<t;){var f=e[s];if(Fe(f[0],this,o))return Fe(f[1],this,o)}})}function uv(e){return Rd($e(e,P))}function os(e){return function(){return e}}function av(e,t){return e==null||e!==e?t:e}var fv=va(),cv=va(!0);function Re(e){return e}function ss(e){return Zu(typeof e=="function"?e:$e(e,P))}function lv(e){return Xu($e(e,P))}function hv(e,t){return Qu(e,$e(t,P))}var dv=H(function(e,t){return function(n){return jn(n,e,t)}}),pv=H(function(e,t){return function(n){return jn(e,n,t)}});function us(e,t,n){var o=ve(t),s=Jr(t,o);n==null&&!(ue(t)&&(s.length||!o.length))&&(n=t,t=e,e=this,s=Jr(t,ve(t)));var f=!(ue(n)&&"chain"in n)||!!n.chain,l=wt(e);return Ke(s,function(h){var g=t[h];e[h]=g,l&&(e.prototype[h]=function(){var w=this.__chain__;if(f||w){var S=e(this.__wrapped__),A=S.__actions__=Te(this.__actions__);return A.push({func:g,args:arguments,thisArg:e}),S.__chain__=w,S}return g.apply(e,Rt([this.value()],arguments))})}),e}function gv(){return me._===this&&(me._=Gh),this}function as(){}function _v(e){return e=k(e),H(function(t){return Vu(t,e)})}var mv=Uo(se),vv=Uo(yu),yv=Uo(fo);function mf(e){return qo(e)?co(ut(e)):Jd(e)}function wv(e){return function(t){return e==null?r:Vt(e,t)}}var Sv=wa(),Av=wa(!0);function fs(){return[]}function cs(){return!1}function xv(){return{}}function Cv(){return""}function bv(){return!0}function Ev(e,t){if(e=k(e),e<1||e>Nt)return[];var n=it,o=Ae(e,it);t=F(t),e-=it;for(var s=po(o,t);++n<e;)t(n);return s}function Ov(e){return U(e)?se(e,ut):Le(e)?[e]:Te(La(Q(e)))}function Pv(e){var t=++Uh;return Q(e)+t}var Tv=ti(function(e,t){return e+t},0),Nv=ko("ceil"),Iv=ti(function(e,t){return e/t},1),Rv=ko("floor");function Fv(e){return e&&e.length?Zr(e,Re,bo):r}function Dv(e,t){return e&&e.length?Zr(e,F(t,2),bo):r}function Mv(e){return Au(e,Re)}function Lv(e,t){return Au(e,F(t,2))}function Wv(e){return e&&e.length?Zr(e,Re,To):r}function Bv(e,t){return e&&e.length?Zr(e,F(t,2),To):r}var Uv=ti(function(e,t){return e*t},1),kv=ko("round"),Gv=ti(function(e,t){return e-t},0);function Kv(e){return e&&e.length?ho(e,Re):0}function Hv(e,t){return e&&e.length?ho(e,F(t,2)):0}return a.after=l_,a.ary=Ya,a.assign=V_,a.assignIn=af,a.assignInWith=pi,a.assignWith=j_,a.at=em,a.before=Za,a.bind=Vo,a.bindAll=ov,a.bindKey=Ja,a.castArray=x_,a.chain=za,a.chunk=Rp,a.compact=Fp,a.concat=Dp,a.cond=sv,a.conforms=uv,a.constant=os,a.countBy=Kg,a.create=tm,a.curry=Xa,a.curryRight=Qa,a.debounce=Va,a.defaults=nm,a.defaultsDeep=rm,a.defer=h_,a.delay=d_,a.difference=Mp,a.differenceBy=Lp,a.differenceWith=Wp,a.drop=Bp,a.dropRight=Up,a.dropRightWhile=kp,a.dropWhile=Gp,a.fill=Kp,a.filter=zg,a.flatMap=Yg,a.flatMapDeep=Zg,a.flatMapDepth=Jg,a.flatten=ka,a.flattenDeep=Hp,a.flattenDepth=zp,a.flip=p_,a.flow=fv,a.flowRight=cv,a.fromPairs=$p,a.functions=cm,a.functionsIn=lm,a.groupBy=Xg,a.initial=Yp,a.intersection=Zp,a.intersectionBy=Jp,a.intersectionWith=Xp,a.invert=dm,a.invertBy=pm,a.invokeMap=Vg,a.iteratee=ss,a.keyBy=jg,a.keys=ve,a.keysIn=Ie,a.map=ai,a.mapKeys=_m,a.mapValues=mm,a.matches=lv,a.matchesProperty=hv,a.memoize=ci,a.merge=vm,a.mergeWith=ff,a.method=dv,a.methodOf=pv,a.mixin=us,a.negate=li,a.nthArg=_v,a.omit=ym,a.omitBy=wm,a.once=g_,a.orderBy=e_,a.over=mv,a.overArgs=__,a.overEvery=vv,a.overSome=yv,a.partial=jo,a.partialRight=ja,a.partition=t_,a.pick=Sm,a.pickBy=cf,a.property=mf,a.propertyOf=wv,a.pull=eg,a.pullAll=Ka,a.pullAllBy=tg,a.pullAllWith=ng,a.pullAt=rg,a.range=Sv,a.rangeRight=Av,a.rearg=m_,a.reject=i_,a.remove=ig,a.rest=v_,a.reverse=Xo,a.sampleSize=s_,a.set=xm,a.setWith=Cm,a.shuffle=u_,a.slice=og,a.sortBy=c_,a.sortedUniq=hg,a.sortedUniqBy=dg,a.split=Ym,a.spread=y_,a.tail=pg,a.take=gg,a.takeRight=_g,a.takeRightWhile=mg,a.takeWhile=vg,a.tap=Fg,a.throttle=w_,a.thru=ui,a.toArray=of,a.toPairs=lf,a.toPairsIn=hf,a.toPath=Ov,a.toPlainObject=uf,a.transform=bm,a.unary=S_,a.union=yg,a.unionBy=wg,a.unionWith=Sg,a.uniq=Ag,a.uniqBy=xg,a.uniqWith=Cg,a.unset=Em,a.unzip=Qo,a.unzipWith=Ha,a.update=Om,a.updateWith=Pm,a.values=bn,a.valuesIn=Tm,a.without=bg,a.words=gf,a.wrap=A_,a.xor=Eg,a.xorBy=Og,a.xorWith=Pg,a.zip=Tg,a.zipObject=Ng,a.zipObjectDeep=Ig,a.zipWith=Rg,a.entries=lf,a.entriesIn=hf,a.extend=af,a.extendWith=pi,us(a,a),a.add=Tv,a.attempt=_f,a.camelCase=Fm,a.capitalize=df,a.ceil=Nv,a.clamp=Nm,a.clone=C_,a.cloneDeep=E_,a.cloneDeepWith=O_,a.cloneWith=b_,a.conformsTo=P_,a.deburr=pf,a.defaultTo=av,a.divide=Iv,a.endsWith=Dm,a.eq=je,a.escape=Mm,a.escapeRegExp=Lm,a.every=Hg,a.find=$g,a.findIndex=Ba,a.findKey=im,a.findLast=qg,a.findLastIndex=Ua,a.findLastKey=om,a.floor=Rv,a.forEach=$a,a.forEachRight=qa,a.forIn=sm,a.forInRight=um,a.forOwn=am,a.forOwnRight=fm,a.get=ns,a.gt=T_,a.gte=N_,a.has=hm,a.hasIn=rs,a.head=Ga,a.identity=Re,a.includes=Qg,a.indexOf=qp,a.inRange=Im,a.invoke=gm,a.isArguments=tn,a.isArray=U,a.isArrayBuffer=I_,a.isArrayLike=Ne,a.isArrayLikeObject=de,a.isBoolean=R_,a.isBuffer=kt,a.isDate=F_,a.isElement=D_,a.isEmpty=M_,a.isEqual=L_,a.isEqualWith=W_,a.isError=es,a.isFinite=B_,a.isFunction=wt,a.isInteger=ef,a.isLength=hi,a.isMap=tf,a.isMatch=U_,a.isMatchWith=k_,a.isNaN=G_,a.isNative=K_,a.isNil=z_,a.isNull=H_,a.isNumber=nf,a.isObject=ue,a.isObjectLike=fe,a.isPlainObject=or,a.isRegExp=ts,a.isSafeInteger=$_,a.isSet=rf,a.isString=di,a.isSymbol=Le,a.isTypedArray=Cn,a.isUndefined=q_,a.isWeakMap=Y_,a.isWeakSet=Z_,a.join=Qp,a.kebabCase=Wm,a.last=Ye,a.lastIndexOf=Vp,a.lowerCase=Bm,a.lowerFirst=Um,a.lt=J_,a.lte=X_,a.max=Fv,a.maxBy=Dv,a.mean=Mv,a.meanBy=Lv,a.min=Wv,a.minBy=Bv,a.stubArray=fs,a.stubFalse=cs,a.stubObject=xv,a.stubString=Cv,a.stubTrue=bv,a.multiply=Uv,a.nth=jp,a.noConflict=gv,a.noop=as,a.now=fi,a.pad=km,a.padEnd=Gm,a.padStart=Km,a.parseInt=Hm,a.random=Rm,a.reduce=n_,a.reduceRight=r_,a.repeat=zm,a.replace=$m,a.result=Am,a.round=kv,a.runInContext=p,a.sample=o_,a.size=a_,a.snakeCase=qm,a.some=f_,a.sortedIndex=sg,a.sortedIndexBy=ug,a.sortedIndexOf=ag,a.sortedLastIndex=fg,a.sortedLastIndexBy=cg,a.sortedLastIndexOf=lg,a.startCase=Zm,a.startsWith=Jm,a.subtract=Gv,a.sum=Kv,a.sumBy=Hv,a.template=Xm,a.times=Ev,a.toFinite=St,a.toInteger=k,a.toLength=sf,a.toLower=Qm,a.toNumber=Ze,a.toSafeInteger=Q_,a.toString=Q,a.toUpper=Vm,a.trim=jm,a.trimEnd=ev,a.trimStart=tv,a.truncate=nv,a.unescape=rv,a.uniqueId=Pv,a.upperCase=iv,a.upperFirst=is,a.each=$a,a.eachRight=qa,a.first=Ga,us(a,function(){var e={};return ot(a,function(t,n){V.call(a.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),a.VERSION=i,Ke(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){a[e].placeholder=a}),Ke(["drop","take"],function(e,t){q.prototype[e]=function(n){n=n===r?1:_e(k(n),0);var o=this.__filtered__&&!t?new q(this):this.clone();return o.__filtered__?o.__takeCount__=Ae(n,o.__takeCount__):o.__views__.push({size:Ae(n,it),type:e+(o.__dir__<0?"Right":"")}),o},q.prototype[e+"Right"]=function(n){return this.reverse()[e](n).reverse()}}),Ke(["filter","map","takeWhile"],function(e,t){var n=t+1,o=n==ks||n==el;q.prototype[e]=function(s){var f=this.clone();return f.__iteratees__.push({iteratee:F(s,3),type:n}),f.__filtered__=f.__filtered__||o,f}}),Ke(["head","last"],function(e,t){var n="take"+(t?"Right":"");q.prototype[e]=function(){return this[n](1).value()[0]}}),Ke(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");q.prototype[e]=function(){return this.__filtered__?new q(this):this[n](1)}}),q.prototype.compact=function(){return this.filter(Re)},q.prototype.find=function(e){return this.filter(e).head()},q.prototype.findLast=function(e){return this.reverse().find(e)},q.prototype.invokeMap=H(function(e,t){return typeof e=="function"?new q(this):this.map(function(n){return jn(n,e,t)})}),q.prototype.reject=function(e){return this.filter(li(F(e)))},q.prototype.slice=function(e,t){e=k(e);var n=this;return n.__filtered__&&(e>0||t<0)?new q(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==r&&(t=k(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},q.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},q.prototype.toArray=function(){return this.take(it)},ot(q.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),o=/^(?:head|last)$/.test(t),s=a[o?"take"+(t=="last"?"Right":""):t],f=o||/^find/.test(t);s&&(a.prototype[t]=function(){var l=this.__wrapped__,h=o?[1]:arguments,g=l instanceof q,w=h[0],S=g||U(l),A=function($){var J=s.apply(a,Rt([$],h));return o&&C?J[0]:J};S&&n&&typeof w=="function"&&w.length!=1&&(g=S=!1);var C=this.__chain__,N=!!this.__actions__.length,D=f&&!C,K=g&&!N;if(!f&&S){l=K?l:new q(this);var M=e.apply(l,h);return M.__actions__.push({func:ui,args:[A],thisArg:r}),new ze(M,C)}return D&&K?e.apply(this,h):(M=this.thru(A),D?o?M.value()[0]:M.value():M)})}),Ke(["pop","push","shift","sort","splice","unshift"],function(e){var t=Fr[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",o=/^(?:pop|shift)$/.test(e);a.prototype[e]=function(){var s=arguments;if(o&&!this.__chain__){var f=this.value();return t.apply(U(f)?f:[],s)}return this[n](function(l){return t.apply(U(l)?l:[],s)})}}),ot(q.prototype,function(e,t){var n=a[t];if(n){var o=n.name+"";V.call(yn,o)||(yn[o]=[]),yn[o].push({name:t,func:n})}}),yn[ei(r,z).name]=[{name:"wrapper",func:r}],q.prototype.clone=rd,q.prototype.reverse=id,q.prototype.value=od,a.prototype.at=Dg,a.prototype.chain=Mg,a.prototype.commit=Lg,a.prototype.next=Wg,a.prototype.plant=Ug,a.prototype.reverse=kg,a.prototype.toJSON=a.prototype.valueOf=a.prototype.value=Gg,a.prototype.first=a.prototype.head,qn&&(a.prototype[qn]=Bg),a},Dt=Lh();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(me._=Dt,define(function(){return Dt})):Yt?((Yt.exports=Dt)._=Dt,oo._=Dt):me._=Dt}).call(Wn)});tt();var sr=class{constructor(i){this.SERIAL_VERSION_UID="d8a5aa78-978e-11e6-ae22-56b6b6499611",this.description=i}};var Qv=(r,i="position",u="key")=>{let c=typeof i=="string"?I=>I[i]:i,d={},_={},y={},x={},b={},P={};r.forEach((I,te)=>{let Z=I[u]?I[u]:String(te);d[Z]=te;let ae=c(I),re=String(ae||te),rt=!1;if(re.startsWith("start")){let j=re.match(/start\s+(\d+)/),he=j&&j[1]?Number(j[1]):0;y[he]||(y[he]=[]),y[he].push(Z)}else if(re.startsWith("end")){let j=re.match(/end\s+(\d+)/),he=j&&j[1]?Number(j[1]):0;x[he]||(x[he]=[]),x[he].push(Z)}else if(re.startsWith("before")){let j=re.match(/before\s+(\S+)(\s+(\d+))?/);if(!j)rt=!0;else{let he=j[1],ht=j[3]?Number(j[3]):0;b[he]||(b[he]={}),b[he][ht]||(b[he][ht]=[]),b[he][ht].push(Z)}}else if(re.startsWith("after")){let j=re.match(/after\s+(\S+)(\s+(\d+))?/);if(!j)rt=!0;else{let he=j[1],ht=j[3]?Number(j[3]):0;P[he]||(P[he]={}),P[he][ht]||(P[he][ht]=[]),P[he][ht].push(Z)}}else rt=!0;if(rt){let j=parseFloat(re);(isNaN(j)||!isFinite(j))&&(j=te),_[j]||(_[j]=[]),_[j].push(Z)}});let T=[],G=[],W=[],R=[],L=(I,te)=>{let Z=Object.keys(I).map(ae=>Number(ae)).sort((ae,re)=>ae-re);return te?Z:Z.reverse()},z=(I,te)=>{I.forEach(Z=>{if(!(R.indexOf(Z)>=0)){if(R.push(Z),b[Z]){let ae=L(b[Z],!0);for(let re of ae)z(b[Z][re],te)}if(te.push(Z),P[Z]){let ae=L(P[Z],!1);for(let re of ae)z(P[Z][re],te)}}})};for(let I of L(y,!1))z(y[I],T);for(let I of L(_,!0))z(_[I],G);for(let I of L(x,!0))z(x[I],W);for(let I of Object.keys(b))if(!(R.indexOf(I)>=0))for(let te of L(b[I],!1))z(b[I][te],T);for(let I of Object.keys(P))if(!(R.indexOf(I)>=0))for(let te of L(P[I],!1))z(P[I][te],G);return[...T,...G,...W].map(I=>d[I]).map(I=>r[I])},ls=Qv;var Kt=class extends sr{constructor(i){super(i),this._registry=[]}set(i,u,c=0){if(typeof i!="string")throw new Error("Key must be a string");if(typeof c!="string"&&typeof c!="number")throw new Error("Position must be a string or a number");let d={key:i,value:u};c&&(d.position=c);let _=this._registry.findIndex(y=>y.key===i);return _===-1?this._registry.push(d):this._registry[_]=d,u}get(i){if(typeof i!="string")return console.error("Key must be a string"),null;let u=this._registry.find(c=>c.key===i);return u?u.value:null}_getChildrenWrapped(i){let u=this._registry.filter(c=>c.key.indexOf(i+"/")===0);return ls(u)}getChildrenAsObject(i){let u={};return this._getChildrenWrapped(i).forEach(c=>{u[c.key]=c.value}),u}getChildren(i){return this._getChildrenWrapped(i).map(u=>u.value)}has(i){return typeof i!="string"?(console.error("Key must be a string"),!1):!!this._registry.find(u=>u.key===i)}_getAllWrapped(){return ls(this._registry)}getAllAsObject(){let i={};return this._getAllWrapped().forEach(u=>{i[u.key]=u.value}),i}getAllAsList(){return this._getAllWrapped().map(i=>Object.assign({id:i.key},i.value))}};var wf=ce("manifest");var Ce=class extends Error{constructor(u,c,d=""){super(u);O(this,"code");O(this,"severity","error");O(this,"externalMessage");this.code=c,this.externalMessage=d}};var Sf=r=>new hs(r.apiDomain,r.apiKey),hs=class{constructor(i,u){O(this,"apiDomain","");O(this,"apiKey","");O(this,"hasApiKey",()=>this.apiKey!==null&&this.apiKey!=="");O(this,"generate",async(i,u,c={})=>{let _=(await this.fetch(`/api/v1/chat?language=${u}`,{method:"POST",body:JSON.stringify({module:i,platform:"neos",user_input:c})}))?.data?.message?.message;return _.startsWith('"')&&_.endsWith('"')&&(_=_.substring(1,_.length-1)),_});O(this,"fetch",async(i,u={})=>{if(!this.apiKey)throw new Ce("This feature is not available in the free version.","1688157373215");let c=await fetch(this.apiDomain+i,Object.assign({},u,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`,Accept:"application/json"}})),d=await c.json();if(c.status===401)throw new Ce("The NEOSidekick api key provided is not valid.","1688158193038");if(c.status<200||c.status>=400)throw new Ce("An error occurred while asking NEOSidekick.","1688158257149",d?.message);return d});this.apiDomain=i,this.apiKey=u}};tt();var Af=ce("NeosProjectPackages")().NeosUiBackendConnectorDefault,{fetchWithErrorHandling:E1}=ce("NeosProjectPackages")().NeosUiBackendConnector;var Fn=Y(ft());var Tf=Symbol.for("immer-nothing"),Cf=Symbol.for("immer-draftable"),Ue=Symbol.for("immer-state");function nt(r,...i){throw new Error(`[Immer] minified error nr: ${r}. Full error at: https://bit.ly/3cXEKWf`)}var En=Object.getPrototypeOf;function On(r){return!!r&&!!r[Ue]}function rn(r){return r?Nf(r)||Array.isArray(r)||!!r[Cf]||!!r.constructor?.[Cf]||yi(r)||wi(r):!1}var jv=Object.prototype.constructor.toString();function Nf(r){if(!r||typeof r!="object")return!1;let i=En(r);if(i===null)return!0;let u=Object.hasOwnProperty.call(i,"constructor")&&i.constructor;return u===Object?!0:typeof u=="function"&&Function.toString.call(u)===jv}function ur(r,i){vi(r)===0?Object.entries(r).forEach(([u,c])=>{i(u,c,r)}):r.forEach((u,c)=>i(c,u,r))}function vi(r){let i=r[Ue];return i?i.type_:Array.isArray(r)?1:yi(r)?2:wi(r)?3:0}function gs(r,i){return vi(r)===2?r.has(i):Object.prototype.hasOwnProperty.call(r,i)}function If(r,i,u){let c=vi(r);c===2?r.set(i,u):c===3?r.add(u):r[i]=u}function ey(r,i){return r===i?r!==0||1/r===1/i:r!==r&&i!==i}function yi(r){return r instanceof Map}function wi(r){return r instanceof Set}function nn(r){return r.copy_||r.base_}function _s(r,i){if(yi(r))return new Map(r);if(wi(r))return new Set(r);if(Array.isArray(r))return Array.prototype.slice.call(r);if(!i&&Nf(r))return En(r)?{...r}:Object.assign(Object.create(null),r);let u=Object.getOwnPropertyDescriptors(r);delete u[Ue];let c=Reflect.ownKeys(u);for(let d=0;d<c.length;d++){let _=c[d],y=u[_];y.writable===!1&&(y.writable=!0,y.configurable=!0),(y.get||y.set)&&(u[_]={configurable:!0,writable:!0,enumerable:y.enumerable,value:r[_]})}return Object.create(En(r),u)}function Ss(r,i=!1){return Si(r)||On(r)||!rn(r)||(vi(r)>1&&(r.set=r.add=r.clear=r.delete=ty),Object.freeze(r),i&&ur(r,(u,c)=>Ss(c,!0),!0)),r}function ty(){nt(2)}function Si(r){return Object.isFrozen(r)}var ny={};function on(r){let i=ny[r];return i||nt(0,r),i}var ar;function Rf(){return ar}function ry(r,i){return{drafts_:[],parent_:r,immer_:i,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function bf(r,i){i&&(on("Patches"),r.patches_=[],r.inversePatches_=[],r.patchListener_=i)}function ms(r){vs(r),r.drafts_.forEach(iy),r.drafts_=null}function vs(r){r===ar&&(ar=r.parent_)}function Ef(r){return ar=ry(ar,r)}function iy(r){let i=r[Ue];i.type_===0||i.type_===1?i.revoke_():i.revoked_=!0}function Of(r,i){i.unfinalizedDrafts_=i.drafts_.length;let u=i.drafts_[0];return r!==void 0&&r!==u?(u[Ue].modified_&&(ms(i),nt(4)),rn(r)&&(r=_i(i,r),i.parent_||mi(i,r)),i.patches_&&on("Patches").generateReplacementPatches_(u[Ue].base_,r,i.patches_,i.inversePatches_)):r=_i(i,u,[]),ms(i),i.patches_&&i.patchListener_(i.patches_,i.inversePatches_),r!==Tf?r:void 0}function _i(r,i,u){if(Si(i))return i;let c=i[Ue];if(!c)return ur(i,(d,_)=>Pf(r,c,i,d,_,u),!0),i;if(c.scope_!==r)return i;if(!c.modified_)return mi(r,c.base_,!0),c.base_;if(!c.finalized_){c.finalized_=!0,c.scope_.unfinalizedDrafts_--;let d=c.copy_,_=d,y=!1;c.type_===3&&(_=new Set(d),d.clear(),y=!0),ur(_,(x,b)=>Pf(r,c,d,x,b,u,y)),mi(r,d,!1),u&&r.patches_&&on("Patches").generatePatches_(c,u,r.patches_,r.inversePatches_)}return c.copy_}function Pf(r,i,u,c,d,_,y){if(On(d)){let x=_&&i&&i.type_!==3&&!gs(i.assigned_,c)?_.concat(c):void 0,b=_i(r,d,x);if(If(u,c,b),On(b))r.canAutoFreeze_=!1;else return}else y&&u.add(d);if(rn(d)&&!Si(d)){if(!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1)return;_i(r,d),(!i||!i.scope_.parent_)&&mi(r,d)}}function mi(r,i,u=!1){!r.parent_&&r.immer_.autoFreeze_&&r.canAutoFreeze_&&Ss(i,u)}function oy(r,i){let u=Array.isArray(r),c={type_:u?1:0,scope_:i?i.scope_:Rf(),modified_:!1,finalized_:!1,assigned_:{},parent_:i,base_:r,draft_:null,copy_:null,revoke_:null,isManual_:!1},d=c,_=As;u&&(d=[c],_=fr);let{revoke:y,proxy:x}=Proxy.revocable(d,_);return c.draft_=x,c.revoke_=y,x}var As={get(r,i){if(i===Ue)return r;let u=nn(r);if(!gs(u,i))return sy(r,u,i);let c=u[i];return r.finalized_||!rn(c)?c:c===ds(r.base_,i)?(ps(r),r.copy_[i]=ws(c,r)):c},has(r,i){return i in nn(r)},ownKeys(r){return Reflect.ownKeys(nn(r))},set(r,i,u){let c=Ff(nn(r),i);if(c?.set)return c.set.call(r.draft_,u),!0;if(!r.modified_){let d=ds(nn(r),i),_=d?.[Ue];if(_&&_.base_===u)return r.copy_[i]=u,r.assigned_[i]=!1,!0;if(ey(u,d)&&(u!==void 0||gs(r.base_,i)))return!0;ps(r),ys(r)}return r.copy_[i]===u&&(u!==void 0||i in r.copy_)||Number.isNaN(u)&&Number.isNaN(r.copy_[i])||(r.copy_[i]=u,r.assigned_[i]=!0),!0},deleteProperty(r,i){return ds(r.base_,i)!==void 0||i in r.base_?(r.assigned_[i]=!1,ps(r),ys(r)):delete r.assigned_[i],r.copy_&&delete r.copy_[i],!0},getOwnPropertyDescriptor(r,i){let u=nn(r),c=Reflect.getOwnPropertyDescriptor(u,i);return c&&{writable:!0,configurable:r.type_!==1||i!=="length",enumerable:c.enumerable,value:u[i]}},defineProperty(){nt(11)},getPrototypeOf(r){return En(r.base_)},setPrototypeOf(){nt(12)}},fr={};ur(As,(r,i)=>{fr[r]=function(){return arguments[0]=arguments[0][0],i.apply(this,arguments)}});fr.deleteProperty=function(r,i){return fr.set.call(this,r,i,void 0)};fr.set=function(r,i,u){return As.set.call(this,r[0],i,u,r[0])};function ds(r,i){let u=r[Ue];return(u?nn(u):r)[i]}function sy(r,i,u){let c=Ff(i,u);return c?"value"in c?c.value:c.get?.call(r.draft_):void 0}function Ff(r,i){if(!(i in r))return;let u=En(r);for(;u;){let c=Object.getOwnPropertyDescriptor(u,i);if(c)return c;u=En(u)}}function ys(r){r.modified_||(r.modified_=!0,r.parent_&&ys(r.parent_))}function ps(r){r.copy_||(r.copy_=_s(r.base_,r.scope_.immer_.useStrictShallowCopy_))}var uy=class{constructor(r){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(i,u,c)=>{if(typeof i=="function"&&typeof u!="function"){let _=u;u=i;let y=this;return function(b=_,...P){return y.produce(b,T=>u.call(this,T,...P))}}typeof u!="function"&&nt(6),c!==void 0&&typeof c!="function"&&nt(7);let d;if(rn(i)){let _=Ef(this),y=ws(i,void 0),x=!0;try{d=u(y),x=!1}finally{x?ms(_):vs(_)}return bf(_,c),Of(d,_)}else if(!i||typeof i!="object"){if(d=u(i),d===void 0&&(d=i),d===Tf&&(d=void 0),this.autoFreeze_&&Ss(d,!0),c){let _=[],y=[];on("Patches").generateReplacementPatches_(i,d,_,y),c(_,y)}return d}else nt(1,i)},this.produceWithPatches=(i,u)=>{if(typeof i=="function")return(y,...x)=>this.produceWithPatches(y,b=>i(b,...x));let c,d;return[this.produce(i,u,(y,x)=>{c=y,d=x}),c,d]},typeof r?.autoFreeze=="boolean"&&this.setAutoFreeze(r.autoFreeze),typeof r?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(r.useStrictShallowCopy)}createDraft(r){rn(r)||nt(8),On(r)&&(r=ay(r));let i=Ef(this),u=ws(r,void 0);return u[Ue].isManual_=!0,vs(i),u}finishDraft(r,i){let u=r&&r[Ue];(!u||!u.isManual_)&&nt(9);let{scope_:c}=u;return bf(c,i),Of(void 0,c)}setAutoFreeze(r){this.autoFreeze_=r}setUseStrictShallowCopy(r){this.useStrictShallowCopy_=r}applyPatches(r,i){let u;for(u=i.length-1;u>=0;u--){let d=i[u];if(d.path.length===0&&d.op==="replace"){r=d.value;break}}u>-1&&(i=i.slice(u+1));let c=on("Patches").applyPatches_;return On(r)?c(r,i):this.produce(r,d=>c(d,i))}};function ws(r,i){let u=yi(r)?on("MapSet").proxyMap_(r,i):wi(r)?on("MapSet").proxySet_(r,i):oy(r,i);return(i?i.scope_:Rf()).drafts_.push(u),u}function ay(r){return On(r)||nt(10,r),Df(r)}function Df(r){if(!rn(r)||Si(r))return r;let i=r[Ue],u;if(i){if(!i.modified_)return i.base_;i.finalized_=!0,u=_s(r,i.scope_.immer_.useStrictShallowCopy_)}else u=_s(r,!0);return ur(u,(c,d)=>{If(u,c,Df(d))}),i&&(i.finalized_=!1),u}var ke=new uy,Mf=ke.produce,N1=ke.produceWithPatches.bind(ke),I1=ke.setAutoFreeze.bind(ke),R1=ke.setUseStrictShallowCopy.bind(ke),F1=ke.applyPatches.bind(ke),D1=ke.createDraft.bind(ke),M1=ke.finishDraft.bind(ke);var _c=Y(gc());var mc=(r,i)=>new Ws(r,i),Ws=class{constructor(i,u){O(this,"globalRegistry");O(this,"store");O(this,"nodeTypesRegistry");O(this,"externalService");O(this,"getGuestFrameDocumentTitle",()=>document.getElementsByName("neos-content-main")[0]?.contentDocument?.title);O(this,"getGuestFrameDocumentHtml",()=>document.getElementsByName("neos-content-main")[0]?.contentDocument?.body?.innerHTML);O(this,"getCurrentDocumentNode",()=>{let i=this.store.getState(),u=i?.cr?.nodes?.documentNode;return i?.cr?.nodes?.byContextPath[u]});O(this,"getCurrentDocumentParentNode",()=>{let i=this.store.getState(),u=this.getCurrentDocumentNode();return i?.cr?.nodes?.byContextPath[u.parent]});O(this,"getCurrentDocumentNodeType",()=>{let i=this.getCurrentDocumentNode();return this.globalRegistry.get("@neos-project/neos-ui-contentrepository").get(i?.nodeType)});O(this,"getCurrentDocumentTargetAudience",async()=>{let i=this.getCurrentDocumentNodeType()?.options?.sidekick?.targetAudience;return i?this.processClientEval(i):""});O(this,"getCurrentDocumentPageBriefing",async()=>{let i=this.getCurrentDocumentNodeType()?.options?.sidekick?.pageBriefing;return i?this.processClientEval(i):""});O(this,"getCurrentDocumentFocusKeyword",async()=>{let i=this.getCurrentDocumentNodeType()?.options?.sidekick?.focusKeyword;return i?await this.processClientEval(i):""});O(this,"processClientEval",async(i,u,c)=>{if(typeof i=="string"&&(i.startsWith("SidekickClientEval:")||i.startsWith("ClientEval:")))try{u=u??this.getCurrentDocumentNode();let d=Fn.selectors.UI.Inspector.transientValues(this.store.getState());u=this.generateNodeForContext(u,d),c=c??this.getCurrentDocumentParentNode();let _=this.getGuestFrameDocumentTitle(),y=this.getGuestFrameDocumentHtml(),x=this.getImageMetadata,b=Object.getPrototypeOf(async function(){}).constructor;return await new b("node,parentNode,documentTitle,documentContent,AssetUri","return "+i.replace("SidekickClientEval:","").replace("ClientEval:",""))(u,c,_,y,x)}catch(d){throw d instanceof Ce?d:(console.error(d),new Ce('An error occurred while trying to evaluate "'+i+'"',"1694682118365",i))}return i});O(this,"processValueWithClientEval",async(i,u,c)=>{if(typeof i=="string")return this.processClientEval(i,u,c);if(typeof i=="object"&&i!==null)return this.processObjectWithClientEval(i,u,c);if(i===null)return null;if(Array.isArray(i))return Promise.all(i.map(async d=>this.processObjectWithClientEval(d,u,c)))});O(this,"processObjectWithClientEval",async(i,u,c)=>{let d={};return await Promise.all(Object.keys(i).map(async _=>{let y=i[_];d[_]=await this.processValueWithClientEval(y,u,c)})),d});O(this,"getImageMetadata",async i=>{if(!i||!i?.__identity)throw new Ce("The property does not have a valid image.","1694595562191");let{loadImageMetadata:u}=Af.get().endpoints,c,d;try{let y=await u(i?.__identity);c=y?.originalImageResourceUri,d=y?.previewImageResourceUri}catch{throw new Ce("Could not fetch image object.","1694595598880")}if(!c||c==="")throw new Ce("The given image does not have a correct url.","1694595462402");let _=[];return _.push(this.prependConfiguredDomainToImageUri(c)),d&&_.push(this.prependConfiguredDomainToImageUri(d)),_});this.globalRegistry=i,this.store=u,this.nodeTypesRegistry=i.get("@neos-project/neos-ui-contentrepository"),this.externalService=i.get("NEOSidekick.AiAssistant").get("externalService")}prependConfiguredDomainToImageUri(i){let u=this.globalRegistry.get("NEOSidekick.AiAssistant").get("configuration").domain,c=i.replace("http://","").replace("https://","").split("/");return c.shift(),c.unshift(u),c.join("/")}getCurrentlyFocusedNodePathAndProperty(){let i=this.store.getState(),u=this.globalRegistry.get("@neos-project/neos-ui-contentrepository"),c=i?.cr?.nodes?.focused?.contextPaths[0],d=c?Fn.selectors.CR.Nodes.nodeByContextPath(i)(c):null;return{nodePath:c,node:d,property:i?.ui?.contentCanvas?.currentlyEditedPropertyName,nodeType:d?u.get(d?.nodeType):null,parentNode:d?Fn.selectors.CR.Nodes.nodesByContextPathSelector(i)[d.parent]:null}}async evaluateNodeTypeConfigurationAndStartGeneration(i,u,c,d,_=!1){if(!c||u[0]==="_")return;let y=c.properties?c.properties[u]:null;try{if(y?.options?.sidekick?.onCreate?.module)throw new Ce("Please do not use options.sidekick.onCreate.module anymore. Read the docs to find out about the new configuration.","1696264259260");if(!y?.options?.sidekick?.module||_&&y?.options?.sidekick?.onCreate!==!0)return;if(!y?.ui?.inlineEditable)throw new Ce("You can only generate content on inline editable properties","1688395273728");if(!this.externalService.hasApiKey())throw new Ce("This feature is not available in the free version.","1688157373215")}catch(T){let G=this.globalRegistry.get("i18n");this.store.dispatch(Fn.actions.UI.FlashMessages.add(T?.code??T?.message,T?.code?G.translate("NEOSidekick.AiAssistant:Error:"+T.code):T?.message,T?.severity??"error"));return}let x=JSON.parse(JSON.stringify(y.options.sidekick)),b=this.globalRegistry.get("NEOSidekick.AiAssistant").get("contentCanvasService"),P=await this.processObjectWithClientEval(x,i,d);b.streamGenerationIntoInlineProperty(i.contextPath,u,P)}generateNodeForContext(i,u){return u?Mf(i,c=>{let d=(0,_c.default)(u,_=>_?.value);c.properties=Object.assign({},c.properties,d)}):i}};var vc=Y(ft());var yc=(r,i,u)=>new Bs(r,i,u),Bs=class{constructor(i,u,c){O(this,"globalRegistry");O(this,"store");O(this,"iFrameApiService");O(this,"currentlyHandledNodePath",null);O(this,"streamGenerationIntoInlineProperty",(i,u,c)=>{this.iFrameApiService.callModule({target:{nodePath:i,propertyName:u},...c},()=>this.currentlyHandledNodePath=i)});O(this,"onNodeRemoved",i=>{this.currentlyHandledNodePath===i&&(this.iFrameApiService.cancelCallModule(),this.unsetCurrentlyHandledNodePath())});O(this,"handleMessage",i=>{switch(i?.data?.eventName){case"write-content":let{nodePath:u,propertyName:c,value:d,isFinished:_}=i?.data?.data;u&&(console.info(u+": "+d),this.setPropertyValue(u,c,d,_),_&&this.handleStreamingFinished());break;case"stopped-generation":this.handleStreamingFinished();break;case"error":let y=i?.data?.data?.message;this.addFlashMessage("1688158257149","An error occurred while asking NEOSidekick: "+y,"error",y),this.handleStreamingFinished();break;default:let x="Unknown message event: "+i?.data?.eventName;this.addFlashMessage("1688158257149","An error occurred while asking NEOSidekick: "+x,"error",x),this.handleStreamingFinished()}});O(this,"handleStreamingFinished",()=>{this.resetTypingCaret(),this.unsetCurrentlyHandledNodePath(),this.iFrameApiService.setStreamingFinished()});O(this,"setPropertyValue",(i,u,c,d)=>{let x=document.getElementsByName("neos-content-main")[0]?.contentDocument?.querySelector(`[data-__neos-editable-node-contextpath="${i}"][data-__neos-property="${u}"]`);if(!x&&d){let P="Could not find inline field for nodePath: "+i+" and propertyName: "+u;this.addFlashMessage("1688158257149","An error occurred while asking NEOSidekick: "+P,"error",P),this.unsetCurrentlyHandledNodePath();return}if(!x)return;if(!this.store.getState()?.cr?.nodes?.byContextPath.hasOwnProperty(i)){this.handleStreamingFinished();return}x.ckeditorInstance?.setData(c),x.classList.add("typing-caret")});this.globalRegistry=i,this.store=u,this.iFrameApiService=c,this.iFrameApiService.listenToMessages(this.handleMessage)}unsetCurrentlyHandledNodePath(){this.currentlyHandledNodePath=null}resetTypingCaret(){let c=document.getElementsByName("neos-content-main")[0]?.contentDocument?.querySelector(".typing-caret");c&&c.classList.remove("typing-caret")}addFlashMessage(i,u,c="error",d){let _=this.globalRegistry.get("i18n");this.store.dispatch(vc.actions.UI.FlashMessages.add(i,_.translate("NEOSidekick.AiAssistant:Error:"+i,u,{0:d}),c))}};var wc=()=>new Us,Us=class{constructor(){O(this,"isStreaming",!1);O(this,"unsyncedWebContextIsNewPage");O(this,"unsyncedWebContextData");O(this,"callModuleQueue",[]);O(this,"callModule",(i,u)=>{if(this.isStreaming){this.callModuleQueue.push({data:i,onStarted:u});return}this.isStreaming=!0;let c={version:"1.0",eventName:"call-module",data:{platform:"neos",...i}};this.sendMessage(c,u)});O(this,"setStreamingFinished",()=>{this.isStreaming=!1,this.unsyncedWebContextData&&(this.updateWebContext(this.unsyncedWebContextIsNewPage||!1,this.unsyncedWebContextData),this.unsyncedWebContextData=void 0,this.unsyncedWebContextIsNewPage=void 0);let i=this.callModuleQueue.shift();if(i){let{data:u,onStarted:c}=i;this.callModule(u,c)}});O(this,"cancelCallModule",()=>{let i={version:"1.0",eventName:"cancel-call-module"};this.setStreamingFinished(),this.sendMessage(i)});O(this,"updateWebContext",(i,u)=>{if(this.isStreaming){this.unsyncedWebContextIsNewPage=i,this.unsyncedWebContextData=u;return}let c={version:"1.0",eventName:i?"page-changed":"page-updated",data:u};this.sendMessage(c)});O(this,"listenToMessages",i=>{let u=this.getAssistantFrame();u?window.addEventListener("message",c=>{c.source===u.contentWindow&&i(c)}):setTimeout(()=>this.listenToMessages(i),250)});O(this,"sendMessage",(i,u)=>{let c=this.getAssistantFrame();c?(console.log("loaded, sending message to frame",i),c.contentWindow?.postMessage(i,"*"),u&&u()):(console.log("not loaded, waiting..."),setTimeout(()=>this.sendMessage(i,u),250))});O(this,"getAssistantFrame",()=>{let i=document.getElementById("neosidekickAssistant");return i?.dataset.hasOwnProperty("loaded")&&i.contentWindow?i:null})}};var Wi=Y(Ac());var ct=Y(Dn()),Pc=Y(dr()),ye=Y(pr()),Tc=Y(gr()),fn=Y(_r()),Mn=Y(ft());var X0={autoFocus:!1,disabled:!1,maxlength:null,readonly:!1},Ot=class extends ct.Component{constructor(u){super(u);O(this,"state",{loading:!1});O(this,"getIcon",u=>u?ct.default.createElement(fn.Icon,{icon:"spinner",size:"",fixedWidth:!0,padded:"right",spin:!0}):ct.default.createElement(fn.Icon,{icon:"magic",size:"",fixedWidth:!0,padded:"right"}));O(this,"fetch",async(u,c)=>{let{commit:d,externalService:_,contentService:y,activeContentDimensions:x,addFlashMessage:b,i18nRegistry:P,node:T,parentNode:G,frontendConfiguration:W}=this.props;this.setState({loading:!0});try{c=await y.processObjectWithClientEval(c,T,G),c=Object.keys(c).map(L=>({identifier:L,value:c[L]}));let R=await _.generate(u,x.language?x.language[0]:W.defaultLanguage,c);d(R)}catch(R){b(R?.code??R?.message,R?.code?P.translate("NEOSidekick.AiAssistant:Error:"+R.code,R.message,{0:R.externalMessage}):R.message,R?.severity??"error")}finally{this.setState({loading:!1})}})}render(){let{id:u,value:c,className:d,commit:_,options:y,i18nRegistry:x,onKeyPress:b,onEnterKey:P}=this.props,T=Object.assign({},X0,y),G=y&&y.placeholder&&x.translate(unescape(y.placeholder)),W=!(T.readonly||T.disabled);return ct.default.createElement("div",{style:{display:"flex",flexDirection:"column"},className:d},ct.default.createElement("div",null,ct.default.createElement(fn.TextInput,{id:u,value:c,onChange:_,disabled:T.disabled||this.state.loading,maxLength:T.maxlength,readOnly:T.readonly,placeholder:G,onKeyPress:b,onEnterKey:P})),W?ct.default.createElement("div",{style:{"margin-top":"4px"}},ct.default.createElement(fn.Button,{className:"generateBtn",size:"regular",icon:this.state.loading?"hourglass":"magic",style:"neutral",hoverStyle:"clean",disabled:this.state.loading,onClick:async()=>await this.fetch(T.module,T.arguments??{})},x.translate("NEOSidekick.AiAssistant:Main:generateWithSidekick"),"\xA0",this.getIcon(this.state.loading))):null)}};O(Ot,"propTypes",{className:ye.default.string,value:ye.default.oneOfType([ye.default.string,ye.default.number]),commit:ye.default.func.isRequired,options:ye.default.object,onKeyPress:ye.default.func,onEnterKey:ye.default.func,id:ye.default.string,activeContentDimensions:ye.default.object.isRequired,node:ye.default.object,parentNode:ye.default.object,i18nRegistry:ye.default.object.isRequired,externalService:ye.default.object.isRequired,contentService:ye.default.object.isRequired,addFlashMessage:ye.default.func.isRequired,frontendConfiguration:ye.default.object}),O(Ot,"defaultProps",{options:{}}),Ot=Gt([(0,Tc.neos)(r=>({i18nRegistry:r.get("i18n"),externalService:r.get("NEOSidekick.AiAssistant").get("externalService"),contentService:r.get("NEOSidekick.AiAssistant").get("contentService"),frontendConfiguration:r.get("NEOSidekick.AiAssistant").get("configuration")})),(0,Pc.connect)(r=>i=>{let u=Mn.selectors.CR.ContentDimensions.active(i),c=Mn.selectors.CR.Nodes.focusedSelector(i),d=Mn.selectors.CR.Nodes.nodeByContextPath(i)(c.parent);return{activeContentDimensions:u,node:c,parentNode:d}},{addFlashMessage:Mn.actions.UI.FlashMessages.add})],Ot);var lt=Y(Dn()),Nc=Y(dr()),we=Y(pr()),Ic=Y(gr()),cn=Y(_r()),Ln=Y(ft());var Q0={autoFocus:!1,disabled:!1,maxlength:null,readonly:!1},Pt=class extends lt.Component{constructor(u){super(u);O(this,"getIcon",u=>u?lt.default.createElement(cn.Icon,{icon:"spinner",size:"",fixedWidth:!0,padded:"right",spin:!0}):lt.default.createElement(cn.Icon,{icon:"magic",size:"",fixedWidth:!0,padded:"right"}));O(this,"fetch",async(u,c)=>{let{commit:d,externalService:_,contentService:y,activeContentDimensions:x,addFlashMessage:b,i18nRegistry:P,node:T,parentNode:G,frontendConfiguration:W}=this.props;this.setState({loading:!0});try{c=await y.processObjectWithClientEval(c,T,G),c=Object.keys(c).map(L=>({identifier:L,value:c[L]}));let R=await _.generate(u,x.language?x.language[0]:W.defaultLanguage,c);d(R)}catch(R){b(R?.code??R?.message,R?.code?P.translate("NEOSidekick.AiAssistant:Error:"+R.code,R.message,{0:R.externalMessage}):R.message,R?.severity??"error")}finally{this.setState({loading:!1})}});this.state={loading:!1}}render(){let{id:u,value:c,className:d,commit:_,options:y,i18nRegistry:x,onKeyPress:b,onEnterKey:P}=this.props,T=Object.assign({},Q0,y),G=y&&y.placeholder&&x.translate(unescape(y.placeholder)),W=!(T.readonly||T.disabled);return lt.default.createElement("div",{style:{display:"flex",flexDirection:"column"},className:d},lt.default.createElement("div",null,lt.default.createElement(cn.TextArea,{id:u,value:c,onChange:_,disabled:T.disabled||this.state.loading,maxLength:T.maxlength,readOnly:T.readonly,placeholder:G,minRows:T.minRows,expandedRows:T.expandedRows,onKeyPress:b,onEnterKey:P})),W?lt.default.createElement("div",null,lt.default.createElement(cn.Button,{className:"generateBtn",size:"regular",icon:this.state.loading?"hourglass":"magic",style:"neutral",hoverStyle:"clean",disabled:this.state.loading,onClick:async()=>await this.fetch(T.module,T.arguments??{})},x.translate("NEOSidekick.AiAssistant:Main:generateWithSidekick"),"\xA0",this.getIcon(this.state.loading))):null)}};O(Pt,"propTypes",{className:we.default.string,value:we.default.oneOfType([we.default.string,we.default.number]),commit:we.default.func.isRequired,options:we.default.object,onKeyPress:we.default.func,onEnterKey:we.default.func,id:we.default.string,activeContentDimensions:we.default.object.isRequired,node:we.default.object,parentNode:we.default.object,i18nRegistry:we.default.object.isRequired,externalService:we.default.object.isRequired,contentService:we.default.object.isRequired,addFlashMessage:we.default.func.isRequired,frontendConfiguration:we.default.object}),O(Pt,"defaultProps",{options:{}}),Pt=Gt([(0,Ic.neos)(r=>({i18nRegistry:r.get("i18n"),externalService:r.get("NEOSidekick.AiAssistant").get("externalService"),contentService:r.get("NEOSidekick.AiAssistant").get("contentService"),frontendConfiguration:r.get("NEOSidekick.AiAssistant").get("configuration")})),(0,Nc.connect)(r=>i=>{let u=Ln.selectors.CR.ContentDimensions.active(i),c=Ln.selectors.CR.Nodes.focusedSelector(i),d=Ln.selectors.CR.Nodes.nodeByContextPath(i)(c.parent);return{activeContentDimensions:u,node:c,parentNode:d}},{addFlashMessage:Ln.actions.UI.FlashMessages.add})],Pt);var Rc=(r,i)=>{let u=r.get("inspector").get("editors");u.set("NEOSidekick.AiAssistant/Inspector/Editors/MagicTextFieldEditor",{component:i?Ot:Wi.TextField}),u.set("NEOSidekick.AiAssistant/Inspector/Editors/MagicTextAreaEditor",{component:i?Pt:Wi.TextArea})};var Pe=Y(Dn()),vr=Y(_r());var Bi=Y(Dn()),Fc=Y(dr()),mr=Y(pr()),Dc=Y(ft()),Mc=Y(gr());var Tt=class extends Bi.PureComponent{getUri(){let{configuration:i,activeContentDimensions:u,interfaceLanguage:c}=this.props,d=new URL(`${i.apiDomain}/chat/`);return d.searchParams.append("contentLanguage",u.language?u.language[0]:i.defaultLanguage),d.searchParams.append("interfaceLanguage",c),d.searchParams.append("userId",i.userId),d.searchParams.append("plattform","neos"),d.searchParams.append("domain",i.domain),d.searchParams.append("siteName",i.siteName),i?.referral&&d.searchParams.append("referral",i?.referral),i?.apiKey&&d.searchParams.append("apikey",i?.apiKey),d}render(){let{className:i}=this.props;return Bi.default.createElement("iframe",{id:"neosidekickAssistant",className:i,src:this.getUri().toString(),allow:"clipboard-write",onLoad:u=>u.target.dataset.loaded=!0})}};O(Tt,"propTypes",{configuration:mr.default.object.isRequired,activeContentDimensions:mr.default.object.isRequired,interfaceLanguage:mr.default.object.isRequired,className:mr.default.string}),Tt=Gt([(0,Mc.neos)(r=>({configuration:r.get("NEOSidekick.AiAssistant").get("configuration")})),(0,Fc.connect)(r=>({activeContentDimensions:Dc.selectors.CR.ContentDimensions.active(r),interfaceLanguage:i=>i?.user?.preferences?.interfaceLanguage}),{})],Tt);var Lc=(r,i)=>{let u=r.get("containers"),c=u.get("App");if(!i.chatSidebarEnabled){u.set("App",_=>Pe.default.createElement("div",null,Pe.default.createElement(c,{..._}),Pe.default.createElement(Tt,{className:"neosidekick__frame--hidden"})));return}let d=_=>{let y=localStorage.getItem("NEOSidekick")?JSON.parse(localStorage.getItem("NEOSidekick")):{open:!0,fullscreen:!1},[x,b]=Pe.default.useState(y?.open),P=z=>{b(z),y.open=z,localStorage.setItem("NEOSidekick",JSON.stringify(y))},[T,G]=Pe.default.useState(y?.fullscreen),W=z=>{G(z),y.fullscreen=z,localStorage.setItem("NEOSidekick",JSON.stringify(y))},R=(z,le,I)=>z?Pe.default.createElement(vr.IconButton,{icon:le?"compress":"expand",onClick:I}):"",L=(z,le,I)=>le?"":Pe.default.createElement(vr.IconButton,{icon:z?"chevron-circle-right":"chevron-circle-left",onClick:I});return Pe.default.createElement("div",{className:`neosidekick_appWrapper ${x?"neosidekick_appWrapper--sidebar-open":""}  ${T?"neosidekick_appWrapper--sidebar-fullscreen":""}`},Pe.default.createElement(c,{..._}),Pe.default.createElement("div",{className:"neosidekick_sideBar"},Pe.default.createElement("div",{className:"neosidekick_sideBar__title"},Pe.default.createElement(vr.Headline,{className:`neosidekick_sideBar__title-headline ${x?"neosidekick_sideBar__title-headline--open":""}`},"AI Sidekick"),Pe.default.createElement("div",null,R(x,T,()=>W(!T)),L(x,T,()=>P(!x)))),Pe.default.createElement(Tt,{className:`neosidekick_sideBar__frame ${x?"neosidekick_sideBar__frame--open":""}`})))};u.set("App",d)};var wr=Y(ft()),zc=Y(Ui());var Bc=Y(Ui()),ki=Y(ft()),Uc=(r,i)=>function*(){yield(0,Bc.takeEvery)(ki.actionTypes.ServerFeedback.HANDLE_SERVER_FEEDBACK,function*(u){u.payload.feedbackEnvelope.feedbacks.forEach(c=>{if(c.type!=="Neos.Neos.Ui:NodeCreated")return;let _=c.payload.contextPath.split("@")[0],y=i.getState(),x=ki.selectors.CR.Nodes.nodesByContextPathSelector(y),b=r.get("@neos-project/neos-ui-contentrepository"),P=r.get("NEOSidekick.AiAssistant").get("contentService");Object.keys(x).forEach(T=>{if(!T.split("@")[0].startsWith(_))return;let W=x[T],R=x[W.parent],L=b.get(W.nodeType);Object.keys(L.properties).forEach(z=>{P.evaluateNodeTypeConfigurationAndStartGeneration(W,z,L,R,!0)})})})})};var kc=Y(Ui()),Gc=Y(ft()),Kc=(r,i)=>function*(){yield(0,kc.takeEvery)(Gc.actionTypes.CR.Nodes.REMOVE,function*(u){r.get("NEOSidekick.AiAssistant").get("contentCanvasService").onNodeRemoved(u.payload)})};var $c=Y(Hc());function V0(r){return new Promise(i=>setTimeout(i,r))}var qc=(r,i,u,c)=>{let d=!1,_=(0,$c.debounce)((b,P)=>u.updateWebContext(b,P),500),y=function*(){yield(0,zc.takeLatest)([wr.actionTypes.UI.ContentCanvas.SET_SRC,wr.actionTypes.UI.ContentCanvas.RELOAD,wr.actionTypes.CR.Nodes.MERGE],async function*(b){b.type===wr.actionTypes.UI.ContentCanvas.SET_SRC&&(d=!0),yield V0(500);let P=r.get("@neos-project/neos-ui-contentrepository"),T=i.getState(),G=T?.ui?.contentCanvas?.previewUrl,W=c.getCurrentDocumentNode(),R=W?.contextPath,L=Object.values(T?.cr?.nodes?.byContextPath||{}).filter(le=>{let I=P.getRole("document");if(!I)throw new Error("Document role is not loaded!");let te=P.getSubTypesOf(I);return R&&le.contextPath.indexOf(R.split("@")[0])===0&&(le.contextPath===R||!te.includes(le.nodeType))}),z={url:G,title:W?.properties?.title||c.getGuestFrameDocumentTitle(),content:c.getGuestFrameDocumentHtml(),structuredContent:L,targetAudience:await c.getCurrentDocumentTargetAudience(),pageBriefing:await c.getCurrentDocumentPageBriefing(),focusKeyword:await c.getCurrentDocumentFocusKeyword()};_(d,z),d=!1})},x=r.get("sagas");x.set("NEOSidekick.AiAssistant/watchDocumentNodeChange",{saga:y}),x.set("NEOSidekick.AiAssistant/watchNodeCreated",{saga:Uc(r,i)}),x.set("NEOSidekick.AiAssistant/watchNodeRemoved",{saga:Kc(r,i)})};var Sr=Y(Dn()),Yc=Y(dr()),Gi=Y(pr()),Ki=Y(_r()),Zc=Y(gr()),Jc=Y(ft());var $t=class extends Sr.PureComponent{constructor(u){super(u);O(this,"state",{show:!1,enabled:!0});O(this,"evaluateFocusedNodeAndPropertyAndShowButton",(u=5)=>{let{nodeType:c,property:d}=this.props.contentService.getCurrentlyFocusedNodePathAndProperty();if(!c||!d){if(u===0)return;setTimeout(()=>this.evaluateFocusedNodeAndPropertyAndShowButton(u-1),100);return}let _=c.properties[d];this.setState({show:_?.ui?.inlineEditable===!0&&_?.options?.sidekick?.module!==void 0})});O(this,"onClick",async()=>{let{addFlashMessage:u,i18nRegistry:c,contentService:d}=this.props;try{this.setState({enabled:!1});let{node:_,nodeType:y,parentNode:x,property:b}=d.getCurrentlyFocusedNodePathAndProperty();await d.evaluateNodeTypeConfigurationAndStartGeneration(_,b,y,x)}catch(_){u(_?.code??_?.message,_?.code?c.translate("NEOSidekick.AiAssistant:Error:"+_.code,_.message,{0:_.externalMessage}):_.message,_?.severity??"error")}finally{setTimeout(()=>{this.setState({enabled:!0})},2500)}})}componentDidMount(){this.evaluateFocusedNodeAndPropertyAndShowButton()}render(){let{i18nRegistry:u}=this.props;return this.state.show?Sr.default.createElement(Ki.Button,{disabled:!this.state.enabled,style:"transparent",hoverStyle:"brand",onClick:this.onClick,isActive:!!this.props.isActive,title:u.translate("NEOSidekick.AiAssistant:Main:generate")},Sr.default.createElement(Ki.Icon,{icon:"magic",size:"",fixedWidth:!0,padded:"right"}),u.translate("NEOSidekick.AiAssistant:Main:generate")):""}};O($t,"propTypes",{contentService:Gi.default.object.isRequired,i18nRegistry:Gi.default.object.isRequired,addFlashMessage:Gi.default.func.isRequired}),$t=Gt([(0,Zc.neos)(r=>({contentService:r.get("NEOSidekick.AiAssistant").get("contentService"),i18nRegistry:r.get("i18n")})),(0,Yc.connect)(()=>{},{addFlashMessage:Jc.actions.UI.FlashMessages.add})],$t);var Xc=r=>{r.get("ckEditor5").get("richtextToolbar").set("NEOSidekick.AiAssistant:generate",{component:$t,isVisible:()=>!0},"end")};wf("NEOSidekick.AiAssistant",{},(r,{store:i,frontendConfiguration:u})=>{let c=u["NEOSidekick.AiAssistant"];if(Rc(r,c?.enabled),!c?.enabled)return;if(!c.hasOwnProperty("defaultLanguage")||!c.defaultLanguage){console.error("Could not initialize AiAssistant: defaultLanguage is not configured correctly, see README.");return}r.set("NEOSidekick.AiAssistant",new Kt(""));let d=r.get("NEOSidekick.AiAssistant");d.set("configuration",c);let _=Sf(c);d.set("externalService",_);let y=mc(r,i);d.set("contentService",y);let x=wc();d.set("iFrameApiService",x);let b=yc(r,i,x);d.set("contentCanvasService",b),Lc(r,c),qc(r,i,x,y),Xc(r)});})();
/*! Bundled license information:

lodash/lodash.js:
  (**
   * @license
   * Lodash <https://lodash.com/>
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/
//# sourceMappingURL=Plugin.js.map
