(()=>{var D=Object.create;var A=Object.defineProperty;var J=Object.getOwnPropertyDescriptor;var T=Object.getOwnPropertyNames;var V=Object.getPrototypeOf,q=Object.prototype.hasOwnProperty;var Y=(e,t)=>()=>(e&&(t=e(e=0)),t);var m=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var z=(e,t,r,c)=>{if(t&&typeof t=="object"||typeof t=="function")for(let f of T(t))!q.call(e,f)&&f!==r&&A(e,f,{get:()=>t[f],enumerable:!(c=J(t,f))||c.enumerable});return e};var g=(e,t,r)=>(r=e!=null?D(V(e)):{},z(t||!e||!e.__esModule?A(r,"default",{value:e,enumerable:!0}):r,e));function n(e){return(...t)=>{if(window["@Neos:HostPluginAPI"]&&window["@Neos:HostPluginAPI"][`@${e}`])return window["@Neos:HostPluginAPI"][`@${e}`](...t);throw new Error("You are trying to read from a consumer api that hasn't been initialized yet!")}}var l=Y(()=>{});var P=m((be,w)=>{l();w.exports=n("NeosProjectPackages")().ReactUiComponents});var C=m((Ne,x)=>{l();x.exports=n("NeosProjectPackages")().NeosUiReduxStore});var E=m((we,R)=>{l();R.exports=n("vendor")().React});var I=m((xe,v)=>{l();v.exports=n("vendor")().reactRedux});l();var O=n("manifest");var u=g(P()),W=g(C()),s=g(E()),S=g(I());O("NEOSidekick.AiAssistant",{},(e,{frontendConfiguration:t})=>{let r=null,c=new XMLHttpRequest;if(c.open("GET","/neosidekick/aiassistant/configuration",!1),c.withCredentials=!0,c.addEventListener("load",h=>{let i=h.target;i?.status>=200&&i?.status<=299&&(r=JSON.parse(i.responseText))}),c.send(),r===null||!(r?.apikey||""))return;let _=e.get("containers"),F=_.get("App"),j=h=>{let i=localStorage.getItem("NEOSidekick")?JSON.parse(localStorage.getItem("NEOSidekick")):{open:!0,fullscreen:!1},[p,K]=s.useState(i?.open),B=o=>{K(o),i.open=o,localStorage.setItem("NEOSidekick",JSON.stringify(i))},[d,L]=s.useState(i?.fullscreen),H=o=>{L(o),i.fullscreen=o,localStorage.setItem("NEOSidekick",JSON.stringify(i))},M=(o,y,k)=>{if(o)return s.createElement(u.IconButton,{icon:y?"compress":"expand",onClick:k})},$=(o,y,k)=>{if(!y)return s.createElement(u.IconButton,{icon:o?"chevron-circle-right":"chevron-circle-left",onClick:k})},b=(0,S.useSelector)(W.selectors.CR.ContentDimensions.active),U=(0,S.useSelector)(o=>o?.user?.preferences?.interfaceLanguage),a=new URL("https://api.neosidekick.com/chat/");return a.searchParams.append("contentLanguage",b.language?b.language[0]:""),a.searchParams.append("interfaceLanguage",U),a.searchParams.append("userId",r.userId),a.searchParams.append("plattform","neos"),a.searchParams.append("domain",r.domain),a.searchParams.append("siteName",r.siteName),r?.referral&&a.searchParams.append("referral",r?.referral),r?.apikey&&a.searchParams.append("apikey",r?.apikey),s.createElement("div",{className:`neosidekick_appWrapper ${p?"neosidekick_appWrapper--sidebar-open":""}  ${d?"neosidekick_appWrapper--sidebar-fullscreen":""}`},s.createElement(F,{...h}),s.createElement("div",{className:"neosidekick_sideBar"},s.createElement("div",{className:"neosidekick_sideBar__title"},s.createElement(u.Headline,{className:`neosidekick_sideBar__title-headline ${p?"neosidekick_sideBar__title-headline--open":""}`},"AI Sidekick"),s.createElement("div",null,M(p,d,()=>H(!d)),$(p,d,()=>B(!p)))),s.createElement("iframe",{className:`neosidekick_sideBar__frame ${p?"neosidekick_sideBar__frame--open":""}`,src:a.toString()})))};_.set("App",j)});})();
//# sourceMappingURL=Plugin.js.map
