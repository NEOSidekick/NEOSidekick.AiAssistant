(()=>{var U=Object.create;var b=Object.defineProperty;var D=Object.getOwnPropertyDescriptor;var J=Object.getOwnPropertyNames;var T=Object.getPrototypeOf,V=Object.prototype.hasOwnProperty;var q=(e,t)=>()=>(e&&(t=e(e=0)),t);var m=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports);var Y=(e,t,r,f)=>{if(t&&typeof t=="object"||typeof t=="function")for(let c of J(t))!V.call(e,c)&&c!==r&&b(e,c,{get:()=>t[c],enumerable:!(f=D(t,c))||f.enumerable});return e};var g=(e,t,r)=>(r=e!=null?U(T(e)):{},Y(t||!e||!e.__esModule?b(r,"default",{value:e,enumerable:!0}):r,e));function n(e){return(...t)=>{if(window["@Neos:HostPluginAPI"]&&window["@Neos:HostPluginAPI"][`@${e}`])return window["@Neos:HostPluginAPI"][`@${e}`](...t);throw new Error("You are trying to read from a consumer api that hasn't been initialized yet!")}}var l=q(()=>{});var O=m((_e,w)=>{l();w.exports=n("NeosProjectPackages")().ReactUiComponents});var x=m((Ae,P)=>{l();P.exports=n("NeosProjectPackages")().NeosUiReduxStore});var R=m((we,C)=>{l();C.exports=n("vendor")().React});var v=m((Pe,E)=>{l();E.exports=n("vendor")().reactRedux});l();var N=n("manifest");var d=g(O()),I=g(x()),s=g(R()),S=g(v());N("NEOSidekick.AiAssistant",{},(e,{frontendConfiguration:t})=>{let r=null,f=new XMLHttpRequest;if(f.open("GET","/neosidekick/aiassistant/configuration",!1),f.withCredentials=!0,f.addEventListener("load",h=>{let i=h.target;i?.status>=200&&i?.status<=299&&(r=JSON.parse(i.responseText))}),f.send(),r===null)return;let c=e.get("containers"),W=c.get("App"),F=h=>{let i=localStorage.getItem("NEOSidekick")?JSON.parse(localStorage.getItem("NEOSidekick")):{open:!0,fullscreen:!1},[p,j]=s.useState(i?.open),K=o=>{j(o),i.open=o,localStorage.setItem("NEOSidekick",JSON.stringify(i))},[u,B]=s.useState(i?.fullscreen),L=o=>{B(o),i.fullscreen=o,localStorage.setItem("NEOSidekick",JSON.stringify(i))},H=(o,y,k)=>{if(o)return s.createElement(d.IconButton,{icon:y?"compress":"expand",onClick:k})},M=(o,y,k)=>{if(!y)return s.createElement(d.IconButton,{icon:o?"chevron-circle-right":"chevron-circle-left",onClick:k})},_=(0,S.useSelector)(I.selectors.CR.ContentDimensions.active),$=(0,S.useSelector)(o=>o?.user?.preferences?.interfaceLanguage),a=new URL("https://api.neosidekick.com/chat/");return a.searchParams.append("contentLanguage",_.language?_.language[0]:""),a.searchParams.append("interfaceLanguage",$),a.searchParams.append("userId",r.userId),a.searchParams.append("plattform","neos"),a.searchParams.append("domain",r.domain),a.searchParams.append("siteName",r.siteName),r?.referral&&a.searchParams.append("referral",r?.referral),r?.apikey&&a.searchParams.append("apikey",r?.apikey),s.createElement("div",{className:`neosidekick_appWrapper ${p?"neosidekick_appWrapper--sidebar-open":""}  ${u?"neosidekick_appWrapper--sidebar-fullscreen":""}`},s.createElement(W,{...h}),s.createElement("div",{className:"neosidekick_sideBar"},s.createElement("div",{className:"neosidekick_sideBar__title"},s.createElement(d.Headline,{className:`neosidekick_sideBar__title-headline ${p?"neosidekick_sideBar__title-headline--open":""}`},"AI Sidekick"),s.createElement("div",null,H(p,u,()=>L(!u)),M(p,u,()=>K(!p)))),s.createElement("iframe",{className:`neosidekick_sideBar__frame ${p?"neosidekick_sideBar__frame--open":""}`,src:a.toString(),allow:"clipboard-write"})))};c.set("App",F)});})();
//# sourceMappingURL=Plugin.js.map
