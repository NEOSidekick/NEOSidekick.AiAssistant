"use strict";(()=>{var z_=Object.create;var gi=Object.defineProperty;var Sf=Object.getOwnPropertyDescriptor;var Y_=Object.getOwnPropertyNames;var Z_=Object.getPrototypeOf,J_=Object.prototype.hasOwnProperty;var X_=(r,o,u)=>o in r?gi(r,o,{enumerable:!0,configurable:!0,writable:!0,value:u}):r[o]=u;var Q_=(r,o)=>()=>(r&&(o=r(r=0)),o);var at=(r,o)=>()=>(o||r((o={exports:{}}).exports,o),o.exports);var j_=(r,o,u,c)=>{if(o&&typeof o=="object"||typeof o=="function")for(let h of Y_(o))!J_.call(r,h)&&h!==u&&gi(r,h,{get:()=>o[h],enumerable:!(c=Sf(o,h))||c.enumerable});return r};var Z=(r,o,u)=>(u=r!=null?z_(Z_(r)):{},j_(o||!r||!r.__esModule?gi(u,"default",{value:r,enumerable:!0}):u,r));var Kt=(r,o,u,c)=>{for(var h=c>1?void 0:c?Sf(o,u):o,v=r.length-1,y;v>=0;v--)(y=r[v])&&(h=(c?y(o,u,h):y(h))||h);return c&&h&&gi(o,u,h),h};var N=(r,o,u)=>(X_(r,typeof o!="symbol"?o+"":o,u),u);function le(r){return(...o)=>{if(window["@Neos:HostPluginAPI"]&&window["@Neos:HostPluginAPI"][`@${r}`])return window["@Neos:HostPluginAPI"][`@${r}`](...o);throw new Error("You are trying to read from a consumer api that hasn't been initialized yet!")}}var tt=Q_(()=>{});var ft=at((I1,Of)=>{tt();Of.exports=le("NeosProjectPackages")().NeosUiReduxStore});var mc=at((cr,Nn)=>{var h0=200,p0="Expected a function",Ms="__lodash_hash_undefined__",Oi=1,Tn=2,Yf=1/0,Zf=9007199254740991,yi="[object Arguments]",Ps="[object Array]",Jf="[object Boolean]",Xf="[object Date]",Qf="[object Error]",jf="[object Function]",d0="[object GeneratorFunction]",wi="[object Map]",Vf="[object Number]",Pn="[object Object]",Bf="[object Promise]",ec="[object RegExp]",Ai="[object Set]",tc="[object String]",nc="[object Symbol]",Ns="[object WeakMap]",rc="[object ArrayBuffer]",Si="[object DataView]",g0="[object Float32Array]",v0="[object Float64Array]",m0="[object Int8Array]",_0="[object Int16Array]",y0="[object Int32Array]",w0="[object Uint8Array]",A0="[object Uint8ClampedArray]",S0="[object Uint16Array]",x0="[object Uint32Array]",b0=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,C0=/^\w*$/,O0=/^\./,E0=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,P0=/[\\^$.*+?()[\]{}|]/g,N0=/\\(\\)?/g,T0=/^\[object .+?Constructor\]$/,R0=/^(?:0|[1-9]\d*)$/,oe={};oe[g0]=oe[v0]=oe[m0]=oe[_0]=oe[y0]=oe[w0]=oe[A0]=oe[S0]=oe[x0]=!0;oe[yi]=oe[Ps]=oe[rc]=oe[Jf]=oe[Si]=oe[Xf]=oe[Qf]=oe[jf]=oe[wi]=oe[Vf]=oe[Pn]=oe[ec]=oe[Ai]=oe[tc]=oe[Ns]=!1;var ic=typeof global=="object"&&global&&global.Object===Object&&global,I0=typeof self=="object"&&self&&self.Object===Object&&self,qt=ic||I0||Function("return this")(),oc=typeof cr=="object"&&cr&&!cr.nodeType&&cr,Uf=oc&&typeof Nn=="object"&&Nn&&!Nn.nodeType&&Nn,F0=Uf&&Uf.exports===oc,kf=F0&&ic.process,Gf=function(){try{return kf&&kf.binding("util")}catch{}}(),Kf=Gf&&Gf.isTypedArray;function D0(r,o){for(var u=-1,c=r?r.length:0;++u<c;)if(o(r[u],u,r))return!0;return!1}function M0(r){return function(o){return o?.[r]}}function L0(r,o){for(var u=-1,c=Array(r);++u<r;)c[u]=o(u);return c}function W0(r){return function(o){return r(o)}}function B0(r,o){return r?.[o]}function Ts(r){var o=!1;if(r!=null&&typeof r.toString!="function")try{o=!!(r+"")}catch{}return o}function U0(r){var o=-1,u=Array(r.size);return r.forEach(function(c,h){u[++o]=[h,c]}),u}function k0(r,o){return function(u){return r(o(u))}}function G0(r){var o=-1,u=Array(r.size);return r.forEach(function(c){u[++o]=c}),u}var K0=Array.prototype,H0=Function.prototype,Ei=Object.prototype,Os=qt["__core-js_shared__"],Hf=function(){var r=/[^.]+$/.exec(Os&&Os.keys&&Os.keys.IE_PROTO||"");return r?"Symbol(src)_1."+r:""}(),sc=H0.toString,Ct=Ei.hasOwnProperty,Rn=Ei.toString,$0=RegExp("^"+sc.call(Ct).replace(P0,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),$f=qt.Symbol,qf=qt.Uint8Array,q0=Ei.propertyIsEnumerable,z0=K0.splice,Y0=k0(Object.keys,Object),Rs=In(qt,"DataView"),lr=In(qt,"Map"),Is=In(qt,"Promise"),Fs=In(qt,"Set"),Ds=In(qt,"WeakMap"),hr=In(Object,"create"),Z0=an(Rs),J0=an(lr),X0=an(Is),Q0=an(Fs),j0=an(Ds),xi=$f?$f.prototype:void 0,Es=xi?xi.valueOf:void 0,zf=xi?xi.toString:void 0;function sn(r){var o=-1,u=r?r.length:0;for(this.clear();++o<u;){var c=r[o];this.set(c[0],c[1])}}function V0(){this.__data__=hr?hr(null):{}}function ey(r){return this.has(r)&&delete this.__data__[r]}function ty(r){var o=this.__data__;if(hr){var u=o[r];return u===Ms?void 0:u}return Ct.call(o,r)?o[r]:void 0}function ny(r){var o=this.__data__;return hr?o[r]!==void 0:Ct.call(o,r)}function ry(r,o){var u=this.__data__;return u[r]=hr&&o===void 0?Ms:o,this}sn.prototype.clear=V0;sn.prototype.delete=ey;sn.prototype.get=ty;sn.prototype.has=ny;sn.prototype.set=ry;function Ot(r){var o=-1,u=r?r.length:0;for(this.clear();++o<u;){var c=r[o];this.set(c[0],c[1])}}function iy(){this.__data__=[]}function oy(r){var o=this.__data__,u=Pi(o,r);if(u<0)return!1;var c=o.length-1;return u==c?o.pop():z0.call(o,u,1),!0}function sy(r){var o=this.__data__,u=Pi(o,r);return u<0?void 0:o[u][1]}function uy(r){return Pi(this.__data__,r)>-1}function ay(r,o){var u=this.__data__,c=Pi(u,r);return c<0?u.push([r,o]):u[c][1]=o,this}Ot.prototype.clear=iy;Ot.prototype.delete=oy;Ot.prototype.get=sy;Ot.prototype.has=uy;Ot.prototype.set=ay;function Et(r){var o=-1,u=r?r.length:0;for(this.clear();++o<u;){var c=r[o];this.set(c[0],c[1])}}function fy(){this.__data__={hash:new sn,map:new(lr||Ot),string:new sn}}function cy(r){return Ni(this,r).delete(r)}function ly(r){return Ni(this,r).get(r)}function hy(r){return Ni(this,r).has(r)}function py(r,o){return Ni(this,r).set(r,o),this}Et.prototype.clear=fy;Et.prototype.delete=cy;Et.prototype.get=ly;Et.prototype.has=hy;Et.prototype.set=py;function bi(r){var o=-1,u=r?r.length:0;for(this.__data__=new Et;++o<u;)this.add(r[o])}function dy(r){return this.__data__.set(r,Ms),this}function gy(r){return this.__data__.has(r)}bi.prototype.add=bi.prototype.push=dy;bi.prototype.has=gy;function bt(r){this.__data__=new Ot(r)}function vy(){this.__data__=new Ot}function my(r){return this.__data__.delete(r)}function _y(r){return this.__data__.get(r)}function yy(r){return this.__data__.has(r)}function wy(r,o){var u=this.__data__;if(u instanceof Ot){var c=u.__data__;if(!lr||c.length<h0-1)return c.push([r,o]),this;u=this.__data__=new Et(c)}return u.set(r,o),this}bt.prototype.clear=vy;bt.prototype.delete=my;bt.prototype.get=_y;bt.prototype.has=yy;bt.prototype.set=wy;function Ay(r,o){var u=un(r)||dc(r)?L0(r.length,String):[],c=u.length,h=!!c;for(var v in r)(o||Ct.call(r,v))&&!(h&&(v=="length"||cc(v,c)))&&u.push(v);return u}function Pi(r,o){for(var u=r.length;u--;)if(pc(r[u][0],o))return u;return-1}var Sy=Ly();function xy(r,o){return r&&Sy(r,o,Ci)}function uc(r,o){o=Ti(o,r)?[o]:ac(o);for(var u=0,c=o.length;r!=null&&u<c;)r=r[Ri(o[u++])];return u&&u==c?r:void 0}function by(r){return Rn.call(r)}function Cy(r,o){return r!=null&&o in Object(r)}function Ls(r,o,u,c,h){return r===o?!0:r==null||o==null||!Ii(r)&&!Fi(o)?r!==r&&o!==o:Oy(r,o,Ls,u,c,h)}function Oy(r,o,u,c,h,v){var y=un(r),S=un(o),C=Ps,b=Ps;y||(C=$t(r),C=C==yi?Pn:C),S||(b=$t(o),b=b==yi?Pn:b);var P=C==Pn&&!Ts(r),M=b==Pn&&!Ts(o),F=C==b;if(F&&!P)return v||(v=new bt),y||zy(r)?fc(r,o,u,c,h,v):Wy(r,o,C,u,c,h,v);if(!(h&Tn)){var R=P&&Ct.call(r,"__wrapped__"),U=M&&Ct.call(o,"__wrapped__");if(R||U){var D=R?r.value():r,ae=U?o.value():o;return v||(v=new bt),u(D,ae,c,h,v)}}return F?(v||(v=new bt),By(r,o,u,c,h,v)):!1}function Ey(r,o,u,c){var h=u.length,v=h,y=!c;if(r==null)return!v;for(r=Object(r);h--;){var S=u[h];if(y&&S[2]?S[1]!==r[S[0]]:!(S[0]in r))return!1}for(;++h<v;){S=u[h];var C=S[0],b=r[C],P=S[1];if(y&&S[2]){if(b===void 0&&!(C in r))return!1}else{var M=new bt;if(c)var F=c(b,P,C,r,o,M);if(!(F===void 0?Ls(P,b,c,Oi|Tn,M):F))return!1}}return!0}function Py(r){if(!Ii(r)||Ky(r))return!1;var o=vc(r)||Ts(r)?$0:T0;return o.test(an(r))}function Ny(r){return Fi(r)&&Bs(r.length)&&!!oe[Rn.call(r)]}function Ty(r){return typeof r=="function"?r:r==null?Qy:typeof r=="object"?un(r)?Fy(r[0],r[1]):Iy(r):jy(r)}function Ry(r){if(!Hy(r))return Y0(r);var o=[];for(var u in Object(r))Ct.call(r,u)&&u!="constructor"&&o.push(u);return o}function Iy(r){var o=Uy(r);return o.length==1&&o[0][2]?hc(o[0][0],o[0][1]):function(u){return u===r||Ey(u,r,o)}}function Fy(r,o){return Ti(r)&&lc(o)?hc(Ri(r),o):function(u){var c=Zy(u,r);return c===void 0&&c===o?Jy(u,r):Ls(o,c,void 0,Oi|Tn)}}function Dy(r){return function(o){return uc(o,r)}}function My(r){if(typeof r=="string")return r;if(Us(r))return zf?zf.call(r):"";var o=r+"";return o=="0"&&1/r==-Yf?"-0":o}function ac(r){return un(r)?r:$y(r)}function Ly(r){return function(o,u,c){for(var h=-1,v=Object(o),y=c(o),S=y.length;S--;){var C=y[r?S:++h];if(u(v[C],C,v)===!1)break}return o}}function fc(r,o,u,c,h,v){var y=h&Tn,S=r.length,C=o.length;if(S!=C&&!(y&&C>S))return!1;var b=v.get(r);if(b&&v.get(o))return b==o;var P=-1,M=!0,F=h&Oi?new bi:void 0;for(v.set(r,o),v.set(o,r);++P<S;){var R=r[P],U=o[P];if(c)var D=y?c(U,R,P,o,r,v):c(R,U,P,r,o,v);if(D!==void 0){if(D)continue;M=!1;break}if(F){if(!D0(o,function(ae,I){if(!F.has(I)&&(R===ae||u(R,ae,c,h,v)))return F.add(I)})){M=!1;break}}else if(!(R===U||u(R,U,c,h,v))){M=!1;break}}return v.delete(r),v.delete(o),M}function Wy(r,o,u,c,h,v,y){switch(u){case Si:if(r.byteLength!=o.byteLength||r.byteOffset!=o.byteOffset)return!1;r=r.buffer,o=o.buffer;case rc:return!(r.byteLength!=o.byteLength||!c(new qf(r),new qf(o)));case Jf:case Xf:case Vf:return pc(+r,+o);case Qf:return r.name==o.name&&r.message==o.message;case ec:case tc:return r==o+"";case wi:var S=U0;case Ai:var C=v&Tn;if(S||(S=G0),r.size!=o.size&&!C)return!1;var b=y.get(r);if(b)return b==o;v|=Oi,y.set(r,o);var P=fc(S(r),S(o),c,h,v,y);return y.delete(r),P;case nc:if(Es)return Es.call(r)==Es.call(o)}return!1}function By(r,o,u,c,h,v){var y=h&Tn,S=Ci(r),C=S.length,b=Ci(o),P=b.length;if(C!=P&&!y)return!1;for(var M=C;M--;){var F=S[M];if(!(y?F in o:Ct.call(o,F)))return!1}var R=v.get(r);if(R&&v.get(o))return R==o;var U=!0;v.set(r,o),v.set(o,r);for(var D=y;++M<C;){F=S[M];var ae=r[F],I=o[F];if(c)var j=y?c(I,ae,F,o,r,v):c(ae,I,F,r,o,v);if(!(j===void 0?ae===I||u(ae,I,c,h,v):j)){U=!1;break}D||(D=F=="constructor")}if(U&&!D){var H=r.constructor,se=o.constructor;H!=se&&"constructor"in r&&"constructor"in o&&!(typeof H=="function"&&H instanceof H&&typeof se=="function"&&se instanceof se)&&(U=!1)}return v.delete(r),v.delete(o),U}function Ni(r,o){var u=r.__data__;return Gy(o)?u[typeof o=="string"?"string":"hash"]:u.map}function Uy(r){for(var o=Ci(r),u=o.length;u--;){var c=o[u],h=r[c];o[u]=[c,h,lc(h)]}return o}function In(r,o){var u=B0(r,o);return Py(u)?u:void 0}var $t=by;(Rs&&$t(new Rs(new ArrayBuffer(1)))!=Si||lr&&$t(new lr)!=wi||Is&&$t(Is.resolve())!=Bf||Fs&&$t(new Fs)!=Ai||Ds&&$t(new Ds)!=Ns)&&($t=function(r){var o=Rn.call(r),u=o==Pn?r.constructor:void 0,c=u?an(u):void 0;if(c)switch(c){case Z0:return Si;case J0:return wi;case X0:return Bf;case Q0:return Ai;case j0:return Ns}return o});function ky(r,o,u){o=Ti(o,r)?[o]:ac(o);for(var c,h=-1,y=o.length;++h<y;){var v=Ri(o[h]);if(!(c=r!=null&&u(r,v)))break;r=r[v]}if(c)return c;var y=r?r.length:0;return!!y&&Bs(y)&&cc(v,y)&&(un(r)||dc(r))}function cc(r,o){return o=o??Zf,!!o&&(typeof r=="number"||R0.test(r))&&r>-1&&r%1==0&&r<o}function Ti(r,o){if(un(r))return!1;var u=typeof r;return u=="number"||u=="symbol"||u=="boolean"||r==null||Us(r)?!0:C0.test(r)||!b0.test(r)||o!=null&&r in Object(o)}function Gy(r){var o=typeof r;return o=="string"||o=="number"||o=="symbol"||o=="boolean"?r!=="__proto__":r===null}function Ky(r){return!!Hf&&Hf in r}function Hy(r){var o=r&&r.constructor,u=typeof o=="function"&&o.prototype||Ei;return r===u}function lc(r){return r===r&&!Ii(r)}function hc(r,o){return function(u){return u==null?!1:u[r]===o&&(o!==void 0||r in Object(u))}}var $y=Ws(function(r){r=Yy(r);var o=[];return O0.test(r)&&o.push(""),r.replace(E0,function(u,c,h,v){o.push(h?v.replace(N0,"$1"):c||u)}),o});function Ri(r){if(typeof r=="string"||Us(r))return r;var o=r+"";return o=="0"&&1/r==-Yf?"-0":o}function an(r){if(r!=null){try{return sc.call(r)}catch{}try{return r+""}catch{}}return""}function Ws(r,o){if(typeof r!="function"||o&&typeof o!="function")throw new TypeError(p0);var u=function(){var c=arguments,h=o?o.apply(this,c):c[0],v=u.cache;if(v.has(h))return v.get(h);var y=r.apply(this,c);return u.cache=v.set(h,y),y};return u.cache=new(Ws.Cache||Et),u}Ws.Cache=Et;function pc(r,o){return r===o||r!==r&&o!==o}function dc(r){return qy(r)&&Ct.call(r,"callee")&&(!q0.call(r,"callee")||Rn.call(r)==yi)}var un=Array.isArray;function gc(r){return r!=null&&Bs(r.length)&&!vc(r)}function qy(r){return Fi(r)&&gc(r)}function vc(r){var o=Ii(r)?Rn.call(r):"";return o==jf||o==d0}function Bs(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=Zf}function Ii(r){var o=typeof r;return!!r&&(o=="object"||o=="function")}function Fi(r){return!!r&&typeof r=="object"}function Us(r){return typeof r=="symbol"||Fi(r)&&Rn.call(r)==nc}var zy=Kf?W0(Kf):Ny;function Yy(r){return r==null?"":My(r)}function Zy(r,o,u){var c=r==null?void 0:uc(r,o);return c===void 0?u:c}function Jy(r,o){return r!=null&&ky(r,o,Cy)}function Ci(r){return gc(r)?Ay(r):Ry(r)}function Xy(r,o){var u={};return o=Ty(o,3),xy(r,function(c,h,v){u[h]=o(c,h,v)}),u}function Qy(r){return r}function jy(r){return Ti(r)?M0(Ri(r)):Dy(r)}Nn.exports=Xy});var bc=at((X1,xc)=>{tt();xc.exports=le("NeosProjectPackages")().NeosUiEditors});var Dn=at((j1,Cc)=>{tt();Cc.exports=le("vendor")().React});var pr=at((ew,Oc)=>{tt();Oc.exports=le("vendor")().reactRedux});var dr=at((nw,Ec)=>{tt();Ec.exports=le("vendor")().PropTypes});var gr=at((iw,Pc)=>{tt();Pc.exports=le("NeosProjectPackages")().NeosUiDecorators});var vr=at((sw,Nc)=>{tt();Nc.exports=le("NeosProjectPackages")().ReactUiComponents});var Li=at((xw,Uc)=>{tt();Uc.exports=le("vendor")().reduxSagaEffects});var qc=at((Wn,yr)=>{(function(){var r,o="4.17.21",u=200,c="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",h="Expected a function",v="Invalid `variable` option passed into `_.template`",y="__lodash_hash_undefined__",S=500,C="__lodash_placeholder__",b=1,P=2,M=4,F=1,R=2,U=1,D=2,ae=4,I=8,j=16,H=32,se=64,ee=128,rt=256,te=512,he=30,pt="...",Vc=800,el=16,Hs=1,tl=2,nl=3,Yt=1/0,Rt=9007199254740991,rl=17976931348623157e292,Sr=0/0,it=4294967295,il=it-1,ol=it>>>1,sl=[["ary",ee],["bind",U],["bindKey",D],["curry",I],["curryRight",j],["flip",te],["partial",H],["partialRight",se],["rearg",rt]],ln="[object Arguments]",xr="[object Array]",ul="[object AsyncFunction]",Bn="[object Boolean]",Un="[object Date]",al="[object DOMException]",br="[object Error]",Cr="[object Function]",$s="[object GeneratorFunction]",Je="[object Map]",kn="[object Number]",fl="[object Null]",dt="[object Object]",qs="[object Promise]",cl="[object Proxy]",Gn="[object RegExp]",Xe="[object Set]",Kn="[object String]",Or="[object Symbol]",ll="[object Undefined]",Hn="[object WeakMap]",hl="[object WeakSet]",$n="[object ArrayBuffer]",hn="[object DataView]",ki="[object Float32Array]",Gi="[object Float64Array]",Ki="[object Int8Array]",Hi="[object Int16Array]",$i="[object Int32Array]",qi="[object Uint8Array]",zi="[object Uint8ClampedArray]",Yi="[object Uint16Array]",Zi="[object Uint32Array]",pl=/\b__p \+= '';/g,dl=/\b(__p \+=) '' \+/g,gl=/(__e\(.*?\)|\b__t\)) \+\n'';/g,zs=/&(?:amp|lt|gt|quot|#39);/g,Ys=/[&<>"']/g,vl=RegExp(zs.source),ml=RegExp(Ys.source),_l=/<%-([\s\S]+?)%>/g,yl=/<%([\s\S]+?)%>/g,Zs=/<%=([\s\S]+?)%>/g,wl=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Al=/^\w*$/,Sl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ji=/[\\^$.*+?()[\]{}|]/g,xl=RegExp(Ji.source),Xi=/^\s+/,bl=/\s/,Cl=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Ol=/\{\n\/\* \[wrapped with (.+)\] \*/,El=/,? & /,Pl=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Nl=/[()=,{}\[\]\/\s]/,Tl=/\\(\\)?/g,Rl=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Js=/\w*$/,Il=/^[-+]0x[0-9a-f]+$/i,Fl=/^0b[01]+$/i,Dl=/^\[object .+?Constructor\]$/,Ml=/^0o[0-7]+$/i,Ll=/^(?:0|[1-9]\d*)$/,Wl=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Er=/($^)/,Bl=/['\n\r\u2028\u2029\\]/g,Pr="\\ud800-\\udfff",Ul="\\u0300-\\u036f",kl="\\ufe20-\\ufe2f",Gl="\\u20d0-\\u20ff",Xs=Ul+kl+Gl,Qs="\\u2700-\\u27bf",js="a-z\\xdf-\\xf6\\xf8-\\xff",Kl="\\xac\\xb1\\xd7\\xf7",Hl="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",$l="\\u2000-\\u206f",ql=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Vs="A-Z\\xc0-\\xd6\\xd8-\\xde",eu="\\ufe0e\\ufe0f",tu=Kl+Hl+$l+ql,Qi="['\u2019]",zl="["+Pr+"]",nu="["+tu+"]",Nr="["+Xs+"]",ru="\\d+",Yl="["+Qs+"]",iu="["+js+"]",ou="[^"+Pr+tu+ru+Qs+js+Vs+"]",ji="\\ud83c[\\udffb-\\udfff]",Zl="(?:"+Nr+"|"+ji+")",su="[^"+Pr+"]",Vi="(?:\\ud83c[\\udde6-\\uddff]){2}",eo="[\\ud800-\\udbff][\\udc00-\\udfff]",pn="["+Vs+"]",uu="\\u200d",au="(?:"+iu+"|"+ou+")",Jl="(?:"+pn+"|"+ou+")",fu="(?:"+Qi+"(?:d|ll|m|re|s|t|ve))?",cu="(?:"+Qi+"(?:D|LL|M|RE|S|T|VE))?",lu=Zl+"?",hu="["+eu+"]?",Xl="(?:"+uu+"(?:"+[su,Vi,eo].join("|")+")"+hu+lu+")*",Ql="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",jl="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",pu=hu+lu+Xl,Vl="(?:"+[Yl,Vi,eo].join("|")+")"+pu,eh="(?:"+[su+Nr+"?",Nr,Vi,eo,zl].join("|")+")",th=RegExp(Qi,"g"),nh=RegExp(Nr,"g"),to=RegExp(ji+"(?="+ji+")|"+eh+pu,"g"),rh=RegExp([pn+"?"+iu+"+"+fu+"(?="+[nu,pn,"$"].join("|")+")",Jl+"+"+cu+"(?="+[nu,pn+au,"$"].join("|")+")",pn+"?"+au+"+"+fu,pn+"+"+cu,jl,Ql,ru,Vl].join("|"),"g"),ih=RegExp("["+uu+Pr+Xs+eu+"]"),oh=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,sh=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],uh=-1,ie={};ie[ki]=ie[Gi]=ie[Ki]=ie[Hi]=ie[$i]=ie[qi]=ie[zi]=ie[Yi]=ie[Zi]=!0,ie[ln]=ie[xr]=ie[$n]=ie[Bn]=ie[hn]=ie[Un]=ie[br]=ie[Cr]=ie[Je]=ie[kn]=ie[dt]=ie[Gn]=ie[Xe]=ie[Kn]=ie[Hn]=!1;var re={};re[ln]=re[xr]=re[$n]=re[hn]=re[Bn]=re[Un]=re[ki]=re[Gi]=re[Ki]=re[Hi]=re[$i]=re[Je]=re[kn]=re[dt]=re[Gn]=re[Xe]=re[Kn]=re[Or]=re[qi]=re[zi]=re[Yi]=re[Zi]=!0,re[br]=re[Cr]=re[Hn]=!1;var ah={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},fh={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ch={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},lh={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},hh=parseFloat,ph=parseInt,du=typeof global=="object"&&global&&global.Object===Object&&global,dh=typeof self=="object"&&self&&self.Object===Object&&self,me=du||dh||Function("return this")(),no=typeof Wn=="object"&&Wn&&!Wn.nodeType&&Wn,Zt=no&&typeof yr=="object"&&yr&&!yr.nodeType&&yr,gu=Zt&&Zt.exports===no,ro=gu&&du.process,Ge=function(){try{var d=Zt&&Zt.require&&Zt.require("util").types;return d||ro&&ro.binding&&ro.binding("util")}catch{}}(),vu=Ge&&Ge.isArrayBuffer,mu=Ge&&Ge.isDate,_u=Ge&&Ge.isMap,yu=Ge&&Ge.isRegExp,wu=Ge&&Ge.isSet,Au=Ge&&Ge.isTypedArray;function Fe(d,_,m){switch(m.length){case 0:return d.call(_);case 1:return d.call(_,m[0]);case 2:return d.call(_,m[0],m[1]);case 3:return d.call(_,m[0],m[1],m[2])}return d.apply(_,m)}function gh(d,_,m,E){for(var k=-1,X=d==null?0:d.length;++k<X;){var ge=d[k];_(E,ge,m(ge),d)}return E}function Ke(d,_){for(var m=-1,E=d==null?0:d.length;++m<E&&_(d[m],m,d)!==!1;);return d}function vh(d,_){for(var m=d==null?0:d.length;m--&&_(d[m],m,d)!==!1;);return d}function Su(d,_){for(var m=-1,E=d==null?0:d.length;++m<E;)if(!_(d[m],m,d))return!1;return!0}function It(d,_){for(var m=-1,E=d==null?0:d.length,k=0,X=[];++m<E;){var ge=d[m];_(ge,m,d)&&(X[k++]=ge)}return X}function Tr(d,_){var m=d==null?0:d.length;return!!m&&dn(d,_,0)>-1}function io(d,_,m){for(var E=-1,k=d==null?0:d.length;++E<k;)if(m(_,d[E]))return!0;return!1}function ue(d,_){for(var m=-1,E=d==null?0:d.length,k=Array(E);++m<E;)k[m]=_(d[m],m,d);return k}function Ft(d,_){for(var m=-1,E=_.length,k=d.length;++m<E;)d[k+m]=_[m];return d}function oo(d,_,m,E){var k=-1,X=d==null?0:d.length;for(E&&X&&(m=d[++k]);++k<X;)m=_(m,d[k],k,d);return m}function mh(d,_,m,E){var k=d==null?0:d.length;for(E&&k&&(m=d[--k]);k--;)m=_(m,d[k],k,d);return m}function so(d,_){for(var m=-1,E=d==null?0:d.length;++m<E;)if(_(d[m],m,d))return!0;return!1}var _h=uo("length");function yh(d){return d.split("")}function wh(d){return d.match(Pl)||[]}function xu(d,_,m){var E;return m(d,function(k,X,ge){if(_(k,X,ge))return E=X,!1}),E}function Rr(d,_,m,E){for(var k=d.length,X=m+(E?1:-1);E?X--:++X<k;)if(_(d[X],X,d))return X;return-1}function dn(d,_,m){return _===_?Ih(d,_,m):Rr(d,bu,m)}function Ah(d,_,m,E){for(var k=m-1,X=d.length;++k<X;)if(E(d[k],_))return k;return-1}function bu(d){return d!==d}function Cu(d,_){var m=d==null?0:d.length;return m?fo(d,_)/m:Sr}function uo(d){return function(_){return _==null?r:_[d]}}function ao(d){return function(_){return d==null?r:d[_]}}function Ou(d,_,m,E,k){return k(d,function(X,ge,ne){m=E?(E=!1,X):_(m,X,ge,ne)}),m}function Sh(d,_){var m=d.length;for(d.sort(_);m--;)d[m]=d[m].value;return d}function fo(d,_){for(var m,E=-1,k=d.length;++E<k;){var X=_(d[E]);X!==r&&(m=m===r?X:m+X)}return m}function co(d,_){for(var m=-1,E=Array(d);++m<d;)E[m]=_(m);return E}function xh(d,_){return ue(_,function(m){return[m,d[m]]})}function Eu(d){return d&&d.slice(0,Ru(d)+1).replace(Xi,"")}function De(d){return function(_){return d(_)}}function lo(d,_){return ue(_,function(m){return d[m]})}function qn(d,_){return d.has(_)}function Pu(d,_){for(var m=-1,E=d.length;++m<E&&dn(_,d[m],0)>-1;);return m}function Nu(d,_){for(var m=d.length;m--&&dn(_,d[m],0)>-1;);return m}function bh(d,_){for(var m=d.length,E=0;m--;)d[m]===_&&++E;return E}var Ch=ao(ah),Oh=ao(fh);function Eh(d){return"\\"+lh[d]}function Ph(d,_){return d==null?r:d[_]}function gn(d){return ih.test(d)}function Nh(d){return oh.test(d)}function Th(d){for(var _,m=[];!(_=d.next()).done;)m.push(_.value);return m}function ho(d){var _=-1,m=Array(d.size);return d.forEach(function(E,k){m[++_]=[k,E]}),m}function Tu(d,_){return function(m){return d(_(m))}}function Dt(d,_){for(var m=-1,E=d.length,k=0,X=[];++m<E;){var ge=d[m];(ge===_||ge===C)&&(d[m]=C,X[k++]=m)}return X}function Ir(d){var _=-1,m=Array(d.size);return d.forEach(function(E){m[++_]=E}),m}function Rh(d){var _=-1,m=Array(d.size);return d.forEach(function(E){m[++_]=[E,E]}),m}function Ih(d,_,m){for(var E=m-1,k=d.length;++E<k;)if(d[E]===_)return E;return-1}function Fh(d,_,m){for(var E=m+1;E--;)if(d[E]===_)return E;return E}function vn(d){return gn(d)?Mh(d):_h(d)}function Qe(d){return gn(d)?Lh(d):yh(d)}function Ru(d){for(var _=d.length;_--&&bl.test(d.charAt(_)););return _}var Dh=ao(ch);function Mh(d){for(var _=to.lastIndex=0;to.test(d);)++_;return _}function Lh(d){return d.match(to)||[]}function Wh(d){return d.match(rh)||[]}var Bh=function d(_){_=_==null?me:Mt.defaults(me.Object(),_,Mt.pick(me,sh));var m=_.Array,E=_.Date,k=_.Error,X=_.Function,ge=_.Math,ne=_.Object,po=_.RegExp,Uh=_.String,He=_.TypeError,Fr=m.prototype,kh=X.prototype,mn=ne.prototype,Dr=_["__core-js_shared__"],Mr=kh.toString,V=mn.hasOwnProperty,Gh=0,Iu=function(){var e=/[^.]+$/.exec(Dr&&Dr.keys&&Dr.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}(),Lr=mn.toString,Kh=Mr.call(ne),Hh=me._,$h=po("^"+Mr.call(V).replace(Ji,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Wr=gu?_.Buffer:r,Lt=_.Symbol,Br=_.Uint8Array,Fu=Wr?Wr.allocUnsafe:r,Ur=Tu(ne.getPrototypeOf,ne),Du=ne.create,Mu=mn.propertyIsEnumerable,kr=Fr.splice,Lu=Lt?Lt.isConcatSpreadable:r,zn=Lt?Lt.iterator:r,Jt=Lt?Lt.toStringTag:r,Gr=function(){try{var e=en(ne,"defineProperty");return e({},"",{}),e}catch{}}(),qh=_.clearTimeout!==me.clearTimeout&&_.clearTimeout,zh=E&&E.now!==me.Date.now&&E.now,Yh=_.setTimeout!==me.setTimeout&&_.setTimeout,Kr=ge.ceil,Hr=ge.floor,go=ne.getOwnPropertySymbols,Zh=Wr?Wr.isBuffer:r,Wu=_.isFinite,Jh=Fr.join,Xh=Tu(ne.keys,ne),ve=ge.max,Ae=ge.min,Qh=E.now,jh=_.parseInt,Bu=ge.random,Vh=Fr.reverse,vo=en(_,"DataView"),Yn=en(_,"Map"),mo=en(_,"Promise"),_n=en(_,"Set"),Zn=en(_,"WeakMap"),Jn=en(ne,"create"),$r=Zn&&new Zn,yn={},ep=tn(vo),tp=tn(Yn),np=tn(mo),rp=tn(_n),ip=tn(Zn),qr=Lt?Lt.prototype:r,Xn=qr?qr.valueOf:r,Uu=qr?qr.toString:r;function a(e){if(ce(e)&&!G(e)&&!(e instanceof Y)){if(e instanceof $e)return e;if(V.call(e,"__wrapped__"))return ka(e)}return new $e(e)}var wn=function(){function e(){}return function(t){if(!fe(t))return{};if(Du)return Du(t);e.prototype=t;var n=new e;return e.prototype=r,n}}();function zr(){}function $e(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=r}a.templateSettings={escape:_l,evaluate:yl,interpolate:Zs,variable:"",imports:{_:a}},a.prototype=zr.prototype,a.prototype.constructor=a,$e.prototype=wn(zr.prototype),$e.prototype.constructor=$e;function Y(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=it,this.__views__=[]}function op(){var e=new Y(this.__wrapped__);return e.__actions__=Ne(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Ne(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Ne(this.__views__),e}function sp(){if(this.__filtered__){var e=new Y(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function up(){var e=this.__wrapped__.value(),t=this.__dir__,n=G(e),i=t<0,s=n?e.length:0,f=yd(0,s,this.__views__),l=f.start,p=f.end,g=p-l,w=i?p:l-1,A=this.__iteratees__,x=A.length,O=0,T=Ae(g,this.__takeCount__);if(!n||!i&&s==g&&T==g)return fa(e,this.__actions__);var W=[];e:for(;g--&&O<T;){w+=t;for(var $=-1,B=e[w];++$<x;){var z=A[$],J=z.iteratee,We=z.type,Ee=J(B);if(We==tl)B=Ee;else if(!Ee){if(We==Hs)continue e;break e}}W[O++]=B}return W}Y.prototype=wn(zr.prototype),Y.prototype.constructor=Y;function Xt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function ap(){this.__data__=Jn?Jn(null):{},this.size=0}function fp(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}function cp(e){var t=this.__data__;if(Jn){var n=t[e];return n===y?r:n}return V.call(t,e)?t[e]:r}function lp(e){var t=this.__data__;return Jn?t[e]!==r:V.call(t,e)}function hp(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Jn&&t===r?y:t,this}Xt.prototype.clear=ap,Xt.prototype.delete=fp,Xt.prototype.get=cp,Xt.prototype.has=lp,Xt.prototype.set=hp;function gt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function pp(){this.__data__=[],this.size=0}function dp(e){var t=this.__data__,n=Yr(t,e);if(n<0)return!1;var i=t.length-1;return n==i?t.pop():kr.call(t,n,1),--this.size,!0}function gp(e){var t=this.__data__,n=Yr(t,e);return n<0?r:t[n][1]}function vp(e){return Yr(this.__data__,e)>-1}function mp(e,t){var n=this.__data__,i=Yr(n,e);return i<0?(++this.size,n.push([e,t])):n[i][1]=t,this}gt.prototype.clear=pp,gt.prototype.delete=dp,gt.prototype.get=gp,gt.prototype.has=vp,gt.prototype.set=mp;function vt(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}function _p(){this.size=0,this.__data__={hash:new Xt,map:new(Yn||gt),string:new Xt}}function yp(e){var t=oi(this,e).delete(e);return this.size-=t?1:0,t}function wp(e){return oi(this,e).get(e)}function Ap(e){return oi(this,e).has(e)}function Sp(e,t){var n=oi(this,e),i=n.size;return n.set(e,t),this.size+=n.size==i?0:1,this}vt.prototype.clear=_p,vt.prototype.delete=yp,vt.prototype.get=wp,vt.prototype.has=Ap,vt.prototype.set=Sp;function Qt(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new vt;++t<n;)this.add(e[t])}function xp(e){return this.__data__.set(e,y),this}function bp(e){return this.__data__.has(e)}Qt.prototype.add=Qt.prototype.push=xp,Qt.prototype.has=bp;function je(e){var t=this.__data__=new gt(e);this.size=t.size}function Cp(){this.__data__=new gt,this.size=0}function Op(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function Ep(e){return this.__data__.get(e)}function Pp(e){return this.__data__.has(e)}function Np(e,t){var n=this.__data__;if(n instanceof gt){var i=n.__data__;if(!Yn||i.length<u-1)return i.push([e,t]),this.size=++n.size,this;n=this.__data__=new vt(i)}return n.set(e,t),this.size=n.size,this}je.prototype.clear=Cp,je.prototype.delete=Op,je.prototype.get=Ep,je.prototype.has=Pp,je.prototype.set=Np;function ku(e,t){var n=G(e),i=!n&&nn(e),s=!n&&!i&&Gt(e),f=!n&&!i&&!s&&bn(e),l=n||i||s||f,p=l?co(e.length,Uh):[],g=p.length;for(var w in e)(t||V.call(e,w))&&!(l&&(w=="length"||s&&(w=="offset"||w=="parent")||f&&(w=="buffer"||w=="byteLength"||w=="byteOffset")||wt(w,g)))&&p.push(w);return p}function Gu(e){var t=e.length;return t?e[Po(0,t-1)]:r}function Tp(e,t){return si(Ne(e),jt(t,0,e.length))}function Rp(e){return si(Ne(e))}function _o(e,t,n){(n!==r&&!Ve(e[t],n)||n===r&&!(t in e))&&mt(e,t,n)}function Qn(e,t,n){var i=e[t];(!(V.call(e,t)&&Ve(i,n))||n===r&&!(t in e))&&mt(e,t,n)}function Yr(e,t){for(var n=e.length;n--;)if(Ve(e[n][0],t))return n;return-1}function Ip(e,t,n,i){return Wt(e,function(s,f,l){t(i,s,n(s),l)}),i}function Ku(e,t){return e&&st(t,_e(t),e)}function Fp(e,t){return e&&st(t,Re(t),e)}function mt(e,t,n){t=="__proto__"&&Gr?Gr(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function yo(e,t){for(var n=-1,i=t.length,s=m(i),f=e==null;++n<i;)s[n]=f?r:Vo(e,t[n]);return s}function jt(e,t,n){return e===e&&(n!==r&&(e=e<=n?e:n),t!==r&&(e=e>=t?e:t)),e}function qe(e,t,n,i,s,f){var l,p=t&b,g=t&P,w=t&M;if(n&&(l=s?n(e,i,s,f):n(e)),l!==r)return l;if(!fe(e))return e;var A=G(e);if(A){if(l=Ad(e),!p)return Ne(e,l)}else{var x=Se(e),O=x==Cr||x==$s;if(Gt(e))return ha(e,p);if(x==dt||x==ln||O&&!s){if(l=g||O?{}:Ra(e),!p)return g?cd(e,Fp(l,e)):fd(e,Ku(l,e))}else{if(!re[x])return s?e:{};l=Sd(e,x,p)}}f||(f=new je);var T=f.get(e);if(T)return T;f.set(e,l),uf(e)?e.forEach(function(B){l.add(qe(B,t,n,B,e,f))}):of(e)&&e.forEach(function(B,z){l.set(z,qe(B,t,n,z,e,f))});var W=w?g?Uo:Bo:g?Re:_e,$=A?r:W(e);return Ke($||e,function(B,z){$&&(z=B,B=e[z]),Qn(l,z,qe(B,t,n,z,e,f))}),l}function Dp(e){var t=_e(e);return function(n){return Hu(n,e,t)}}function Hu(e,t,n){var i=n.length;if(e==null)return!i;for(e=ne(e);i--;){var s=n[i],f=t[s],l=e[s];if(l===r&&!(s in e)||!f(l))return!1}return!0}function $u(e,t,n){if(typeof e!="function")throw new He(h);return ir(function(){e.apply(r,n)},t)}function jn(e,t,n,i){var s=-1,f=Tr,l=!0,p=e.length,g=[],w=t.length;if(!p)return g;n&&(t=ue(t,De(n))),i?(f=io,l=!1):t.length>=u&&(f=qn,l=!1,t=new Qt(t));e:for(;++s<p;){var A=e[s],x=n==null?A:n(A);if(A=i||A!==0?A:0,l&&x===x){for(var O=w;O--;)if(t[O]===x)continue e;g.push(A)}else f(t,x,i)||g.push(A)}return g}var Wt=ma(ot),qu=ma(Ao,!0);function Mp(e,t){var n=!0;return Wt(e,function(i,s,f){return n=!!t(i,s,f),n}),n}function Zr(e,t,n){for(var i=-1,s=e.length;++i<s;){var f=e[i],l=t(f);if(l!=null&&(p===r?l===l&&!Le(l):n(l,p)))var p=l,g=f}return g}function Lp(e,t,n,i){var s=e.length;for(n=K(n),n<0&&(n=-n>s?0:s+n),i=i===r||i>s?s:K(i),i<0&&(i+=s),i=n>i?0:ff(i);n<i;)e[n++]=t;return e}function zu(e,t){var n=[];return Wt(e,function(i,s,f){t(i,s,f)&&n.push(i)}),n}function we(e,t,n,i,s){var f=-1,l=e.length;for(n||(n=bd),s||(s=[]);++f<l;){var p=e[f];t>0&&n(p)?t>1?we(p,t-1,n,i,s):Ft(s,p):i||(s[s.length]=p)}return s}var wo=_a(),Yu=_a(!0);function ot(e,t){return e&&wo(e,t,_e)}function Ao(e,t){return e&&Yu(e,t,_e)}function Jr(e,t){return It(t,function(n){return At(e[n])})}function Vt(e,t){t=Ut(t,e);for(var n=0,i=t.length;e!=null&&n<i;)e=e[ut(t[n++])];return n&&n==i?e:r}function Zu(e,t,n){var i=t(e);return G(e)?i:Ft(i,n(e))}function Ce(e){return e==null?e===r?ll:fl:Jt&&Jt in ne(e)?_d(e):Rd(e)}function So(e,t){return e>t}function Wp(e,t){return e!=null&&V.call(e,t)}function Bp(e,t){return e!=null&&t in ne(e)}function Up(e,t,n){return e>=Ae(t,n)&&e<ve(t,n)}function xo(e,t,n){for(var i=n?io:Tr,s=e[0].length,f=e.length,l=f,p=m(f),g=1/0,w=[];l--;){var A=e[l];l&&t&&(A=ue(A,De(t))),g=Ae(A.length,g),p[l]=!n&&(t||s>=120&&A.length>=120)?new Qt(l&&A):r}A=e[0];var x=-1,O=p[0];e:for(;++x<s&&w.length<g;){var T=A[x],W=t?t(T):T;if(T=n||T!==0?T:0,!(O?qn(O,W):i(w,W,n))){for(l=f;--l;){var $=p[l];if(!($?qn($,W):i(e[l],W,n)))continue e}O&&O.push(W),w.push(T)}}return w}function kp(e,t,n,i){return ot(e,function(s,f,l){t(i,n(s),f,l)}),i}function Vn(e,t,n){t=Ut(t,e),e=Ma(e,t);var i=e==null?e:e[ut(Ye(t))];return i==null?r:Fe(i,e,n)}function Ju(e){return ce(e)&&Ce(e)==ln}function Gp(e){return ce(e)&&Ce(e)==$n}function Kp(e){return ce(e)&&Ce(e)==Un}function er(e,t,n,i,s){return e===t?!0:e==null||t==null||!ce(e)&&!ce(t)?e!==e&&t!==t:Hp(e,t,n,i,er,s)}function Hp(e,t,n,i,s,f){var l=G(e),p=G(t),g=l?xr:Se(e),w=p?xr:Se(t);g=g==ln?dt:g,w=w==ln?dt:w;var A=g==dt,x=w==dt,O=g==w;if(O&&Gt(e)){if(!Gt(t))return!1;l=!0,A=!1}if(O&&!A)return f||(f=new je),l||bn(e)?Pa(e,t,n,i,s,f):vd(e,t,g,n,i,s,f);if(!(n&F)){var T=A&&V.call(e,"__wrapped__"),W=x&&V.call(t,"__wrapped__");if(T||W){var $=T?e.value():e,B=W?t.value():t;return f||(f=new je),s($,B,n,i,f)}}return O?(f||(f=new je),md(e,t,n,i,s,f)):!1}function $p(e){return ce(e)&&Se(e)==Je}function bo(e,t,n,i){var s=n.length,f=s,l=!i;if(e==null)return!f;for(e=ne(e);s--;){var p=n[s];if(l&&p[2]?p[1]!==e[p[0]]:!(p[0]in e))return!1}for(;++s<f;){p=n[s];var g=p[0],w=e[g],A=p[1];if(l&&p[2]){if(w===r&&!(g in e))return!1}else{var x=new je;if(i)var O=i(w,A,g,e,t,x);if(!(O===r?er(A,w,F|R,i,x):O))return!1}}return!0}function Xu(e){if(!fe(e)||Od(e))return!1;var t=At(e)?$h:Dl;return t.test(tn(e))}function qp(e){return ce(e)&&Ce(e)==Gn}function zp(e){return ce(e)&&Se(e)==Xe}function Yp(e){return ce(e)&&hi(e.length)&&!!ie[Ce(e)]}function Qu(e){return typeof e=="function"?e:e==null?Ie:typeof e=="object"?G(e)?ea(e[0],e[1]):Vu(e):wf(e)}function Co(e){if(!rr(e))return Xh(e);var t=[];for(var n in ne(e))V.call(e,n)&&n!="constructor"&&t.push(n);return t}function Zp(e){if(!fe(e))return Td(e);var t=rr(e),n=[];for(var i in e)i=="constructor"&&(t||!V.call(e,i))||n.push(i);return n}function Oo(e,t){return e<t}function ju(e,t){var n=-1,i=Te(e)?m(e.length):[];return Wt(e,function(s,f,l){i[++n]=t(s,f,l)}),i}function Vu(e){var t=Go(e);return t.length==1&&t[0][2]?Fa(t[0][0],t[0][1]):function(n){return n===e||bo(n,e,t)}}function ea(e,t){return Ho(e)&&Ia(t)?Fa(ut(e),t):function(n){var i=Vo(n,e);return i===r&&i===t?es(n,e):er(t,i,F|R)}}function Xr(e,t,n,i,s){e!==t&&wo(t,function(f,l){if(s||(s=new je),fe(f))Jp(e,t,l,n,Xr,i,s);else{var p=i?i(qo(e,l),f,l+"",e,t,s):r;p===r&&(p=f),_o(e,l,p)}},Re)}function Jp(e,t,n,i,s,f,l){var p=qo(e,n),g=qo(t,n),w=l.get(g);if(w){_o(e,n,w);return}var A=f?f(p,g,n+"",e,t,l):r,x=A===r;if(x){var O=G(g),T=!O&&Gt(g),W=!O&&!T&&bn(g);A=g,O||T||W?G(p)?A=p:pe(p)?A=Ne(p):T?(x=!1,A=ha(g,!0)):W?(x=!1,A=pa(g,!0)):A=[]:or(g)||nn(g)?(A=p,nn(p)?A=cf(p):(!fe(p)||At(p))&&(A=Ra(g))):x=!1}x&&(l.set(g,A),s(A,g,i,f,l),l.delete(g)),_o(e,n,A)}function ta(e,t){var n=e.length;if(n)return t+=t<0?n:0,wt(t,n)?e[t]:r}function na(e,t,n){t.length?t=ue(t,function(f){return G(f)?function(l){return Vt(l,f.length===1?f[0]:f)}:f}):t=[Ie];var i=-1;t=ue(t,De(L()));var s=ju(e,function(f,l,p){var g=ue(t,function(w){return w(f)});return{criteria:g,index:++i,value:f}});return Sh(s,function(f,l){return ad(f,l,n)})}function Xp(e,t){return ra(e,t,function(n,i){return es(e,i)})}function ra(e,t,n){for(var i=-1,s=t.length,f={};++i<s;){var l=t[i],p=Vt(e,l);n(p,l)&&tr(f,Ut(l,e),p)}return f}function Qp(e){return function(t){return Vt(t,e)}}function Eo(e,t,n,i){var s=i?Ah:dn,f=-1,l=t.length,p=e;for(e===t&&(t=Ne(t)),n&&(p=ue(e,De(n)));++f<l;)for(var g=0,w=t[f],A=n?n(w):w;(g=s(p,A,g,i))>-1;)p!==e&&kr.call(p,g,1),kr.call(e,g,1);return e}function ia(e,t){for(var n=e?t.length:0,i=n-1;n--;){var s=t[n];if(n==i||s!==f){var f=s;wt(s)?kr.call(e,s,1):Ro(e,s)}}return e}function Po(e,t){return e+Hr(Bu()*(t-e+1))}function jp(e,t,n,i){for(var s=-1,f=ve(Kr((t-e)/(n||1)),0),l=m(f);f--;)l[i?f:++s]=e,e+=n;return l}function No(e,t){var n="";if(!e||t<1||t>Rt)return n;do t%2&&(n+=e),t=Hr(t/2),t&&(e+=e);while(t);return n}function q(e,t){return zo(Da(e,t,Ie),e+"")}function Vp(e){return Gu(Cn(e))}function ed(e,t){var n=Cn(e);return si(n,jt(t,0,n.length))}function tr(e,t,n,i){if(!fe(e))return e;t=Ut(t,e);for(var s=-1,f=t.length,l=f-1,p=e;p!=null&&++s<f;){var g=ut(t[s]),w=n;if(g==="__proto__"||g==="constructor"||g==="prototype")return e;if(s!=l){var A=p[g];w=i?i(A,g,p):r,w===r&&(w=fe(A)?A:wt(t[s+1])?[]:{})}Qn(p,g,w),p=p[g]}return e}var oa=$r?function(e,t){return $r.set(e,t),e}:Ie,td=Gr?function(e,t){return Gr(e,"toString",{configurable:!0,enumerable:!1,value:ns(t),writable:!0})}:Ie;function nd(e){return si(Cn(e))}function ze(e,t,n){var i=-1,s=e.length;t<0&&(t=-t>s?0:s+t),n=n>s?s:n,n<0&&(n+=s),s=t>n?0:n-t>>>0,t>>>=0;for(var f=m(s);++i<s;)f[i]=e[i+t];return f}function rd(e,t){var n;return Wt(e,function(i,s,f){return n=t(i,s,f),!n}),!!n}function Qr(e,t,n){var i=0,s=e==null?i:e.length;if(typeof t=="number"&&t===t&&s<=ol){for(;i<s;){var f=i+s>>>1,l=e[f];l!==null&&!Le(l)&&(n?l<=t:l<t)?i=f+1:s=f}return s}return To(e,t,Ie,n)}function To(e,t,n,i){var s=0,f=e==null?0:e.length;if(f===0)return 0;t=n(t);for(var l=t!==t,p=t===null,g=Le(t),w=t===r;s<f;){var A=Hr((s+f)/2),x=n(e[A]),O=x!==r,T=x===null,W=x===x,$=Le(x);if(l)var B=i||W;else w?B=W&&(i||O):p?B=W&&O&&(i||!T):g?B=W&&O&&!T&&(i||!$):T||$?B=!1:B=i?x<=t:x<t;B?s=A+1:f=A}return Ae(f,il)}function sa(e,t){for(var n=-1,i=e.length,s=0,f=[];++n<i;){var l=e[n],p=t?t(l):l;if(!n||!Ve(p,g)){var g=p;f[s++]=l===0?0:l}}return f}function ua(e){return typeof e=="number"?e:Le(e)?Sr:+e}function Me(e){if(typeof e=="string")return e;if(G(e))return ue(e,Me)+"";if(Le(e))return Uu?Uu.call(e):"";var t=e+"";return t=="0"&&1/e==-Yt?"-0":t}function Bt(e,t,n){var i=-1,s=Tr,f=e.length,l=!0,p=[],g=p;if(n)l=!1,s=io;else if(f>=u){var w=t?null:dd(e);if(w)return Ir(w);l=!1,s=qn,g=new Qt}else g=t?[]:p;e:for(;++i<f;){var A=e[i],x=t?t(A):A;if(A=n||A!==0?A:0,l&&x===x){for(var O=g.length;O--;)if(g[O]===x)continue e;t&&g.push(x),p.push(A)}else s(g,x,n)||(g!==p&&g.push(x),p.push(A))}return p}function Ro(e,t){return t=Ut(t,e),e=Ma(e,t),e==null||delete e[ut(Ye(t))]}function aa(e,t,n,i){return tr(e,t,n(Vt(e,t)),i)}function jr(e,t,n,i){for(var s=e.length,f=i?s:-1;(i?f--:++f<s)&&t(e[f],f,e););return n?ze(e,i?0:f,i?f+1:s):ze(e,i?f+1:0,i?s:f)}function fa(e,t){var n=e;return n instanceof Y&&(n=n.value()),oo(t,function(i,s){return s.func.apply(s.thisArg,Ft([i],s.args))},n)}function Io(e,t,n){var i=e.length;if(i<2)return i?Bt(e[0]):[];for(var s=-1,f=m(i);++s<i;)for(var l=e[s],p=-1;++p<i;)p!=s&&(f[s]=jn(f[s]||l,e[p],t,n));return Bt(we(f,1),t,n)}function ca(e,t,n){for(var i=-1,s=e.length,f=t.length,l={};++i<s;){var p=i<f?t[i]:r;n(l,e[i],p)}return l}function Fo(e){return pe(e)?e:[]}function Do(e){return typeof e=="function"?e:Ie}function Ut(e,t){return G(e)?e:Ho(e,t)?[e]:Ua(Q(e))}var id=q;function kt(e,t,n){var i=e.length;return n=n===r?i:n,!t&&n>=i?e:ze(e,t,n)}var la=qh||function(e){return me.clearTimeout(e)};function ha(e,t){if(t)return e.slice();var n=e.length,i=Fu?Fu(n):new e.constructor(n);return e.copy(i),i}function Mo(e){var t=new e.constructor(e.byteLength);return new Br(t).set(new Br(e)),t}function od(e,t){var n=t?Mo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}function sd(e){var t=new e.constructor(e.source,Js.exec(e));return t.lastIndex=e.lastIndex,t}function ud(e){return Xn?ne(Xn.call(e)):{}}function pa(e,t){var n=t?Mo(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}function da(e,t){if(e!==t){var n=e!==r,i=e===null,s=e===e,f=Le(e),l=t!==r,p=t===null,g=t===t,w=Le(t);if(!p&&!w&&!f&&e>t||f&&l&&g&&!p&&!w||i&&l&&g||!n&&g||!s)return 1;if(!i&&!f&&!w&&e<t||w&&n&&s&&!i&&!f||p&&n&&s||!l&&s||!g)return-1}return 0}function ad(e,t,n){for(var i=-1,s=e.criteria,f=t.criteria,l=s.length,p=n.length;++i<l;){var g=da(s[i],f[i]);if(g){if(i>=p)return g;var w=n[i];return g*(w=="desc"?-1:1)}}return e.index-t.index}function ga(e,t,n,i){for(var s=-1,f=e.length,l=n.length,p=-1,g=t.length,w=ve(f-l,0),A=m(g+w),x=!i;++p<g;)A[p]=t[p];for(;++s<l;)(x||s<f)&&(A[n[s]]=e[s]);for(;w--;)A[p++]=e[s++];return A}function va(e,t,n,i){for(var s=-1,f=e.length,l=-1,p=n.length,g=-1,w=t.length,A=ve(f-p,0),x=m(A+w),O=!i;++s<A;)x[s]=e[s];for(var T=s;++g<w;)x[T+g]=t[g];for(;++l<p;)(O||s<f)&&(x[T+n[l]]=e[s++]);return x}function Ne(e,t){var n=-1,i=e.length;for(t||(t=m(i));++n<i;)t[n]=e[n];return t}function st(e,t,n,i){var s=!n;n||(n={});for(var f=-1,l=t.length;++f<l;){var p=t[f],g=i?i(n[p],e[p],p,n,e):r;g===r&&(g=e[p]),s?mt(n,p,g):Qn(n,p,g)}return n}function fd(e,t){return st(e,Ko(e),t)}function cd(e,t){return st(e,Na(e),t)}function Vr(e,t){return function(n,i){var s=G(n)?gh:Ip,f=t?t():{};return s(n,e,L(i,2),f)}}function An(e){return q(function(t,n){var i=-1,s=n.length,f=s>1?n[s-1]:r,l=s>2?n[2]:r;for(f=e.length>3&&typeof f=="function"?(s--,f):r,l&&Oe(n[0],n[1],l)&&(f=s<3?r:f,s=1),t=ne(t);++i<s;){var p=n[i];p&&e(t,p,i,f)}return t})}function ma(e,t){return function(n,i){if(n==null)return n;if(!Te(n))return e(n,i);for(var s=n.length,f=t?s:-1,l=ne(n);(t?f--:++f<s)&&i(l[f],f,l)!==!1;);return n}}function _a(e){return function(t,n,i){for(var s=-1,f=ne(t),l=i(t),p=l.length;p--;){var g=l[e?p:++s];if(n(f[g],g,f)===!1)break}return t}}function ld(e,t,n){var i=t&U,s=nr(e);function f(){var l=this&&this!==me&&this instanceof f?s:e;return l.apply(i?n:this,arguments)}return f}function ya(e){return function(t){t=Q(t);var n=gn(t)?Qe(t):r,i=n?n[0]:t.charAt(0),s=n?kt(n,1).join(""):t.slice(1);return i[e]()+s}}function Sn(e){return function(t){return oo(_f(mf(t).replace(th,"")),e,"")}}function nr(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=wn(e.prototype),i=e.apply(n,t);return fe(i)?i:n}}function hd(e,t,n){var i=nr(e);function s(){for(var f=arguments.length,l=m(f),p=f,g=xn(s);p--;)l[p]=arguments[p];var w=f<3&&l[0]!==g&&l[f-1]!==g?[]:Dt(l,g);if(f-=w.length,f<n)return ba(e,t,ei,s.placeholder,r,l,w,r,r,n-f);var A=this&&this!==me&&this instanceof s?i:e;return Fe(A,this,l)}return s}function wa(e){return function(t,n,i){var s=ne(t);if(!Te(t)){var f=L(n,3);t=_e(t),n=function(p){return f(s[p],p,s)}}var l=e(t,n,i);return l>-1?s[f?t[l]:l]:r}}function Aa(e){return yt(function(t){var n=t.length,i=n,s=$e.prototype.thru;for(e&&t.reverse();i--;){var f=t[i];if(typeof f!="function")throw new He(h);if(s&&!l&&ii(f)=="wrapper")var l=new $e([],!0)}for(i=l?i:n;++i<n;){f=t[i];var p=ii(f),g=p=="wrapper"?ko(f):r;g&&$o(g[0])&&g[1]==(ee|I|H|rt)&&!g[4].length&&g[9]==1?l=l[ii(g[0])].apply(l,g[3]):l=f.length==1&&$o(f)?l[p]():l.thru(f)}return function(){var w=arguments,A=w[0];if(l&&w.length==1&&G(A))return l.plant(A).value();for(var x=0,O=n?t[x].apply(this,w):A;++x<n;)O=t[x].call(this,O);return O}})}function ei(e,t,n,i,s,f,l,p,g,w){var A=t&ee,x=t&U,O=t&D,T=t&(I|j),W=t&te,$=O?r:nr(e);function B(){for(var z=arguments.length,J=m(z),We=z;We--;)J[We]=arguments[We];if(T)var Ee=xn(B),Be=bh(J,Ee);if(i&&(J=ga(J,i,s,T)),f&&(J=va(J,f,l,T)),z-=Be,T&&z<w){var de=Dt(J,Ee);return ba(e,t,ei,B.placeholder,n,J,de,p,g,w-z)}var et=x?n:this,xt=O?et[e]:e;return z=J.length,p?J=Id(J,p):W&&z>1&&J.reverse(),A&&g<z&&(J.length=g),this&&this!==me&&this instanceof B&&(xt=$||nr(xt)),xt.apply(et,J)}return B}function Sa(e,t){return function(n,i){return kp(n,e,t(i),{})}}function ti(e,t){return function(n,i){var s;if(n===r&&i===r)return t;if(n!==r&&(s=n),i!==r){if(s===r)return i;typeof n=="string"||typeof i=="string"?(n=Me(n),i=Me(i)):(n=ua(n),i=ua(i)),s=e(n,i)}return s}}function Lo(e){return yt(function(t){return t=ue(t,De(L())),q(function(n){var i=this;return e(t,function(s){return Fe(s,i,n)})})})}function ni(e,t){t=t===r?" ":Me(t);var n=t.length;if(n<2)return n?No(t,e):t;var i=No(t,Kr(e/vn(t)));return gn(t)?kt(Qe(i),0,e).join(""):i.slice(0,e)}function pd(e,t,n,i){var s=t&U,f=nr(e);function l(){for(var p=-1,g=arguments.length,w=-1,A=i.length,x=m(A+g),O=this&&this!==me&&this instanceof l?f:e;++w<A;)x[w]=i[w];for(;g--;)x[w++]=arguments[++p];return Fe(O,s?n:this,x)}return l}function xa(e){return function(t,n,i){return i&&typeof i!="number"&&Oe(t,n,i)&&(n=i=r),t=St(t),n===r?(n=t,t=0):n=St(n),i=i===r?t<n?1:-1:St(i),jp(t,n,i,e)}}function ri(e){return function(t,n){return typeof t=="string"&&typeof n=="string"||(t=Ze(t),n=Ze(n)),e(t,n)}}function ba(e,t,n,i,s,f,l,p,g,w){var A=t&I,x=A?l:r,O=A?r:l,T=A?f:r,W=A?r:f;t|=A?H:se,t&=~(A?se:H),t&ae||(t&=~(U|D));var $=[e,t,s,T,x,W,O,p,g,w],B=n.apply(r,$);return $o(e)&&La(B,$),B.placeholder=i,Wa(B,e,t)}function Wo(e){var t=ge[e];return function(n,i){if(n=Ze(n),i=i==null?0:Ae(K(i),292),i&&Wu(n)){var s=(Q(n)+"e").split("e"),f=t(s[0]+"e"+(+s[1]+i));return s=(Q(f)+"e").split("e"),+(s[0]+"e"+(+s[1]-i))}return t(n)}}var dd=_n&&1/Ir(new _n([,-0]))[1]==Yt?function(e){return new _n(e)}:os;function Ca(e){return function(t){var n=Se(t);return n==Je?ho(t):n==Xe?Rh(t):xh(t,e(t))}}function _t(e,t,n,i,s,f,l,p){var g=t&D;if(!g&&typeof e!="function")throw new He(h);var w=i?i.length:0;if(w||(t&=~(H|se),i=s=r),l=l===r?l:ve(K(l),0),p=p===r?p:K(p),w-=s?s.length:0,t&se){var A=i,x=s;i=s=r}var O=g?r:ko(e),T=[e,t,n,i,s,A,x,f,l,p];if(O&&Nd(T,O),e=T[0],t=T[1],n=T[2],i=T[3],s=T[4],p=T[9]=T[9]===r?g?0:e.length:ve(T[9]-w,0),!p&&t&(I|j)&&(t&=~(I|j)),!t||t==U)var W=ld(e,t,n);else t==I||t==j?W=hd(e,t,p):(t==H||t==(U|H))&&!s.length?W=pd(e,t,n,i):W=ei.apply(r,T);var $=O?oa:La;return Wa($(W,T),e,t)}function Oa(e,t,n,i){return e===r||Ve(e,mn[n])&&!V.call(i,n)?t:e}function Ea(e,t,n,i,s,f){return fe(e)&&fe(t)&&(f.set(t,e),Xr(e,t,r,Ea,f),f.delete(t)),e}function gd(e){return or(e)?r:e}function Pa(e,t,n,i,s,f){var l=n&F,p=e.length,g=t.length;if(p!=g&&!(l&&g>p))return!1;var w=f.get(e),A=f.get(t);if(w&&A)return w==t&&A==e;var x=-1,O=!0,T=n&R?new Qt:r;for(f.set(e,t),f.set(t,e);++x<p;){var W=e[x],$=t[x];if(i)var B=l?i($,W,x,t,e,f):i(W,$,x,e,t,f);if(B!==r){if(B)continue;O=!1;break}if(T){if(!so(t,function(z,J){if(!qn(T,J)&&(W===z||s(W,z,n,i,f)))return T.push(J)})){O=!1;break}}else if(!(W===$||s(W,$,n,i,f))){O=!1;break}}return f.delete(e),f.delete(t),O}function vd(e,t,n,i,s,f,l){switch(n){case hn:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case $n:return!(e.byteLength!=t.byteLength||!f(new Br(e),new Br(t)));case Bn:case Un:case kn:return Ve(+e,+t);case br:return e.name==t.name&&e.message==t.message;case Gn:case Kn:return e==t+"";case Je:var p=ho;case Xe:var g=i&F;if(p||(p=Ir),e.size!=t.size&&!g)return!1;var w=l.get(e);if(w)return w==t;i|=R,l.set(e,t);var A=Pa(p(e),p(t),i,s,f,l);return l.delete(e),A;case Or:if(Xn)return Xn.call(e)==Xn.call(t)}return!1}function md(e,t,n,i,s,f){var l=n&F,p=Bo(e),g=p.length,w=Bo(t),A=w.length;if(g!=A&&!l)return!1;for(var x=g;x--;){var O=p[x];if(!(l?O in t:V.call(t,O)))return!1}var T=f.get(e),W=f.get(t);if(T&&W)return T==t&&W==e;var $=!0;f.set(e,t),f.set(t,e);for(var B=l;++x<g;){O=p[x];var z=e[O],J=t[O];if(i)var We=l?i(J,z,O,t,e,f):i(z,J,O,e,t,f);if(!(We===r?z===J||s(z,J,n,i,f):We)){$=!1;break}B||(B=O=="constructor")}if($&&!B){var Ee=e.constructor,Be=t.constructor;Ee!=Be&&"constructor"in e&&"constructor"in t&&!(typeof Ee=="function"&&Ee instanceof Ee&&typeof Be=="function"&&Be instanceof Be)&&($=!1)}return f.delete(e),f.delete(t),$}function yt(e){return zo(Da(e,r,Ha),e+"")}function Bo(e){return Zu(e,_e,Ko)}function Uo(e){return Zu(e,Re,Na)}var ko=$r?function(e){return $r.get(e)}:os;function ii(e){for(var t=e.name+"",n=yn[t],i=V.call(yn,t)?n.length:0;i--;){var s=n[i],f=s.func;if(f==null||f==e)return s.name}return t}function xn(e){var t=V.call(a,"placeholder")?a:e;return t.placeholder}function L(){var e=a.iteratee||rs;return e=e===rs?Qu:e,arguments.length?e(arguments[0],arguments[1]):e}function oi(e,t){var n=e.__data__;return Cd(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Go(e){for(var t=_e(e),n=t.length;n--;){var i=t[n],s=e[i];t[n]=[i,s,Ia(s)]}return t}function en(e,t){var n=Ph(e,t);return Xu(n)?n:r}function _d(e){var t=V.call(e,Jt),n=e[Jt];try{e[Jt]=r;var i=!0}catch{}var s=Lr.call(e);return i&&(t?e[Jt]=n:delete e[Jt]),s}var Ko=go?function(e){return e==null?[]:(e=ne(e),It(go(e),function(t){return Mu.call(e,t)}))}:ss,Na=go?function(e){for(var t=[];e;)Ft(t,Ko(e)),e=Ur(e);return t}:ss,Se=Ce;(vo&&Se(new vo(new ArrayBuffer(1)))!=hn||Yn&&Se(new Yn)!=Je||mo&&Se(mo.resolve())!=qs||_n&&Se(new _n)!=Xe||Zn&&Se(new Zn)!=Hn)&&(Se=function(e){var t=Ce(e),n=t==dt?e.constructor:r,i=n?tn(n):"";if(i)switch(i){case ep:return hn;case tp:return Je;case np:return qs;case rp:return Xe;case ip:return Hn}return t});function yd(e,t,n){for(var i=-1,s=n.length;++i<s;){var f=n[i],l=f.size;switch(f.type){case"drop":e+=l;break;case"dropRight":t-=l;break;case"take":t=Ae(t,e+l);break;case"takeRight":e=ve(e,t-l);break}}return{start:e,end:t}}function wd(e){var t=e.match(Ol);return t?t[1].split(El):[]}function Ta(e,t,n){t=Ut(t,e);for(var i=-1,s=t.length,f=!1;++i<s;){var l=ut(t[i]);if(!(f=e!=null&&n(e,l)))break;e=e[l]}return f||++i!=s?f:(s=e==null?0:e.length,!!s&&hi(s)&&wt(l,s)&&(G(e)||nn(e)))}function Ad(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&V.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function Ra(e){return typeof e.constructor=="function"&&!rr(e)?wn(Ur(e)):{}}function Sd(e,t,n){var i=e.constructor;switch(t){case $n:return Mo(e);case Bn:case Un:return new i(+e);case hn:return od(e,n);case ki:case Gi:case Ki:case Hi:case $i:case qi:case zi:case Yi:case Zi:return pa(e,n);case Je:return new i;case kn:case Kn:return new i(e);case Gn:return sd(e);case Xe:return new i;case Or:return ud(e)}}function xd(e,t){var n=t.length;if(!n)return e;var i=n-1;return t[i]=(n>1?"& ":"")+t[i],t=t.join(n>2?", ":" "),e.replace(Cl,`{
/* [wrapped with `+t+`] */
`)}function bd(e){return G(e)||nn(e)||!!(Lu&&e&&e[Lu])}function wt(e,t){var n=typeof e;return t=t??Rt,!!t&&(n=="number"||n!="symbol"&&Ll.test(e))&&e>-1&&e%1==0&&e<t}function Oe(e,t,n){if(!fe(n))return!1;var i=typeof t;return(i=="number"?Te(n)&&wt(t,n.length):i=="string"&&t in n)?Ve(n[t],e):!1}function Ho(e,t){if(G(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Le(e)?!0:Al.test(e)||!wl.test(e)||t!=null&&e in ne(t)}function Cd(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function $o(e){var t=ii(e),n=a[t];if(typeof n!="function"||!(t in Y.prototype))return!1;if(e===n)return!0;var i=ko(n);return!!i&&e===i[0]}function Od(e){return!!Iu&&Iu in e}var Ed=Dr?At:us;function rr(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||mn;return e===n}function Ia(e){return e===e&&!fe(e)}function Fa(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==r||e in ne(n))}}function Pd(e){var t=ci(e,function(i){return n.size===S&&n.clear(),i}),n=t.cache;return t}function Nd(e,t){var n=e[1],i=t[1],s=n|i,f=s<(U|D|ee),l=i==ee&&n==I||i==ee&&n==rt&&e[7].length<=t[8]||i==(ee|rt)&&t[7].length<=t[8]&&n==I;if(!(f||l))return e;i&U&&(e[2]=t[2],s|=n&U?0:ae);var p=t[3];if(p){var g=e[3];e[3]=g?ga(g,p,t[4]):p,e[4]=g?Dt(e[3],C):t[4]}return p=t[5],p&&(g=e[5],e[5]=g?va(g,p,t[6]):p,e[6]=g?Dt(e[5],C):t[6]),p=t[7],p&&(e[7]=p),i&ee&&(e[8]=e[8]==null?t[8]:Ae(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=s,e}function Td(e){var t=[];if(e!=null)for(var n in ne(e))t.push(n);return t}function Rd(e){return Lr.call(e)}function Da(e,t,n){return t=ve(t===r?e.length-1:t,0),function(){for(var i=arguments,s=-1,f=ve(i.length-t,0),l=m(f);++s<f;)l[s]=i[t+s];s=-1;for(var p=m(t+1);++s<t;)p[s]=i[s];return p[t]=n(l),Fe(e,this,p)}}function Ma(e,t){return t.length<2?e:Vt(e,ze(t,0,-1))}function Id(e,t){for(var n=e.length,i=Ae(t.length,n),s=Ne(e);i--;){var f=t[i];e[i]=wt(f,n)?s[f]:r}return e}function qo(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}var La=Ba(oa),ir=Yh||function(e,t){return me.setTimeout(e,t)},zo=Ba(td);function Wa(e,t,n){var i=t+"";return zo(e,xd(i,Fd(wd(i),n)))}function Ba(e){var t=0,n=0;return function(){var i=Qh(),s=el-(i-n);if(n=i,s>0){if(++t>=Vc)return arguments[0]}else t=0;return e.apply(r,arguments)}}function si(e,t){var n=-1,i=e.length,s=i-1;for(t=t===r?i:t;++n<t;){var f=Po(n,s),l=e[f];e[f]=e[n],e[n]=l}return e.length=t,e}var Ua=Pd(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Sl,function(n,i,s,f){t.push(s?f.replace(Tl,"$1"):i||n)}),t});function ut(e){if(typeof e=="string"||Le(e))return e;var t=e+"";return t=="0"&&1/e==-Yt?"-0":t}function tn(e){if(e!=null){try{return Mr.call(e)}catch{}try{return e+""}catch{}}return""}function Fd(e,t){return Ke(sl,function(n){var i="_."+n[0];t&n[1]&&!Tr(e,i)&&e.push(i)}),e.sort()}function ka(e){if(e instanceof Y)return e.clone();var t=new $e(e.__wrapped__,e.__chain__);return t.__actions__=Ne(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}function Dd(e,t,n){(n?Oe(e,t,n):t===r)?t=1:t=ve(K(t),0);var i=e==null?0:e.length;if(!i||t<1)return[];for(var s=0,f=0,l=m(Kr(i/t));s<i;)l[f++]=ze(e,s,s+=t);return l}function Md(e){for(var t=-1,n=e==null?0:e.length,i=0,s=[];++t<n;){var f=e[t];f&&(s[i++]=f)}return s}function Ld(){var e=arguments.length;if(!e)return[];for(var t=m(e-1),n=arguments[0],i=e;i--;)t[i-1]=arguments[i];return Ft(G(n)?Ne(n):[n],we(t,1))}var Wd=q(function(e,t){return pe(e)?jn(e,we(t,1,pe,!0)):[]}),Bd=q(function(e,t){var n=Ye(t);return pe(n)&&(n=r),pe(e)?jn(e,we(t,1,pe,!0),L(n,2)):[]}),Ud=q(function(e,t){var n=Ye(t);return pe(n)&&(n=r),pe(e)?jn(e,we(t,1,pe,!0),r,n):[]});function kd(e,t,n){var i=e==null?0:e.length;return i?(t=n||t===r?1:K(t),ze(e,t<0?0:t,i)):[]}function Gd(e,t,n){var i=e==null?0:e.length;return i?(t=n||t===r?1:K(t),t=i-t,ze(e,0,t<0?0:t)):[]}function Kd(e,t){return e&&e.length?jr(e,L(t,3),!0,!0):[]}function Hd(e,t){return e&&e.length?jr(e,L(t,3),!0):[]}function $d(e,t,n,i){var s=e==null?0:e.length;return s?(n&&typeof n!="number"&&Oe(e,t,n)&&(n=0,i=s),Lp(e,t,n,i)):[]}function Ga(e,t,n){var i=e==null?0:e.length;if(!i)return-1;var s=n==null?0:K(n);return s<0&&(s=ve(i+s,0)),Rr(e,L(t,3),s)}function Ka(e,t,n){var i=e==null?0:e.length;if(!i)return-1;var s=i-1;return n!==r&&(s=K(n),s=n<0?ve(i+s,0):Ae(s,i-1)),Rr(e,L(t,3),s,!0)}function Ha(e){var t=e==null?0:e.length;return t?we(e,1):[]}function qd(e){var t=e==null?0:e.length;return t?we(e,Yt):[]}function zd(e,t){var n=e==null?0:e.length;return n?(t=t===r?1:K(t),we(e,t)):[]}function Yd(e){for(var t=-1,n=e==null?0:e.length,i={};++t<n;){var s=e[t];i[s[0]]=s[1]}return i}function $a(e){return e&&e.length?e[0]:r}function Zd(e,t,n){var i=e==null?0:e.length;if(!i)return-1;var s=n==null?0:K(n);return s<0&&(s=ve(i+s,0)),dn(e,t,s)}function Jd(e){var t=e==null?0:e.length;return t?ze(e,0,-1):[]}var Xd=q(function(e){var t=ue(e,Fo);return t.length&&t[0]===e[0]?xo(t):[]}),Qd=q(function(e){var t=Ye(e),n=ue(e,Fo);return t===Ye(n)?t=r:n.pop(),n.length&&n[0]===e[0]?xo(n,L(t,2)):[]}),jd=q(function(e){var t=Ye(e),n=ue(e,Fo);return t=typeof t=="function"?t:r,t&&n.pop(),n.length&&n[0]===e[0]?xo(n,r,t):[]});function Vd(e,t){return e==null?"":Jh.call(e,t)}function Ye(e){var t=e==null?0:e.length;return t?e[t-1]:r}function eg(e,t,n){var i=e==null?0:e.length;if(!i)return-1;var s=i;return n!==r&&(s=K(n),s=s<0?ve(i+s,0):Ae(s,i-1)),t===t?Fh(e,t,s):Rr(e,bu,s,!0)}function tg(e,t){return e&&e.length?ta(e,K(t)):r}var ng=q(qa);function qa(e,t){return e&&e.length&&t&&t.length?Eo(e,t):e}function rg(e,t,n){return e&&e.length&&t&&t.length?Eo(e,t,L(n,2)):e}function ig(e,t,n){return e&&e.length&&t&&t.length?Eo(e,t,r,n):e}var og=yt(function(e,t){var n=e==null?0:e.length,i=yo(e,t);return ia(e,ue(t,function(s){return wt(s,n)?+s:s}).sort(da)),i});function sg(e,t){var n=[];if(!(e&&e.length))return n;var i=-1,s=[],f=e.length;for(t=L(t,3);++i<f;){var l=e[i];t(l,i,e)&&(n.push(l),s.push(i))}return ia(e,s),n}function Yo(e){return e==null?e:Vh.call(e)}function ug(e,t,n){var i=e==null?0:e.length;return i?(n&&typeof n!="number"&&Oe(e,t,n)?(t=0,n=i):(t=t==null?0:K(t),n=n===r?i:K(n)),ze(e,t,n)):[]}function ag(e,t){return Qr(e,t)}function fg(e,t,n){return To(e,t,L(n,2))}function cg(e,t){var n=e==null?0:e.length;if(n){var i=Qr(e,t);if(i<n&&Ve(e[i],t))return i}return-1}function lg(e,t){return Qr(e,t,!0)}function hg(e,t,n){return To(e,t,L(n,2),!0)}function pg(e,t){var n=e==null?0:e.length;if(n){var i=Qr(e,t,!0)-1;if(Ve(e[i],t))return i}return-1}function dg(e){return e&&e.length?sa(e):[]}function gg(e,t){return e&&e.length?sa(e,L(t,2)):[]}function vg(e){var t=e==null?0:e.length;return t?ze(e,1,t):[]}function mg(e,t,n){return e&&e.length?(t=n||t===r?1:K(t),ze(e,0,t<0?0:t)):[]}function _g(e,t,n){var i=e==null?0:e.length;return i?(t=n||t===r?1:K(t),t=i-t,ze(e,t<0?0:t,i)):[]}function yg(e,t){return e&&e.length?jr(e,L(t,3),!1,!0):[]}function wg(e,t){return e&&e.length?jr(e,L(t,3)):[]}var Ag=q(function(e){return Bt(we(e,1,pe,!0))}),Sg=q(function(e){var t=Ye(e);return pe(t)&&(t=r),Bt(we(e,1,pe,!0),L(t,2))}),xg=q(function(e){var t=Ye(e);return t=typeof t=="function"?t:r,Bt(we(e,1,pe,!0),r,t)});function bg(e){return e&&e.length?Bt(e):[]}function Cg(e,t){return e&&e.length?Bt(e,L(t,2)):[]}function Og(e,t){return t=typeof t=="function"?t:r,e&&e.length?Bt(e,r,t):[]}function Zo(e){if(!(e&&e.length))return[];var t=0;return e=It(e,function(n){if(pe(n))return t=ve(n.length,t),!0}),co(t,function(n){return ue(e,uo(n))})}function za(e,t){if(!(e&&e.length))return[];var n=Zo(e);return t==null?n:ue(n,function(i){return Fe(t,r,i)})}var Eg=q(function(e,t){return pe(e)?jn(e,t):[]}),Pg=q(function(e){return Io(It(e,pe))}),Ng=q(function(e){var t=Ye(e);return pe(t)&&(t=r),Io(It(e,pe),L(t,2))}),Tg=q(function(e){var t=Ye(e);return t=typeof t=="function"?t:r,Io(It(e,pe),r,t)}),Rg=q(Zo);function Ig(e,t){return ca(e||[],t||[],Qn)}function Fg(e,t){return ca(e||[],t||[],tr)}var Dg=q(function(e){var t=e.length,n=t>1?e[t-1]:r;return n=typeof n=="function"?(e.pop(),n):r,za(e,n)});function Ya(e){var t=a(e);return t.__chain__=!0,t}function Mg(e,t){return t(e),e}function ui(e,t){return t(e)}var Lg=yt(function(e){var t=e.length,n=t?e[0]:0,i=this.__wrapped__,s=function(f){return yo(f,e)};return t>1||this.__actions__.length||!(i instanceof Y)||!wt(n)?this.thru(s):(i=i.slice(n,+n+(t?1:0)),i.__actions__.push({func:ui,args:[s],thisArg:r}),new $e(i,this.__chain__).thru(function(f){return t&&!f.length&&f.push(r),f}))});function Wg(){return Ya(this)}function Bg(){return new $e(this.value(),this.__chain__)}function Ug(){this.__values__===r&&(this.__values__=af(this.value()));var e=this.__index__>=this.__values__.length,t=e?r:this.__values__[this.__index__++];return{done:e,value:t}}function kg(){return this}function Gg(e){for(var t,n=this;n instanceof zr;){var i=ka(n);i.__index__=0,i.__values__=r,t?s.__wrapped__=i:t=i;var s=i;n=n.__wrapped__}return s.__wrapped__=e,t}function Kg(){var e=this.__wrapped__;if(e instanceof Y){var t=e;return this.__actions__.length&&(t=new Y(this)),t=t.reverse(),t.__actions__.push({func:ui,args:[Yo],thisArg:r}),new $e(t,this.__chain__)}return this.thru(Yo)}function Hg(){return fa(this.__wrapped__,this.__actions__)}var $g=Vr(function(e,t,n){V.call(e,n)?++e[n]:mt(e,n,1)});function qg(e,t,n){var i=G(e)?Su:Mp;return n&&Oe(e,t,n)&&(t=r),i(e,L(t,3))}function zg(e,t){var n=G(e)?It:zu;return n(e,L(t,3))}var Yg=wa(Ga),Zg=wa(Ka);function Jg(e,t){return we(ai(e,t),1)}function Xg(e,t){return we(ai(e,t),Yt)}function Qg(e,t,n){return n=n===r?1:K(n),we(ai(e,t),n)}function Za(e,t){var n=G(e)?Ke:Wt;return n(e,L(t,3))}function Ja(e,t){var n=G(e)?vh:qu;return n(e,L(t,3))}var jg=Vr(function(e,t,n){V.call(e,n)?e[n].push(t):mt(e,n,[t])});function Vg(e,t,n,i){e=Te(e)?e:Cn(e),n=n&&!i?K(n):0;var s=e.length;return n<0&&(n=ve(s+n,0)),pi(e)?n<=s&&e.indexOf(t,n)>-1:!!s&&dn(e,t,n)>-1}var ev=q(function(e,t,n){var i=-1,s=typeof t=="function",f=Te(e)?m(e.length):[];return Wt(e,function(l){f[++i]=s?Fe(t,l,n):Vn(l,t,n)}),f}),tv=Vr(function(e,t,n){mt(e,n,t)});function ai(e,t){var n=G(e)?ue:ju;return n(e,L(t,3))}function nv(e,t,n,i){return e==null?[]:(G(t)||(t=t==null?[]:[t]),n=i?r:n,G(n)||(n=n==null?[]:[n]),na(e,t,n))}var rv=Vr(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});function iv(e,t,n){var i=G(e)?oo:Ou,s=arguments.length<3;return i(e,L(t,4),n,s,Wt)}function ov(e,t,n){var i=G(e)?mh:Ou,s=arguments.length<3;return i(e,L(t,4),n,s,qu)}function sv(e,t){var n=G(e)?It:zu;return n(e,li(L(t,3)))}function uv(e){var t=G(e)?Gu:Vp;return t(e)}function av(e,t,n){(n?Oe(e,t,n):t===r)?t=1:t=K(t);var i=G(e)?Tp:ed;return i(e,t)}function fv(e){var t=G(e)?Rp:nd;return t(e)}function cv(e){if(e==null)return 0;if(Te(e))return pi(e)?vn(e):e.length;var t=Se(e);return t==Je||t==Xe?e.size:Co(e).length}function lv(e,t,n){var i=G(e)?so:rd;return n&&Oe(e,t,n)&&(t=r),i(e,L(t,3))}var hv=q(function(e,t){if(e==null)return[];var n=t.length;return n>1&&Oe(e,t[0],t[1])?t=[]:n>2&&Oe(t[0],t[1],t[2])&&(t=[t[0]]),na(e,we(t,1),[])}),fi=zh||function(){return me.Date.now()};function pv(e,t){if(typeof t!="function")throw new He(h);return e=K(e),function(){if(--e<1)return t.apply(this,arguments)}}function Xa(e,t,n){return t=n?r:t,t=e&&t==null?e.length:t,_t(e,ee,r,r,r,r,t)}function Qa(e,t){var n;if(typeof t!="function")throw new He(h);return e=K(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=r),n}}var Jo=q(function(e,t,n){var i=U;if(n.length){var s=Dt(n,xn(Jo));i|=H}return _t(e,i,t,n,s)}),ja=q(function(e,t,n){var i=U|D;if(n.length){var s=Dt(n,xn(ja));i|=H}return _t(t,i,e,n,s)});function Va(e,t,n){t=n?r:t;var i=_t(e,I,r,r,r,r,r,t);return i.placeholder=Va.placeholder,i}function ef(e,t,n){t=n?r:t;var i=_t(e,j,r,r,r,r,r,t);return i.placeholder=ef.placeholder,i}function tf(e,t,n){var i,s,f,l,p,g,w=0,A=!1,x=!1,O=!0;if(typeof e!="function")throw new He(h);t=Ze(t)||0,fe(n)&&(A=!!n.leading,x="maxWait"in n,f=x?ve(Ze(n.maxWait)||0,t):f,O="trailing"in n?!!n.trailing:O);function T(de){var et=i,xt=s;return i=s=r,w=de,l=e.apply(xt,et),l}function W(de){return w=de,p=ir(z,t),A?T(de):l}function $(de){var et=de-g,xt=de-w,Af=t-et;return x?Ae(Af,f-xt):Af}function B(de){var et=de-g,xt=de-w;return g===r||et>=t||et<0||x&&xt>=f}function z(){var de=fi();if(B(de))return J(de);p=ir(z,$(de))}function J(de){return p=r,O&&i?T(de):(i=s=r,l)}function We(){p!==r&&la(p),w=0,i=g=s=p=r}function Ee(){return p===r?l:J(fi())}function Be(){var de=fi(),et=B(de);if(i=arguments,s=this,g=de,et){if(p===r)return W(g);if(x)return la(p),p=ir(z,t),T(g)}return p===r&&(p=ir(z,t)),l}return Be.cancel=We,Be.flush=Ee,Be}var dv=q(function(e,t){return $u(e,1,t)}),gv=q(function(e,t,n){return $u(e,Ze(t)||0,n)});function vv(e){return _t(e,te)}function ci(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new He(h);var n=function(){var i=arguments,s=t?t.apply(this,i):i[0],f=n.cache;if(f.has(s))return f.get(s);var l=e.apply(this,i);return n.cache=f.set(s,l)||f,l};return n.cache=new(ci.Cache||vt),n}ci.Cache=vt;function li(e){if(typeof e!="function")throw new He(h);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function mv(e){return Qa(2,e)}var _v=id(function(e,t){t=t.length==1&&G(t[0])?ue(t[0],De(L())):ue(we(t,1),De(L()));var n=t.length;return q(function(i){for(var s=-1,f=Ae(i.length,n);++s<f;)i[s]=t[s].call(this,i[s]);return Fe(e,this,i)})}),Xo=q(function(e,t){var n=Dt(t,xn(Xo));return _t(e,H,r,t,n)}),nf=q(function(e,t){var n=Dt(t,xn(nf));return _t(e,se,r,t,n)}),yv=yt(function(e,t){return _t(e,rt,r,r,r,t)});function wv(e,t){if(typeof e!="function")throw new He(h);return t=t===r?t:K(t),q(e,t)}function Av(e,t){if(typeof e!="function")throw new He(h);return t=t==null?0:ve(K(t),0),q(function(n){var i=n[t],s=kt(n,0,t);return i&&Ft(s,i),Fe(e,this,s)})}function Sv(e,t,n){var i=!0,s=!0;if(typeof e!="function")throw new He(h);return fe(n)&&(i="leading"in n?!!n.leading:i,s="trailing"in n?!!n.trailing:s),tf(e,t,{leading:i,maxWait:t,trailing:s})}function xv(e){return Xa(e,1)}function bv(e,t){return Xo(Do(t),e)}function Cv(){if(!arguments.length)return[];var e=arguments[0];return G(e)?e:[e]}function Ov(e){return qe(e,M)}function Ev(e,t){return t=typeof t=="function"?t:r,qe(e,M,t)}function Pv(e){return qe(e,b|M)}function Nv(e,t){return t=typeof t=="function"?t:r,qe(e,b|M,t)}function Tv(e,t){return t==null||Hu(e,t,_e(t))}function Ve(e,t){return e===t||e!==e&&t!==t}var Rv=ri(So),Iv=ri(function(e,t){return e>=t}),nn=Ju(function(){return arguments}())?Ju:function(e){return ce(e)&&V.call(e,"callee")&&!Mu.call(e,"callee")},G=m.isArray,Fv=vu?De(vu):Gp;function Te(e){return e!=null&&hi(e.length)&&!At(e)}function pe(e){return ce(e)&&Te(e)}function Dv(e){return e===!0||e===!1||ce(e)&&Ce(e)==Bn}var Gt=Zh||us,Mv=mu?De(mu):Kp;function Lv(e){return ce(e)&&e.nodeType===1&&!or(e)}function Wv(e){if(e==null)return!0;if(Te(e)&&(G(e)||typeof e=="string"||typeof e.splice=="function"||Gt(e)||bn(e)||nn(e)))return!e.length;var t=Se(e);if(t==Je||t==Xe)return!e.size;if(rr(e))return!Co(e).length;for(var n in e)if(V.call(e,n))return!1;return!0}function Bv(e,t){return er(e,t)}function Uv(e,t,n){n=typeof n=="function"?n:r;var i=n?n(e,t):r;return i===r?er(e,t,r,n):!!i}function Qo(e){if(!ce(e))return!1;var t=Ce(e);return t==br||t==al||typeof e.message=="string"&&typeof e.name=="string"&&!or(e)}function kv(e){return typeof e=="number"&&Wu(e)}function At(e){if(!fe(e))return!1;var t=Ce(e);return t==Cr||t==$s||t==ul||t==cl}function rf(e){return typeof e=="number"&&e==K(e)}function hi(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Rt}function fe(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function ce(e){return e!=null&&typeof e=="object"}var of=_u?De(_u):$p;function Gv(e,t){return e===t||bo(e,t,Go(t))}function Kv(e,t,n){return n=typeof n=="function"?n:r,bo(e,t,Go(t),n)}function Hv(e){return sf(e)&&e!=+e}function $v(e){if(Ed(e))throw new k(c);return Xu(e)}function qv(e){return e===null}function zv(e){return e==null}function sf(e){return typeof e=="number"||ce(e)&&Ce(e)==kn}function or(e){if(!ce(e)||Ce(e)!=dt)return!1;var t=Ur(e);if(t===null)return!0;var n=V.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&Mr.call(n)==Kh}var jo=yu?De(yu):qp;function Yv(e){return rf(e)&&e>=-Rt&&e<=Rt}var uf=wu?De(wu):zp;function pi(e){return typeof e=="string"||!G(e)&&ce(e)&&Ce(e)==Kn}function Le(e){return typeof e=="symbol"||ce(e)&&Ce(e)==Or}var bn=Au?De(Au):Yp;function Zv(e){return e===r}function Jv(e){return ce(e)&&Se(e)==Hn}function Xv(e){return ce(e)&&Ce(e)==hl}var Qv=ri(Oo),jv=ri(function(e,t){return e<=t});function af(e){if(!e)return[];if(Te(e))return pi(e)?Qe(e):Ne(e);if(zn&&e[zn])return Th(e[zn]());var t=Se(e),n=t==Je?ho:t==Xe?Ir:Cn;return n(e)}function St(e){if(!e)return e===0?e:0;if(e=Ze(e),e===Yt||e===-Yt){var t=e<0?-1:1;return t*rl}return e===e?e:0}function K(e){var t=St(e),n=t%1;return t===t?n?t-n:t:0}function ff(e){return e?jt(K(e),0,it):0}function Ze(e){if(typeof e=="number")return e;if(Le(e))return Sr;if(fe(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=fe(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=Eu(e);var n=Fl.test(e);return n||Ml.test(e)?ph(e.slice(2),n?2:8):Il.test(e)?Sr:+e}function cf(e){return st(e,Re(e))}function Vv(e){return e?jt(K(e),-Rt,Rt):e===0?e:0}function Q(e){return e==null?"":Me(e)}var em=An(function(e,t){if(rr(t)||Te(t)){st(t,_e(t),e);return}for(var n in t)V.call(t,n)&&Qn(e,n,t[n])}),lf=An(function(e,t){st(t,Re(t),e)}),di=An(function(e,t,n,i){st(t,Re(t),e,i)}),tm=An(function(e,t,n,i){st(t,_e(t),e,i)}),nm=yt(yo);function rm(e,t){var n=wn(e);return t==null?n:Ku(n,t)}var im=q(function(e,t){e=ne(e);var n=-1,i=t.length,s=i>2?t[2]:r;for(s&&Oe(t[0],t[1],s)&&(i=1);++n<i;)for(var f=t[n],l=Re(f),p=-1,g=l.length;++p<g;){var w=l[p],A=e[w];(A===r||Ve(A,mn[w])&&!V.call(e,w))&&(e[w]=f[w])}return e}),om=q(function(e){return e.push(r,Ea),Fe(hf,r,e)});function sm(e,t){return xu(e,L(t,3),ot)}function um(e,t){return xu(e,L(t,3),Ao)}function am(e,t){return e==null?e:wo(e,L(t,3),Re)}function fm(e,t){return e==null?e:Yu(e,L(t,3),Re)}function cm(e,t){return e&&ot(e,L(t,3))}function lm(e,t){return e&&Ao(e,L(t,3))}function hm(e){return e==null?[]:Jr(e,_e(e))}function pm(e){return e==null?[]:Jr(e,Re(e))}function Vo(e,t,n){var i=e==null?r:Vt(e,t);return i===r?n:i}function dm(e,t){return e!=null&&Ta(e,t,Wp)}function es(e,t){return e!=null&&Ta(e,t,Bp)}var gm=Sa(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=Lr.call(t)),e[t]=n},ns(Ie)),vm=Sa(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=Lr.call(t)),V.call(e,t)?e[t].push(n):e[t]=[n]},L),mm=q(Vn);function _e(e){return Te(e)?ku(e):Co(e)}function Re(e){return Te(e)?ku(e,!0):Zp(e)}function _m(e,t){var n={};return t=L(t,3),ot(e,function(i,s,f){mt(n,t(i,s,f),i)}),n}function ym(e,t){var n={};return t=L(t,3),ot(e,function(i,s,f){mt(n,s,t(i,s,f))}),n}var wm=An(function(e,t,n){Xr(e,t,n)}),hf=An(function(e,t,n,i){Xr(e,t,n,i)}),Am=yt(function(e,t){var n={};if(e==null)return n;var i=!1;t=ue(t,function(f){return f=Ut(f,e),i||(i=f.length>1),f}),st(e,Uo(e),n),i&&(n=qe(n,b|P|M,gd));for(var s=t.length;s--;)Ro(n,t[s]);return n});function Sm(e,t){return pf(e,li(L(t)))}var xm=yt(function(e,t){return e==null?{}:Xp(e,t)});function pf(e,t){if(e==null)return{};var n=ue(Uo(e),function(i){return[i]});return t=L(t),ra(e,n,function(i,s){return t(i,s[0])})}function bm(e,t,n){t=Ut(t,e);var i=-1,s=t.length;for(s||(s=1,e=r);++i<s;){var f=e==null?r:e[ut(t[i])];f===r&&(i=s,f=n),e=At(f)?f.call(e):f}return e}function Cm(e,t,n){return e==null?e:tr(e,t,n)}function Om(e,t,n,i){return i=typeof i=="function"?i:r,e==null?e:tr(e,t,n,i)}var df=Ca(_e),gf=Ca(Re);function Em(e,t,n){var i=G(e),s=i||Gt(e)||bn(e);if(t=L(t,4),n==null){var f=e&&e.constructor;s?n=i?new f:[]:fe(e)?n=At(f)?wn(Ur(e)):{}:n={}}return(s?Ke:ot)(e,function(l,p,g){return t(n,l,p,g)}),n}function Pm(e,t){return e==null?!0:Ro(e,t)}function Nm(e,t,n){return e==null?e:aa(e,t,Do(n))}function Tm(e,t,n,i){return i=typeof i=="function"?i:r,e==null?e:aa(e,t,Do(n),i)}function Cn(e){return e==null?[]:lo(e,_e(e))}function Rm(e){return e==null?[]:lo(e,Re(e))}function Im(e,t,n){return n===r&&(n=t,t=r),n!==r&&(n=Ze(n),n=n===n?n:0),t!==r&&(t=Ze(t),t=t===t?t:0),jt(Ze(e),t,n)}function Fm(e,t,n){return t=St(t),n===r?(n=t,t=0):n=St(n),e=Ze(e),Up(e,t,n)}function Dm(e,t,n){if(n&&typeof n!="boolean"&&Oe(e,t,n)&&(t=n=r),n===r&&(typeof t=="boolean"?(n=t,t=r):typeof e=="boolean"&&(n=e,e=r)),e===r&&t===r?(e=0,t=1):(e=St(e),t===r?(t=e,e=0):t=St(t)),e>t){var i=e;e=t,t=i}if(n||e%1||t%1){var s=Bu();return Ae(e+s*(t-e+hh("1e-"+((s+"").length-1))),t)}return Po(e,t)}var Mm=Sn(function(e,t,n){return t=t.toLowerCase(),e+(n?vf(t):t)});function vf(e){return ts(Q(e).toLowerCase())}function mf(e){return e=Q(e),e&&e.replace(Wl,Ch).replace(nh,"")}function Lm(e,t,n){e=Q(e),t=Me(t);var i=e.length;n=n===r?i:jt(K(n),0,i);var s=n;return n-=t.length,n>=0&&e.slice(n,s)==t}function Wm(e){return e=Q(e),e&&ml.test(e)?e.replace(Ys,Oh):e}function Bm(e){return e=Q(e),e&&xl.test(e)?e.replace(Ji,"\\$&"):e}var Um=Sn(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()}),km=Sn(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()}),Gm=ya("toLowerCase");function Km(e,t,n){e=Q(e),t=K(t);var i=t?vn(e):0;if(!t||i>=t)return e;var s=(t-i)/2;return ni(Hr(s),n)+e+ni(Kr(s),n)}function Hm(e,t,n){e=Q(e),t=K(t);var i=t?vn(e):0;return t&&i<t?e+ni(t-i,n):e}function $m(e,t,n){e=Q(e),t=K(t);var i=t?vn(e):0;return t&&i<t?ni(t-i,n)+e:e}function qm(e,t,n){return n||t==null?t=0:t&&(t=+t),jh(Q(e).replace(Xi,""),t||0)}function zm(e,t,n){return(n?Oe(e,t,n):t===r)?t=1:t=K(t),No(Q(e),t)}function Ym(){var e=arguments,t=Q(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var Zm=Sn(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});function Jm(e,t,n){return n&&typeof n!="number"&&Oe(e,t,n)&&(t=n=r),n=n===r?it:n>>>0,n?(e=Q(e),e&&(typeof t=="string"||t!=null&&!jo(t))&&(t=Me(t),!t&&gn(e))?kt(Qe(e),0,n):e.split(t,n)):[]}var Xm=Sn(function(e,t,n){return e+(n?" ":"")+ts(t)});function Qm(e,t,n){return e=Q(e),n=n==null?0:jt(K(n),0,e.length),t=Me(t),e.slice(n,n+t.length)==t}function jm(e,t,n){var i=a.templateSettings;n&&Oe(e,t,n)&&(t=r),e=Q(e),t=di({},t,i,Oa);var s=di({},t.imports,i.imports,Oa),f=_e(s),l=lo(s,f),p,g,w=0,A=t.interpolate||Er,x="__p += '",O=po((t.escape||Er).source+"|"+A.source+"|"+(A===Zs?Rl:Er).source+"|"+(t.evaluate||Er).source+"|$","g"),T="//# sourceURL="+(V.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++uh+"]")+`
`;e.replace(O,function(B,z,J,We,Ee,Be){return J||(J=We),x+=e.slice(w,Be).replace(Bl,Eh),z&&(p=!0,x+=`' +
__e(`+z+`) +
'`),Ee&&(g=!0,x+=`';
`+Ee+`;
__p += '`),J&&(x+=`' +
((__t = (`+J+`)) == null ? '' : __t) +
'`),w=Be+B.length,B}),x+=`';
`;var W=V.call(t,"variable")&&t.variable;if(!W)x=`with (obj) {
`+x+`
}
`;else if(Nl.test(W))throw new k(v);x=(g?x.replace(pl,""):x).replace(dl,"$1").replace(gl,"$1;"),x="function("+(W||"obj")+`) {
`+(W?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(p?", __e = _.escape":"")+(g?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+x+`return __p
}`;var $=yf(function(){return X(f,T+"return "+x).apply(r,l)});if($.source=x,Qo($))throw $;return $}function Vm(e){return Q(e).toLowerCase()}function e_(e){return Q(e).toUpperCase()}function t_(e,t,n){if(e=Q(e),e&&(n||t===r))return Eu(e);if(!e||!(t=Me(t)))return e;var i=Qe(e),s=Qe(t),f=Pu(i,s),l=Nu(i,s)+1;return kt(i,f,l).join("")}function n_(e,t,n){if(e=Q(e),e&&(n||t===r))return e.slice(0,Ru(e)+1);if(!e||!(t=Me(t)))return e;var i=Qe(e),s=Nu(i,Qe(t))+1;return kt(i,0,s).join("")}function r_(e,t,n){if(e=Q(e),e&&(n||t===r))return e.replace(Xi,"");if(!e||!(t=Me(t)))return e;var i=Qe(e),s=Pu(i,Qe(t));return kt(i,s).join("")}function i_(e,t){var n=he,i=pt;if(fe(t)){var s="separator"in t?t.separator:s;n="length"in t?K(t.length):n,i="omission"in t?Me(t.omission):i}e=Q(e);var f=e.length;if(gn(e)){var l=Qe(e);f=l.length}if(n>=f)return e;var p=n-vn(i);if(p<1)return i;var g=l?kt(l,0,p).join(""):e.slice(0,p);if(s===r)return g+i;if(l&&(p+=g.length-p),jo(s)){if(e.slice(p).search(s)){var w,A=g;for(s.global||(s=po(s.source,Q(Js.exec(s))+"g")),s.lastIndex=0;w=s.exec(A);)var x=w.index;g=g.slice(0,x===r?p:x)}}else if(e.indexOf(Me(s),p)!=p){var O=g.lastIndexOf(s);O>-1&&(g=g.slice(0,O))}return g+i}function o_(e){return e=Q(e),e&&vl.test(e)?e.replace(zs,Dh):e}var s_=Sn(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()}),ts=ya("toUpperCase");function _f(e,t,n){return e=Q(e),t=n?r:t,t===r?Nh(e)?Wh(e):wh(e):e.match(t)||[]}var yf=q(function(e,t){try{return Fe(e,r,t)}catch(n){return Qo(n)?n:new k(n)}}),u_=yt(function(e,t){return Ke(t,function(n){n=ut(n),mt(e,n,Jo(e[n],e))}),e});function a_(e){var t=e==null?0:e.length,n=L();return e=t?ue(e,function(i){if(typeof i[1]!="function")throw new He(h);return[n(i[0]),i[1]]}):[],q(function(i){for(var s=-1;++s<t;){var f=e[s];if(Fe(f[0],this,i))return Fe(f[1],this,i)}})}function f_(e){return Dp(qe(e,b))}function ns(e){return function(){return e}}function c_(e,t){return e==null||e!==e?t:e}var l_=Aa(),h_=Aa(!0);function Ie(e){return e}function rs(e){return Qu(typeof e=="function"?e:qe(e,b))}function p_(e){return Vu(qe(e,b))}function d_(e,t){return ea(e,qe(t,b))}var g_=q(function(e,t){return function(n){return Vn(n,e,t)}}),v_=q(function(e,t){return function(n){return Vn(e,n,t)}});function is(e,t,n){var i=_e(t),s=Jr(t,i);n==null&&!(fe(t)&&(s.length||!i.length))&&(n=t,t=e,e=this,s=Jr(t,_e(t)));var f=!(fe(n)&&"chain"in n)||!!n.chain,l=At(e);return Ke(s,function(p){var g=t[p];e[p]=g,l&&(e.prototype[p]=function(){var w=this.__chain__;if(f||w){var A=e(this.__wrapped__),x=A.__actions__=Ne(this.__actions__);return x.push({func:g,args:arguments,thisArg:e}),A.__chain__=w,A}return g.apply(e,Ft([this.value()],arguments))})}),e}function m_(){return me._===this&&(me._=Hh),this}function os(){}function __(e){return e=K(e),q(function(t){return ta(t,e)})}var y_=Lo(ue),w_=Lo(Su),A_=Lo(so);function wf(e){return Ho(e)?uo(ut(e)):Qp(e)}function S_(e){return function(t){return e==null?r:Vt(e,t)}}var x_=xa(),b_=xa(!0);function ss(){return[]}function us(){return!1}function C_(){return{}}function O_(){return""}function E_(){return!0}function P_(e,t){if(e=K(e),e<1||e>Rt)return[];var n=it,i=Ae(e,it);t=L(t),e-=it;for(var s=co(i,t);++n<e;)t(n);return s}function N_(e){return G(e)?ue(e,ut):Le(e)?[e]:Ne(Ua(Q(e)))}function T_(e){var t=++Gh;return Q(e)+t}var R_=ti(function(e,t){return e+t},0),I_=Wo("ceil"),F_=ti(function(e,t){return e/t},1),D_=Wo("floor");function M_(e){return e&&e.length?Zr(e,Ie,So):r}function L_(e,t){return e&&e.length?Zr(e,L(t,2),So):r}function W_(e){return Cu(e,Ie)}function B_(e,t){return Cu(e,L(t,2))}function U_(e){return e&&e.length?Zr(e,Ie,Oo):r}function k_(e,t){return e&&e.length?Zr(e,L(t,2),Oo):r}var G_=ti(function(e,t){return e*t},1),K_=Wo("round"),H_=ti(function(e,t){return e-t},0);function $_(e){return e&&e.length?fo(e,Ie):0}function q_(e,t){return e&&e.length?fo(e,L(t,2)):0}return a.after=pv,a.ary=Xa,a.assign=em,a.assignIn=lf,a.assignInWith=di,a.assignWith=tm,a.at=nm,a.before=Qa,a.bind=Jo,a.bindAll=u_,a.bindKey=ja,a.castArray=Cv,a.chain=Ya,a.chunk=Dd,a.compact=Md,a.concat=Ld,a.cond=a_,a.conforms=f_,a.constant=ns,a.countBy=$g,a.create=rm,a.curry=Va,a.curryRight=ef,a.debounce=tf,a.defaults=im,a.defaultsDeep=om,a.defer=dv,a.delay=gv,a.difference=Wd,a.differenceBy=Bd,a.differenceWith=Ud,a.drop=kd,a.dropRight=Gd,a.dropRightWhile=Kd,a.dropWhile=Hd,a.fill=$d,a.filter=zg,a.flatMap=Jg,a.flatMapDeep=Xg,a.flatMapDepth=Qg,a.flatten=Ha,a.flattenDeep=qd,a.flattenDepth=zd,a.flip=vv,a.flow=l_,a.flowRight=h_,a.fromPairs=Yd,a.functions=hm,a.functionsIn=pm,a.groupBy=jg,a.initial=Jd,a.intersection=Xd,a.intersectionBy=Qd,a.intersectionWith=jd,a.invert=gm,a.invertBy=vm,a.invokeMap=ev,a.iteratee=rs,a.keyBy=tv,a.keys=_e,a.keysIn=Re,a.map=ai,a.mapKeys=_m,a.mapValues=ym,a.matches=p_,a.matchesProperty=d_,a.memoize=ci,a.merge=wm,a.mergeWith=hf,a.method=g_,a.methodOf=v_,a.mixin=is,a.negate=li,a.nthArg=__,a.omit=Am,a.omitBy=Sm,a.once=mv,a.orderBy=nv,a.over=y_,a.overArgs=_v,a.overEvery=w_,a.overSome=A_,a.partial=Xo,a.partialRight=nf,a.partition=rv,a.pick=xm,a.pickBy=pf,a.property=wf,a.propertyOf=S_,a.pull=ng,a.pullAll=qa,a.pullAllBy=rg,a.pullAllWith=ig,a.pullAt=og,a.range=x_,a.rangeRight=b_,a.rearg=yv,a.reject=sv,a.remove=sg,a.rest=wv,a.reverse=Yo,a.sampleSize=av,a.set=Cm,a.setWith=Om,a.shuffle=fv,a.slice=ug,a.sortBy=hv,a.sortedUniq=dg,a.sortedUniqBy=gg,a.split=Jm,a.spread=Av,a.tail=vg,a.take=mg,a.takeRight=_g,a.takeRightWhile=yg,a.takeWhile=wg,a.tap=Mg,a.throttle=Sv,a.thru=ui,a.toArray=af,a.toPairs=df,a.toPairsIn=gf,a.toPath=N_,a.toPlainObject=cf,a.transform=Em,a.unary=xv,a.union=Ag,a.unionBy=Sg,a.unionWith=xg,a.uniq=bg,a.uniqBy=Cg,a.uniqWith=Og,a.unset=Pm,a.unzip=Zo,a.unzipWith=za,a.update=Nm,a.updateWith=Tm,a.values=Cn,a.valuesIn=Rm,a.without=Eg,a.words=_f,a.wrap=bv,a.xor=Pg,a.xorBy=Ng,a.xorWith=Tg,a.zip=Rg,a.zipObject=Ig,a.zipObjectDeep=Fg,a.zipWith=Dg,a.entries=df,a.entriesIn=gf,a.extend=lf,a.extendWith=di,is(a,a),a.add=R_,a.attempt=yf,a.camelCase=Mm,a.capitalize=vf,a.ceil=I_,a.clamp=Im,a.clone=Ov,a.cloneDeep=Pv,a.cloneDeepWith=Nv,a.cloneWith=Ev,a.conformsTo=Tv,a.deburr=mf,a.defaultTo=c_,a.divide=F_,a.endsWith=Lm,a.eq=Ve,a.escape=Wm,a.escapeRegExp=Bm,a.every=qg,a.find=Yg,a.findIndex=Ga,a.findKey=sm,a.findLast=Zg,a.findLastIndex=Ka,a.findLastKey=um,a.floor=D_,a.forEach=Za,a.forEachRight=Ja,a.forIn=am,a.forInRight=fm,a.forOwn=cm,a.forOwnRight=lm,a.get=Vo,a.gt=Rv,a.gte=Iv,a.has=dm,a.hasIn=es,a.head=$a,a.identity=Ie,a.includes=Vg,a.indexOf=Zd,a.inRange=Fm,a.invoke=mm,a.isArguments=nn,a.isArray=G,a.isArrayBuffer=Fv,a.isArrayLike=Te,a.isArrayLikeObject=pe,a.isBoolean=Dv,a.isBuffer=Gt,a.isDate=Mv,a.isElement=Lv,a.isEmpty=Wv,a.isEqual=Bv,a.isEqualWith=Uv,a.isError=Qo,a.isFinite=kv,a.isFunction=At,a.isInteger=rf,a.isLength=hi,a.isMap=of,a.isMatch=Gv,a.isMatchWith=Kv,a.isNaN=Hv,a.isNative=$v,a.isNil=zv,a.isNull=qv,a.isNumber=sf,a.isObject=fe,a.isObjectLike=ce,a.isPlainObject=or,a.isRegExp=jo,a.isSafeInteger=Yv,a.isSet=uf,a.isString=pi,a.isSymbol=Le,a.isTypedArray=bn,a.isUndefined=Zv,a.isWeakMap=Jv,a.isWeakSet=Xv,a.join=Vd,a.kebabCase=Um,a.last=Ye,a.lastIndexOf=eg,a.lowerCase=km,a.lowerFirst=Gm,a.lt=Qv,a.lte=jv,a.max=M_,a.maxBy=L_,a.mean=W_,a.meanBy=B_,a.min=U_,a.minBy=k_,a.stubArray=ss,a.stubFalse=us,a.stubObject=C_,a.stubString=O_,a.stubTrue=E_,a.multiply=G_,a.nth=tg,a.noConflict=m_,a.noop=os,a.now=fi,a.pad=Km,a.padEnd=Hm,a.padStart=$m,a.parseInt=qm,a.random=Dm,a.reduce=iv,a.reduceRight=ov,a.repeat=zm,a.replace=Ym,a.result=bm,a.round=K_,a.runInContext=d,a.sample=uv,a.size=cv,a.snakeCase=Zm,a.some=lv,a.sortedIndex=ag,a.sortedIndexBy=fg,a.sortedIndexOf=cg,a.sortedLastIndex=lg,a.sortedLastIndexBy=hg,a.sortedLastIndexOf=pg,a.startCase=Xm,a.startsWith=Qm,a.subtract=H_,a.sum=$_,a.sumBy=q_,a.template=jm,a.times=P_,a.toFinite=St,a.toInteger=K,a.toLength=ff,a.toLower=Vm,a.toNumber=Ze,a.toSafeInteger=Vv,a.toString=Q,a.toUpper=e_,a.trim=t_,a.trimEnd=n_,a.trimStart=r_,a.truncate=i_,a.unescape=o_,a.uniqueId=T_,a.upperCase=s_,a.upperFirst=ts,a.each=Za,a.eachRight=Ja,a.first=$a,is(a,function(){var e={};return ot(a,function(t,n){V.call(a.prototype,n)||(e[n]=t)}),e}(),{chain:!1}),a.VERSION=o,Ke(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){a[e].placeholder=a}),Ke(["drop","take"],function(e,t){Y.prototype[e]=function(n){n=n===r?1:ve(K(n),0);var i=this.__filtered__&&!t?new Y(this):this.clone();return i.__filtered__?i.__takeCount__=Ae(n,i.__takeCount__):i.__views__.push({size:Ae(n,it),type:e+(i.__dir__<0?"Right":"")}),i},Y.prototype[e+"Right"]=function(n){return this.reverse()[e](n).reverse()}}),Ke(["filter","map","takeWhile"],function(e,t){var n=t+1,i=n==Hs||n==nl;Y.prototype[e]=function(s){var f=this.clone();return f.__iteratees__.push({iteratee:L(s,3),type:n}),f.__filtered__=f.__filtered__||i,f}}),Ke(["head","last"],function(e,t){var n="take"+(t?"Right":"");Y.prototype[e]=function(){return this[n](1).value()[0]}}),Ke(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");Y.prototype[e]=function(){return this.__filtered__?new Y(this):this[n](1)}}),Y.prototype.compact=function(){return this.filter(Ie)},Y.prototype.find=function(e){return this.filter(e).head()},Y.prototype.findLast=function(e){return this.reverse().find(e)},Y.prototype.invokeMap=q(function(e,t){return typeof e=="function"?new Y(this):this.map(function(n){return Vn(n,e,t)})}),Y.prototype.reject=function(e){return this.filter(li(L(e)))},Y.prototype.slice=function(e,t){e=K(e);var n=this;return n.__filtered__&&(e>0||t<0)?new Y(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==r&&(t=K(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)},Y.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},Y.prototype.toArray=function(){return this.take(it)},ot(Y.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),i=/^(?:head|last)$/.test(t),s=a[i?"take"+(t=="last"?"Right":""):t],f=i||/^find/.test(t);s&&(a.prototype[t]=function(){var l=this.__wrapped__,p=i?[1]:arguments,g=l instanceof Y,w=p[0],A=g||G(l),x=function(z){var J=s.apply(a,Ft([z],p));return i&&O?J[0]:J};A&&n&&typeof w=="function"&&w.length!=1&&(g=A=!1);var O=this.__chain__,T=!!this.__actions__.length,W=f&&!O,$=g&&!T;if(!f&&A){l=$?l:new Y(this);var B=e.apply(l,p);return B.__actions__.push({func:ui,args:[x],thisArg:r}),new $e(B,O)}return W&&$?e.apply(this,p):(B=this.thru(x),W?i?B.value()[0]:B.value():B)})}),Ke(["pop","push","shift","sort","splice","unshift"],function(e){var t=Fr[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:pop|shift)$/.test(e);a.prototype[e]=function(){var s=arguments;if(i&&!this.__chain__){var f=this.value();return t.apply(G(f)?f:[],s)}return this[n](function(l){return t.apply(G(l)?l:[],s)})}}),ot(Y.prototype,function(e,t){var n=a[t];if(n){var i=n.name+"";V.call(yn,i)||(yn[i]=[]),yn[i].push({name:t,func:n})}}),yn[ei(r,D).name]=[{name:"wrapper",func:r}],Y.prototype.clone=op,Y.prototype.reverse=sp,Y.prototype.value=up,a.prototype.at=Lg,a.prototype.chain=Wg,a.prototype.commit=Bg,a.prototype.next=Ug,a.prototype.plant=Gg,a.prototype.reverse=Kg,a.prototype.toJSON=a.prototype.valueOf=a.prototype.value=Hg,a.prototype.first=a.prototype.head,zn&&(a.prototype[zn]=kg),a},Mt=Bh();typeof define=="function"&&typeof define.amd=="object"&&define.amd?(me._=Mt,define(function(){return Mt})):Zt?((Zt.exports=Mt)._=Mt,no._=Mt):me._=Mt}).call(Wn)});tt();var sr=class{constructor(o){this.SERIAL_VERSION_UID="d8a5aa78-978e-11e6-ae22-56b6b6499611",this.description=o}};var V_=(r,o="position",u="key")=>{let c=typeof o=="string"?I=>I[o]:o,h={},v={},y={},S={},C={},b={};r.forEach((I,j)=>{let H=I[u]?I[u]:String(j);h[H]=j;let se=c(I),ee=String(se||j),rt=!1;if(ee.startsWith("start")){let te=ee.match(/start\s+(\d+)/),he=te&&te[1]?Number(te[1]):0;y[he]||(y[he]=[]),y[he].push(H)}else if(ee.startsWith("end")){let te=ee.match(/end\s+(\d+)/),he=te&&te[1]?Number(te[1]):0;S[he]||(S[he]=[]),S[he].push(H)}else if(ee.startsWith("before")){let te=ee.match(/before\s+(\S+)(\s+(\d+))?/);if(!te)rt=!0;else{let he=te[1],pt=te[3]?Number(te[3]):0;C[he]||(C[he]={}),C[he][pt]||(C[he][pt]=[]),C[he][pt].push(H)}}else if(ee.startsWith("after")){let te=ee.match(/after\s+(\S+)(\s+(\d+))?/);if(!te)rt=!0;else{let he=te[1],pt=te[3]?Number(te[3]):0;b[he]||(b[he]={}),b[he][pt]||(b[he][pt]=[]),b[he][pt].push(H)}}else rt=!0;if(rt){let te=parseFloat(ee);(isNaN(te)||!isFinite(te))&&(te=j),v[te]||(v[te]=[]),v[te].push(H)}});let P=[],M=[],F=[],R=[],U=(I,j)=>{let H=Object.keys(I).map(se=>Number(se)).sort((se,ee)=>se-ee);return j?H:H.reverse()},D=(I,j)=>{I.forEach(H=>{if(!(R.indexOf(H)>=0)){if(R.push(H),C[H]){let se=U(C[H],!0);for(let ee of se)D(C[H][ee],j)}if(j.push(H),b[H]){let se=U(b[H],!1);for(let ee of se)D(b[H][ee],j)}}})};for(let I of U(y,!1))D(y[I],P);for(let I of U(v,!0))D(v[I],M);for(let I of U(S,!0))D(S[I],F);for(let I of Object.keys(C))if(!(R.indexOf(I)>=0))for(let j of U(C[I],!1))D(C[I][j],P);for(let I of Object.keys(b))if(!(R.indexOf(I)>=0))for(let j of U(b[I],!1))D(b[I][j],M);return[...P,...M,...F].map(I=>h[I]).map(I=>r[I])},as=V_;var Ht=class extends sr{constructor(o){super(o),this._registry=[]}set(o,u,c=0){if(typeof o!="string")throw new Error("Key must be a string");if(typeof c!="string"&&typeof c!="number")throw new Error("Position must be a string or a number");let h={key:o,value:u};c&&(h.position=c);let v=this._registry.findIndex(y=>y.key===o);return v===-1?this._registry.push(h):this._registry[v]=h,u}get(o){if(typeof o!="string")return console.error("Key must be a string"),null;let u=this._registry.find(c=>c.key===o);return u?u.value:null}_getChildrenWrapped(o){let u=this._registry.filter(c=>c.key.indexOf(o+"/")===0);return as(u)}getChildrenAsObject(o){let u={};return this._getChildrenWrapped(o).forEach(c=>{u[c.key]=c.value}),u}getChildren(o){return this._getChildrenWrapped(o).map(u=>u.value)}has(o){return typeof o!="string"?(console.error("Key must be a string"),!1):!!this._registry.find(u=>u.key===o)}_getAllWrapped(){return as(this._registry)}getAllAsObject(){let o={};return this._getAllWrapped().forEach(u=>{o[u.key]=u.value}),o}getAllAsList(){return this._getAllWrapped().map(o=>Object.assign({id:o.key},o.value))}};var xf=le("manifest");var xe=class extends Error{constructor(u,c,h=""){super(u);N(this,"code");N(this,"severity","error");N(this,"externalMessage");this.code=c,this.externalMessage=h}};var bf=r=>new fs(r.apiDomain,r.apiKey),fs=class{constructor(o,u){N(this,"apiDomain","");N(this,"apiKey","");N(this,"hasApiKey",()=>this.apiKey!==null&&this.apiKey!=="");N(this,"generate",async(o,u,c={})=>{let v=(await this.fetch(`/api/v1/chat?language=${u}`,{method:"POST",body:JSON.stringify({module:o,platform:"neos",user_input:c})}))?.data?.message?.message;return v.startsWith('"')&&v.endsWith('"')&&(v=v.substring(1,v.length-1)),v});N(this,"fetch",async(o,u={})=>{if(!this.apiKey)throw new xe("This feature is not available in the free version.","1688157373215");let c=await fetch(this.apiDomain+o,Object.assign({},u,{headers:{"Content-Type":"application/json",Authorization:`Bearer ${this.apiKey}`,Accept:"application/json"}})),h=await c.json();if(c.status===401)throw new xe("The NEOSidekick api key provided is not valid.","1688158193038");if(c.status<200||c.status>=400)throw new xe("An error occurred while asking NEOSidekick.","1688158257149",h?.message);return h});this.apiDomain=o,this.apiKey=u}};tt();var Cf=le("NeosProjectPackages")().NeosUiBackendConnectorDefault,{fetchWithErrorHandling:N1}=le("NeosProjectPackages")().NeosUiBackendConnector;var Fn=Z(ft());function nt(r){for(var o=arguments.length,u=Array(o>1?o-1:0),c=1;c<o;c++)u[c-1]=arguments[c];if(!1)var h,v;throw Error("[Immer] minified error nr: "+r+(u.length?" "+u.map(function(y){return"'"+y+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function On(r){return!!r&&!!r[Ue]}function on(r){var o;return!!r&&(function(u){if(!u||typeof u!="object")return!1;var c=Object.getPrototypeOf(u);if(c===null)return!0;var h=Object.hasOwnProperty.call(c,"constructor")&&c.constructor;return h===Object||typeof h=="function"&&Function.toString.call(h)===a0}(r)||Array.isArray(r)||!!r[Df]||!!(!((o=r.constructor)===null||o===void 0)&&o[Df])||ys(r)||ws(r))}function ar(r,o,u){u===void 0&&(u=!1),En(r)===0?(u?Object.keys:Cs)(r).forEach(function(c){u&&typeof c=="symbol"||o(c,r[c],r)}):r.forEach(function(c,h){return o(h,c,r)})}function En(r){var o=r[Ue];return o?o.i>3?o.i-4:o.i:Array.isArray(r)?1:ys(r)?2:ws(r)?3:0}function ds(r,o){return En(r)===2?r.has(o):Object.prototype.hasOwnProperty.call(r,o)}function t0(r,o){return En(r)===2?r.get(o):r[o]}function Mf(r,o,u){var c=En(r);c===2?r.set(o,u):c===3?r.add(u):r[o]=u}function n0(r,o){return r===o?r!==0||1/r==1/o:r!=r&&o!=o}function ys(r){return s0&&r instanceof Map}function ws(r){return u0&&r instanceof Set}function rn(r){return r.o||r.t}function As(r){if(Array.isArray(r))return Array.prototype.slice.call(r);var o=f0(r);delete o[Ue];for(var u=Cs(o),c=0;c<u.length;c++){var h=u[c],v=o[h];v.writable===!1&&(v.writable=!0,v.configurable=!0),(v.get||v.set)&&(o[h]={configurable:!0,writable:!0,enumerable:v.enumerable,value:r[h]})}return Object.create(Object.getPrototypeOf(r),o)}function Ss(r,o){return o===void 0&&(o=!1),xs(r)||On(r)||!on(r)||(En(r)>1&&(r.set=r.add=r.clear=r.delete=r0),Object.freeze(r),o&&ar(r,function(u,c){return Ss(c,!0)},!0)),r}function r0(){nt(2)}function xs(r){return r==null||typeof r!="object"||Object.isFrozen(r)}function ct(r){var o=c0[r];return o||nt(18,r),o}function Ef(){return fr}function cs(r,o){o&&(ct("Patches"),r.u=[],r.s=[],r.v=o)}function vi(r){gs(r),r.p.forEach(i0),r.p=null}function gs(r){r===fr&&(fr=r.l)}function Pf(r){return fr={p:[],l:fr,h:r,m:!0,_:0}}function i0(r){var o=r[Ue];o.i===0||o.i===1?o.j():o.g=!0}function ls(r,o){o._=o.p.length;var u=o.p[0],c=r!==void 0&&r!==u;return o.h.O||ct("ES5").S(o,r,c),c?(u[Ue].P&&(vi(o),nt(4)),on(r)&&(r=mi(o,r),o.l||_i(o,r)),o.u&&ct("Patches").M(u[Ue].t,r,o.u,o.s)):r=mi(o,u,[]),vi(o),o.u&&o.v(o.u,o.s),r!==Lf?r:void 0}function mi(r,o,u){if(xs(o))return o;var c=o[Ue];if(!c)return ar(o,function(S,C){return Nf(r,c,o,S,C,u)},!0),o;if(c.A!==r)return o;if(!c.P)return _i(r,c.t,!0),c.t;if(!c.I){c.I=!0,c.A._--;var h=c.i===4||c.i===5?c.o=As(c.k):c.o,v=h,y=!1;c.i===3&&(v=new Set(h),h.clear(),y=!0),ar(v,function(S,C){return Nf(r,c,h,S,C,u,y)}),_i(r,h,!1),u&&r.u&&ct("Patches").N(c,u,r.u,r.s)}return c.o}function Nf(r,o,u,c,h,v,y){if(On(h)){var S=mi(r,h,v&&o&&o.i!==3&&!ds(o.R,c)?v.concat(c):void 0);if(Mf(u,c,S),!On(S))return;r.m=!1}else y&&u.add(h);if(on(h)&&!xs(h)){if(!r.h.D&&r._<1)return;mi(r,h),o&&o.A.l||_i(r,h)}}function _i(r,o,u){u===void 0&&(u=!1),!r.l&&r.h.D&&r.m&&Ss(o,u)}function hs(r,o){var u=r[Ue];return(u?rn(u):r)[o]}function Tf(r,o){if(o in r)for(var u=Object.getPrototypeOf(r);u;){var c=Object.getOwnPropertyDescriptor(u,o);if(c)return c;u=Object.getPrototypeOf(u)}}function vs(r){r.P||(r.P=!0,r.l&&vs(r.l))}function ps(r){r.o||(r.o=As(r.t))}function ms(r,o,u){var c=ys(o)?ct("MapSet").F(o,u):ws(o)?ct("MapSet").T(o,u):r.O?function(h,v){var y=Array.isArray(h),S={i:y?1:0,A:v?v.A:Ef(),P:!1,I:!1,R:{},l:v,t:h,k:null,o:null,j:null,C:!1},C=S,b=_s;y&&(C=[S],b=ur);var P=Proxy.revocable(C,b),M=P.revoke,F=P.proxy;return S.k=F,S.j=M,F}(o,u):ct("ES5").J(o,u);return(u?u.A:Ef()).p.push(c),c}function o0(r){return On(r)||nt(22,r),function o(u){if(!on(u))return u;var c,h=u[Ue],v=En(u);if(h){if(!h.P&&(h.i<4||!ct("ES5").K(h)))return h.t;h.I=!0,c=Rf(u,v),h.I=!1}else c=Rf(u,v);return ar(c,function(y,S){h&&t0(h.t,y)===S||Mf(c,y,o(S))}),v===3?new Set(c):c}(r)}function Rf(r,o){switch(o){case 2:return new Map(r);case 3:return Array.from(r)}return As(r)}var If,fr,bs=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",s0=typeof Map<"u",u0=typeof Set<"u",Ff=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",Lf=bs?Symbol.for("immer-nothing"):((If={})["immer-nothing"]=!0,If),Df=bs?Symbol.for("immer-draftable"):"__$immer_draftable",Ue=bs?Symbol.for("immer-state"):"__$immer_state";var a0=""+Object.prototype.constructor,Cs=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(r){return Object.getOwnPropertyNames(r).concat(Object.getOwnPropertySymbols(r))}:Object.getOwnPropertyNames,f0=Object.getOwnPropertyDescriptors||function(r){var o={};return Cs(r).forEach(function(u){o[u]=Object.getOwnPropertyDescriptor(r,u)}),o},c0={},_s={get:function(r,o){if(o===Ue)return r;var u=rn(r);if(!ds(u,o))return function(h,v,y){var S,C=Tf(v,y);return C?"value"in C?C.value:(S=C.get)===null||S===void 0?void 0:S.call(h.k):void 0}(r,u,o);var c=u[o];return r.I||!on(c)?c:c===hs(r.t,o)?(ps(r),r.o[o]=ms(r.A.h,c,r)):c},has:function(r,o){return o in rn(r)},ownKeys:function(r){return Reflect.ownKeys(rn(r))},set:function(r,o,u){var c=Tf(rn(r),o);if(c?.set)return c.set.call(r.k,u),!0;if(!r.P){var h=hs(rn(r),o),v=h?.[Ue];if(v&&v.t===u)return r.o[o]=u,r.R[o]=!1,!0;if(n0(u,h)&&(u!==void 0||ds(r.t,o)))return!0;ps(r),vs(r)}return r.o[o]===u&&(u!==void 0||o in r.o)||Number.isNaN(u)&&Number.isNaN(r.o[o])||(r.o[o]=u,r.R[o]=!0),!0},deleteProperty:function(r,o){return hs(r.t,o)!==void 0||o in r.t?(r.R[o]=!1,ps(r),vs(r)):delete r.R[o],r.o&&delete r.o[o],!0},getOwnPropertyDescriptor:function(r,o){var u=rn(r),c=Reflect.getOwnPropertyDescriptor(u,o);return c&&{writable:!0,configurable:r.i!==1||o!=="length",enumerable:c.enumerable,value:u[o]}},defineProperty:function(){nt(11)},getPrototypeOf:function(r){return Object.getPrototypeOf(r.t)},setPrototypeOf:function(){nt(12)}},ur={};ar(_s,function(r,o){ur[r]=function(){return arguments[0]=arguments[0][0],o.apply(this,arguments)}}),ur.deleteProperty=function(r,o){return ur.set.call(this,r,o,void 0)},ur.set=function(r,o,u){return _s.set.call(this,r[0],o,u,r[0])};var l0=function(){function r(u){var c=this;this.O=Ff,this.D=!0,this.produce=function(h,v,y){if(typeof h=="function"&&typeof v!="function"){var S=v;v=h;var C=c;return function(D){var ae=this;D===void 0&&(D=S);for(var I=arguments.length,j=Array(I>1?I-1:0),H=1;H<I;H++)j[H-1]=arguments[H];return C.produce(D,function(se){var ee;return(ee=v).call.apply(ee,[ae,se].concat(j))})}}var b;if(typeof v!="function"&&nt(6),y!==void 0&&typeof y!="function"&&nt(7),on(h)){var P=Pf(c),M=ms(c,h,void 0),F=!0;try{b=v(M),F=!1}finally{F?vi(P):gs(P)}return typeof Promise<"u"&&b instanceof Promise?b.then(function(D){return cs(P,y),ls(D,P)},function(D){throw vi(P),D}):(cs(P,y),ls(b,P))}if(!h||typeof h!="object"){if((b=v(h))===void 0&&(b=h),b===Lf&&(b=void 0),c.D&&Ss(b,!0),y){var R=[],U=[];ct("Patches").M(h,b,R,U),y(R,U)}return b}nt(21,h)},this.produceWithPatches=function(h,v){if(typeof h=="function")return function(b){for(var P=arguments.length,M=Array(P>1?P-1:0),F=1;F<P;F++)M[F-1]=arguments[F];return c.produceWithPatches(b,function(R){return h.apply(void 0,[R].concat(M))})};var y,S,C=c.produce(h,v,function(b,P){y=b,S=P});return typeof Promise<"u"&&C instanceof Promise?C.then(function(b){return[b,y,S]}):[C,y,S]},typeof u?.useProxies=="boolean"&&this.setUseProxies(u.useProxies),typeof u?.autoFreeze=="boolean"&&this.setAutoFreeze(u.autoFreeze)}var o=r.prototype;return o.createDraft=function(u){on(u)||nt(8),On(u)&&(u=o0(u));var c=Pf(this),h=ms(this,u,void 0);return h[Ue].C=!0,gs(c),h},o.finishDraft=function(u,c){var h=u&&u[Ue],v=h.A;return cs(v,c),ls(void 0,v)},o.setAutoFreeze=function(u){this.D=u},o.setUseProxies=function(u){u&&!Ff&&nt(20),this.O=u},o.applyPatches=function(u,c){var h;for(h=c.length-1;h>=0;h--){var v=c[h];if(v.path.length===0&&v.op==="replace"){u=v.value;break}}h>-1&&(c=c.slice(h+1));var y=ct("Patches").$;return On(u)?y(u,c):this.produce(u,function(S){return y(S,c)})},r}(),ke=new l0,Wf=ke.produce,F1=ke.produceWithPatches.bind(ke),D1=ke.setAutoFreeze.bind(ke),M1=ke.setUseProxies.bind(ke),L1=ke.applyPatches.bind(ke),W1=ke.createDraft.bind(ke),B1=ke.finishDraft.bind(ke);var _c=Z(mc());var yc=(r,o)=>new ks(r,o),ks=class{constructor(o,u){N(this,"globalRegistry");N(this,"store");N(this,"nodeTypesRegistry");N(this,"externalService");N(this,"getGuestFrameDocumentTitle",()=>document.getElementsByName("neos-content-main")[0]?.contentDocument?.title);N(this,"getGuestFrameDocumentHtml",()=>document.getElementsByName("neos-content-main")[0]?.contentDocument?.body?.innerHTML);N(this,"getCurrentDocumentNode",()=>{let o=this.store.getState(),u=o?.cr?.nodes?.documentNode;return o?.cr?.nodes?.byContextPath[u]});N(this,"getCurrentDocumentParentNode",()=>{let o=this.store.getState(),u=this.getCurrentDocumentNode();return o?.cr?.nodes?.byContextPath[u.parent]});N(this,"getCurrentDocumentNodeType",()=>{let o=this.getCurrentDocumentNode();return this.globalRegistry.get("@neos-project/neos-ui-contentrepository").get(o?.nodeType)});N(this,"getCurrentDocumentTargetAudience",async()=>{let o=this.getCurrentDocumentNodeType()?.options?.sidekick?.targetAudience;return o?this.processClientEval(o):""});N(this,"getCurrentDocumentPageBriefing",async()=>{let o=this.getCurrentDocumentNodeType()?.options?.sidekick?.pageBriefing;return o?this.processClientEval(o):""});N(this,"getCurrentDocumentFocusKeyword",async()=>{let o=this.getCurrentDocumentNodeType()?.options?.sidekick?.focusKeyword;return o?await this.processClientEval(o):""});N(this,"processClientEval",async(o,u,c)=>{if(typeof o=="string"&&(o.startsWith("SidekickClientEval:")||o.startsWith("ClientEval:")))try{u=u??this.getCurrentDocumentNode();let h=Fn.selectors.UI.Inspector.transientValues(this.store.getState());u=this.generateNodeForContext(u,h),c=c??this.getCurrentDocumentParentNode();let v=this.getGuestFrameDocumentTitle(),y=this.getGuestFrameDocumentHtml(),S=this.getImageMetadata,C=Object.getPrototypeOf(async function(){}).constructor;return await new C("node,parentNode,documentTitle,documentContent,AssetUri","return "+o.replace("SidekickClientEval:","").replace("ClientEval:",""))(u,c,v,y,S)}catch(h){throw h instanceof xe?h:(console.error(h),new xe('An error occurred while trying to evaluate "'+o+'"',"1694682118365",o))}return o});N(this,"processValueWithClientEval",async(o,u,c)=>{if(typeof o=="string")return this.processClientEval(o,u,c);if(typeof o=="object"&&o!==null)return this.processObjectWithClientEval(o,u,c);if(o===null)return null;if(Array.isArray(o))return Promise.all(o.map(async h=>this.processObjectWithClientEval(h,u,c)))});N(this,"processObjectWithClientEval",async(o,u,c)=>{let h={};return await Promise.all(Object.keys(o).map(async v=>{let y=o[v];h[v]=await this.processValueWithClientEval(y,u,c)})),h});N(this,"getImageMetadata",async o=>{if(!o||!o?.__identity)throw new xe("The property does not have a valid image.","1694595562191");let{loadImageMetadata:u}=Cf.get().endpoints,c,h;try{let y=await u(o?.__identity);c=y?.originalImageResourceUri,h=y?.previewImageResourceUri}catch{throw new xe("Could not fetch image object.","1694595598880")}if(!c||c==="")throw new xe("The given image does not have a correct url.","1694595462402");let v=[];return v.push(this.prependConfiguredDomainToImageUri(c)),h&&v.push(this.prependConfiguredDomainToImageUri(h)),v});this.globalRegistry=o,this.store=u,this.nodeTypesRegistry=o.get("@neos-project/neos-ui-contentrepository"),this.externalService=o.get("NEOSidekick.AiAssistant").get("externalService")}prependConfiguredDomainToImageUri(o){let u=this.globalRegistry.get("NEOSidekick.AiAssistant").get("configuration").domain,c=o.replace("http://","").replace("https://","").split("/");return c.shift(),c.unshift(u),c.join("/")}getCurrentlyFocusedNodePathAndProperty(){let o=this.store.getState(),u=this.globalRegistry.get("@neos-project/neos-ui-contentrepository"),c=o?.cr?.nodes?.focused?.contextPaths[0],h=c?Fn.selectors.CR.Nodes.nodeByContextPath(o)(c):null;return{nodePath:c,node:h,property:o?.ui?.contentCanvas?.currentlyEditedPropertyName,nodeType:h?u.get(h?.nodeType):null,parentNode:h?Fn.selectors.CR.Nodes.nodesByContextPathSelector(o)[h.parent]:null}}async evaluateNodeTypeConfigurationAndStartGeneration(o,u,c,h,v=!1){if(!c||u[0]==="_")return;let y=c.properties?c.properties[u]:null;try{if(y?.options?.sidekick?.onCreate?.module)throw new xe("Please do not use options.sidekick.onCreate.module anymore. Read the docs to find out about the new configuration.","1696264259260");if(!y?.options?.sidekick?.module||v&&y?.options?.sidekick?.onCreate!==!0)return;if(!y?.ui?.inlineEditable)throw new xe("You can only generate content on inline editable properties","1688395273728");if(!this.externalService.hasApiKey())throw new xe("This feature is not available in the free version.","1688157373215")}catch(P){let M=this.globalRegistry.get("i18n");this.store.dispatch(Fn.actions.UI.FlashMessages.add(P?.code??P?.message,P?.code?M.translate("NEOSidekick.AiAssistant:Error:"+P.code):P?.message,P?.severity??"error"));return}let S=JSON.parse(JSON.stringify(y.options.sidekick)),C=this.globalRegistry.get("NEOSidekick.AiAssistant").get("contentCanvasService"),b=await this.processObjectWithClientEval(S,o,h);C.streamGenerationIntoInlineProperty(o.contextPath,u,b)}generateNodeForContext(o,u){return u?Wf(o,c=>{let h=(0,_c.default)(u,v=>v?.value);c.properties=Object.assign({},c.properties,h)}):o}};var wc=Z(ft());var Ac=(r,o,u)=>new Gs(r,o,u),Gs=class{constructor(o,u,c){N(this,"globalRegistry");N(this,"store");N(this,"iFrameApiService");N(this,"currentlyHandledNodePath",null);N(this,"streamGenerationIntoInlineProperty",(o,u,c)=>{this.iFrameApiService.callModule({target:{nodePath:o,propertyName:u},...c},()=>this.currentlyHandledNodePath=o)});N(this,"onNodeRemoved",o=>{this.currentlyHandledNodePath===o&&(this.iFrameApiService.cancelCallModule(),this.unsetCurrentlyHandledNodePath())});N(this,"handleMessage",o=>{switch(o?.data?.eventName){case"write-content":let{nodePath:u,propertyName:c,value:h,isFinished:v}=o?.data?.data;u&&(console.info(u+": "+h),this.setPropertyValue(u,c,h,v),v&&this.handleStreamingFinished());break;case"stopped-generation":this.handleStreamingFinished();break;case"error":let y=o?.data?.data?.message;this.addFlashMessage("1688158257149","An error occurred while asking NEOSidekick: "+y,"error",y),this.handleStreamingFinished();break;default:let S="Unknown message event: "+o?.data?.eventName;this.addFlashMessage("1688158257149","An error occurred while asking NEOSidekick: "+S,"error",S),this.handleStreamingFinished()}});N(this,"handleStreamingFinished",()=>{this.resetTypingCaret(),this.unsetCurrentlyHandledNodePath(),this.iFrameApiService.setStreamingFinished()});N(this,"setPropertyValue",(o,u,c,h)=>{let S=document.getElementsByName("neos-content-main")[0]?.contentDocument?.querySelector(`[data-__neos-editable-node-contextpath="${o}"][data-__neos-property="${u}"]`);if(!S&&h){let b="Could not find inline field for nodePath: "+o+" and propertyName: "+u;this.addFlashMessage("1688158257149","An error occurred while asking NEOSidekick: "+b,"error",b),this.unsetCurrentlyHandledNodePath();return}if(!S)return;if(!this.store.getState()?.cr?.nodes?.byContextPath.hasOwnProperty(o)){this.handleStreamingFinished();return}S.ckeditorInstance?.setData(c),S.classList.add("typing-caret")});this.globalRegistry=o,this.store=u,this.iFrameApiService=c,this.iFrameApiService.listenToMessages(this.handleMessage)}unsetCurrentlyHandledNodePath(){this.currentlyHandledNodePath=null}resetTypingCaret(){let c=document.getElementsByName("neos-content-main")[0]?.contentDocument?.querySelector(".typing-caret");c&&c.classList.remove("typing-caret")}addFlashMessage(o,u,c="error",h){let v=this.globalRegistry.get("i18n");this.store.dispatch(wc.actions.UI.FlashMessages.add(o,v.translate("NEOSidekick.AiAssistant:Error:"+o,u,{0:h}),c))}};var Sc=()=>new Ks,Ks=class{constructor(){N(this,"isStreaming",!1);N(this,"unsyncedWebContextIsNewPage");N(this,"unsyncedWebContextData");N(this,"callModuleQueue",[]);N(this,"callModule",(o,u)=>{if(this.isStreaming){this.callModuleQueue.push({data:o,onStarted:u});return}this.isStreaming=!0;let c={version:"1.0",eventName:"call-module",data:{platform:"neos",...o}};this.sendMessage(c,u)});N(this,"setStreamingFinished",()=>{this.isStreaming=!1,this.unsyncedWebContextData&&(this.updateWebContext(this.unsyncedWebContextIsNewPage||!1,this.unsyncedWebContextData),this.unsyncedWebContextData=void 0,this.unsyncedWebContextIsNewPage=void 0);let o=this.callModuleQueue.shift();if(o){let{data:u,onStarted:c}=o;this.callModule(u,c)}});N(this,"cancelCallModule",()=>{let o={version:"1.0",eventName:"cancel-call-module"};this.setStreamingFinished(),this.sendMessage(o)});N(this,"updateWebContext",(o,u)=>{if(this.isStreaming){this.unsyncedWebContextIsNewPage=o,this.unsyncedWebContextData=u;return}let c={version:"1.0",eventName:o?"page-changed":"page-updated",data:u};this.sendMessage(c)});N(this,"listenToMessages",o=>{let u=this.getAssistantFrame();u?window.addEventListener("message",c=>{c.source===u.contentWindow&&o(c)}):setTimeout(()=>this.listenToMessages(o),250)});N(this,"sendMessage",(o,u)=>{let c=this.getAssistantFrame();c?(console.log("loaded, sending message to frame",o),c.contentWindow?.postMessage(o,"*"),u&&u()):(console.log("not loaded, waiting..."),setTimeout(()=>this.sendMessage(o,u),250))});N(this,"getAssistantFrame",()=>{let o=document.getElementById("neosidekickAssistant");return o?.dataset.hasOwnProperty("loaded")&&o.contentWindow?o:null})}};var Di=Z(bc());var lt=Z(Dn()),Tc=Z(pr()),ye=Z(dr()),Rc=Z(gr()),fn=Z(vr()),Mn=Z(ft());var Vy={autoFocus:!1,disabled:!1,maxlength:null,readonly:!1},Pt=class extends lt.Component{constructor(){super(...arguments);N(this,"state",{loading:!1});N(this,"fetch",async(u,c)=>{let{commit:h,externalService:v,contentService:y,activeContentDimensions:S,addFlashMessage:C,i18nRegistry:b,node:P,parentNode:M,frontendConfiguration:F}=this.props;this.setState({loading:!0});try{c=await y.processObjectWithClientEval(c,P,M),c=Object.keys(c).map(D=>({identifier:D,value:c[D]}));let R=S.language?S.language[0]:F.defaultLanguage,U=await v.generate(u,R,c);h(U)}catch(R){C(R?.code??R?.message,R?.code?b.translate("NEOSidekick.AiAssistant:Error:"+R.code,R.message,{0:R.externalMessage}):R.message,R?.severity??"error")}finally{this.setState({loading:!1})}})}renderIcon(u){return u?lt.default.createElement(fn.Icon,{icon:"spinner",fixedWidth:!0,padded:"right",spin:!0}):lt.default.createElement(fn.Icon,{icon:"magic",fixedWidth:!0,padded:"right"})}render(){let{id:u,value:c,className:h,commit:v,options:y,i18nRegistry:S,onKeyPress:C,onEnterKey:b}=this.props,P=y&&y.placeholder&&S.translate(unescape(y.placeholder)),M=Object.assign({},Vy,y),F=!M.readonly&&!M.disabled;return lt.default.createElement("div",{style:{display:"flex",flexDirection:"column"},className:h},lt.default.createElement("div",null,lt.default.createElement(fn.TextInput,{id:u,value:c,onChange:v,disabled:M.disabled||this.state.loading,maxLength:M.maxlength,readOnly:M.readonly,placeholder:P,onKeyPress:C,onEnterKey:b})),F?lt.default.createElement("div",{style:{marginTop:"4px"}},lt.default.createElement(fn.Button,{className:"neosidekick__editor__generate-button",size:"regular",icon:this.state.loading?"hourglass":"magic",style:"neutral",hoverStyle:"clean",disabled:this.state.loading,onClick:()=>this.fetch(M.module,M.arguments??{})},S.translate("NEOSidekick.AiAssistant:Main:generateWithSidekick"),"\xA0",this.renderIcon(this.state.loading))):null)}};N(Pt,"propTypes",{className:ye.default.string,value:ye.default.oneOfType([ye.default.string,ye.default.number]),commit:ye.default.func.isRequired,options:ye.default.object,onKeyPress:ye.default.func,onEnterKey:ye.default.func,id:ye.default.string,activeContentDimensions:ye.default.object.isRequired,node:ye.default.object,parentNode:ye.default.object,i18nRegistry:ye.default.object.isRequired,externalService:ye.default.object.isRequired,contentService:ye.default.object.isRequired,addFlashMessage:ye.default.func.isRequired,frontendConfiguration:ye.default.object}),N(Pt,"defaultProps",{options:{}}),Pt=Kt([(0,Rc.neos)(r=>({i18nRegistry:r.get("i18n"),externalService:r.get("NEOSidekick.AiAssistant").get("externalService"),contentService:r.get("NEOSidekick.AiAssistant").get("contentService"),frontendConfiguration:r.get("NEOSidekick.AiAssistant").get("configuration")})),(0,Tc.connect)(r=>{let o=Mn.selectors.CR.Nodes.focusedSelector(r);return{activeContentDimensions:Mn.selectors.CR.ContentDimensions.active(r),node:o,parentNode:Mn.selectors.CR.Nodes.nodeByContextPath(r)(o.parent)}},{addFlashMessage:Mn.actions.UI.FlashMessages.add})],Pt);var ht=Z(Dn()),Ic=Z(pr()),be=Z(dr()),Fc=Z(gr()),cn=Z(vr()),Ln=Z(ft());var e1={disabled:!1,maxlength:null,readonly:!1,placeholder:"",minRows:2,expandedRows:6},Nt=class extends ht.Component{constructor(u){super(u);N(this,"fetch",async(u,c)=>{let{commit:h,externalService:v,contentService:y,activeContentDimensions:S,addFlashMessage:C,i18nRegistry:b,node:P,parentNode:M,frontendConfiguration:F}=this.props;this.setState({loading:!0});try{c=await y.processObjectWithClientEval(c,P,M),c=Object.keys(c).map(D=>({identifier:D,value:c[D]}));let R=S.language?S.language[0]:F.defaultLanguage,U=await v.generate(u,R,c);h(U)}catch(R){C(R?.code??R?.message,R?.code?b.translate("NEOSidekick.AiAssistant:Error:"+R.code,R.message,{0:R.externalMessage}):R.message,R?.severity??"error")}finally{this.setState({loading:!1})}});this.state={loading:!1}}renderIcon(u){return u?ht.default.createElement(cn.Icon,{icon:"spinner",fixedWidth:!0,padded:"right",spin:!0}):ht.default.createElement(cn.Icon,{icon:"magic",fixedWidth:!0,padded:"right"})}render(){let{id:u,value:c,className:h,commit:v,options:y,i18nRegistry:S}=this.props,C=y&&y.placeholder&&S.translate(unescape(y.placeholder)),b=Object.assign({},e1,y),P=!b.readonly&&!b.disabled;return ht.default.createElement("div",{style:{display:"flex",flexDirection:"column"},className:h},ht.default.createElement("div",null,ht.default.createElement(cn.TextArea,{id:u,value:c,onChange:v,disabled:b.disabled||this.state.loading,maxLength:b.maxlength,readOnly:b.readonly,placeholder:C,minRows:b.minRows,expandedRows:b.expandedRows})),P?ht.default.createElement("div",null,ht.default.createElement(cn.Button,{className:"neosidekick__editor__generate-button",size:"regular",icon:this.state.loading?"hourglass":"magic",style:"neutral",hoverStyle:"clean",disabled:this.state.loading,onClick:()=>this.fetch(b.module,b.arguments??{})},S.translate("NEOSidekick.AiAssistant:Main:generateWithSidekick"),"\xA0",this.renderIcon(this.state.loading))):null)}};N(Nt,"propTypes",{className:be.default.string,value:be.default.oneOfType([be.default.string,be.default.number]),commit:be.default.func.isRequired,options:be.default.object,id:be.default.string,activeContentDimensions:be.default.object.isRequired,node:be.default.object,parentNode:be.default.object,i18nRegistry:be.default.object.isRequired,externalService:be.default.object.isRequired,contentService:be.default.object.isRequired,addFlashMessage:be.default.func.isRequired,frontendConfiguration:be.default.object}),N(Nt,"defaultProps",{options:{}}),Nt=Kt([(0,Fc.neos)(r=>({i18nRegistry:r.get("i18n"),externalService:r.get("NEOSidekick.AiAssistant").get("externalService"),contentService:r.get("NEOSidekick.AiAssistant").get("contentService"),frontendConfiguration:r.get("NEOSidekick.AiAssistant").get("configuration")})),(0,Ic.connect)(r=>{let o=Ln.selectors.CR.Nodes.focusedSelector(r);return{activeContentDimensions:Ln.selectors.CR.ContentDimensions.active(r),node:o,parentNode:Ln.selectors.CR.Nodes.nodeByContextPath(r)(o.parent)}},{addFlashMessage:Ln.actions.UI.FlashMessages.add})],Nt);var Dc=(r,o)=>{let u=r.get("inspector").get("editors");u.set("NEOSidekick.AiAssistant/Inspector/Editors/MagicTextFieldEditor",{component:o?Pt:Di.TextField}),u.set("NEOSidekick.AiAssistant/Inspector/Editors/MagicTextAreaEditor",{component:o?Nt:Di.TextArea})};var Pe=Z(Dn()),_r=Z(vr());var Mi=Z(Dn()),Mc=Z(pr()),mr=Z(dr()),Lc=Z(ft()),Wc=Z(gr());var Tt=class extends Mi.PureComponent{getUri(){let{configuration:o,activeContentDimensions:u,interfaceLanguage:c}=this.props,h=new URL(`${o.apiDomain}/chat/`);return h.searchParams.append("contentLanguage",u.language?u.language[0]:o.defaultLanguage),h.searchParams.append("interfaceLanguage",c),h.searchParams.append("userId",o.userId),h.searchParams.append("plattform","neos"),h.searchParams.append("domain",o.domain),h.searchParams.append("siteName",o.siteName),o?.referral&&h.searchParams.append("referral",o?.referral),o?.apiKey&&h.searchParams.append("apikey",o?.apiKey),h}render(){let{className:o}=this.props;return Mi.default.createElement("iframe",{id:"neosidekickAssistant",className:o,src:this.getUri().toString(),allow:"clipboard-write",onLoad:u=>u.target.dataset.loaded=!0})}};N(Tt,"propTypes",{configuration:mr.default.object.isRequired,activeContentDimensions:mr.default.object.isRequired,interfaceLanguage:mr.default.object.isRequired,className:mr.default.string}),Tt=Kt([(0,Wc.neos)(r=>({configuration:r.get("NEOSidekick.AiAssistant").get("configuration")})),(0,Mc.connect)(r=>({activeContentDimensions:Lc.selectors.CR.ContentDimensions.active(r),interfaceLanguage:o=>o?.user?.preferences?.interfaceLanguage}),{})],Tt);var Bc=(r,o)=>{let u=r.get("containers"),c=u.get("App");if(!o.chatSidebarEnabled){u.set("App",v=>Pe.default.createElement("div",null,Pe.default.createElement(c,{...v}),Pe.default.createElement(Tt,{className:"neosidekick__frame--hidden"})));return}let h=v=>{let y=localStorage.getItem("NEOSidekick")?JSON.parse(localStorage.getItem("NEOSidekick")):{open:!0,fullscreen:!1},[S,C]=Pe.default.useState(y?.open),b=D=>{C(D),y.open=D,localStorage.setItem("NEOSidekick",JSON.stringify(y))},[P,M]=Pe.default.useState(y?.fullscreen),F=D=>{M(D),y.fullscreen=D,localStorage.setItem("NEOSidekick",JSON.stringify(y))},R=(D,ae,I)=>D?Pe.default.createElement(_r.IconButton,{icon:ae?"compress":"expand",onClick:I}):"",U=(D,ae,I)=>ae?"":Pe.default.createElement(_r.IconButton,{icon:D?"chevron-circle-right":"chevron-circle-left",onClick:I});return Pe.default.createElement("div",{className:`neosidekick_appWrapper ${S?"neosidekick_appWrapper--sidebar-open":""}  ${P?"neosidekick_appWrapper--sidebar-fullscreen":""}`},Pe.default.createElement(c,{...v}),Pe.default.createElement("div",{className:"neosidekick_sideBar"},Pe.default.createElement("div",{className:"neosidekick_sideBar__title"},Pe.default.createElement(_r.Headline,{className:`neosidekick_sideBar__title-headline ${S?"neosidekick_sideBar__title-headline--open":""}`},"AI Sidekick"),Pe.default.createElement("div",null,R(S,P,()=>F(!P)),U(S,P,()=>b(!S)))),Pe.default.createElement(Tt,{className:`neosidekick_sideBar__frame ${S?"neosidekick_sideBar__frame--open":""}`})))};u.set("App",h)};var wr=Z(ft()),zc=Z(Li());var kc=Z(Li()),Wi=Z(ft()),Gc=(r,o)=>function*(){yield(0,kc.takeEvery)(Wi.actionTypes.ServerFeedback.HANDLE_SERVER_FEEDBACK,function*(u){u.payload.feedbackEnvelope.feedbacks.forEach(c=>{if(c.type!=="Neos.Neos.Ui:NodeCreated")return;let v=c.payload.contextPath.split("@")[0],y=o.getState(),S=Wi.selectors.CR.Nodes.nodesByContextPathSelector(y),C=r.get("@neos-project/neos-ui-contentrepository"),b=r.get("NEOSidekick.AiAssistant").get("contentService");Object.keys(S).forEach(P=>{if(!P.split("@")[0].startsWith(v))return;let F=S[P],R=S[F.parent],U=C.get(F.nodeType);Object.keys(U.properties).forEach(D=>{b.evaluateNodeTypeConfigurationAndStartGeneration(F,D,U,R,!0)})})})})};var Kc=Z(Li()),Hc=Z(ft()),$c=(r,o)=>function*(){yield(0,Kc.takeEvery)(Hc.actionTypes.CR.Nodes.REMOVE,function*(u){r.get("NEOSidekick.AiAssistant").get("contentCanvasService").onNodeRemoved(u.payload)})};var Yc=Z(qc());function t1(r){return new Promise(o=>setTimeout(o,r))}var Zc=(r,o,u,c)=>{let h=!1,v=(0,Yc.debounce)((C,b)=>u.updateWebContext(C,b),500),y=function*(){yield(0,zc.takeLatest)([wr.actionTypes.UI.ContentCanvas.SET_SRC,wr.actionTypes.UI.ContentCanvas.RELOAD,wr.actionTypes.CR.Nodes.MERGE],async function*(C){C.type===wr.actionTypes.UI.ContentCanvas.SET_SRC&&(h=!0),yield t1(500);let b=r.get("@neos-project/neos-ui-contentrepository"),P=o.getState(),M=P?.ui?.contentCanvas?.previewUrl,F=c.getCurrentDocumentNode(),R=F?.contextPath,U=Object.values(P?.cr?.nodes?.byContextPath||{}).filter(ae=>{let I=b.getRole("document");if(!I)throw new Error("Document role is not loaded!");let j=b.getSubTypesOf(I);return R&&ae.contextPath.indexOf(R.split("@")[0])===0&&(ae.contextPath===R||!j.includes(ae.nodeType))}),D={url:M,title:F?.properties?.title||c.getGuestFrameDocumentTitle(),content:c.getGuestFrameDocumentHtml(),structuredContent:U,targetAudience:await c.getCurrentDocumentTargetAudience(),pageBriefing:await c.getCurrentDocumentPageBriefing(),focusKeyword:await c.getCurrentDocumentFocusKeyword()};v(h,D),h=!1})},S=r.get("sagas");S.set("NEOSidekick.AiAssistant/watchDocumentNodeChange",{saga:y}),S.set("NEOSidekick.AiAssistant/watchNodeCreated",{saga:Gc(r,o)}),S.set("NEOSidekick.AiAssistant/watchNodeRemoved",{saga:$c(r,o)})};var Ar=Z(Dn()),Jc=Z(pr()),Bi=Z(dr()),Ui=Z(vr()),Xc=Z(gr()),Qc=Z(ft());var zt=class extends Ar.PureComponent{constructor(){super(...arguments);N(this,"state",{show:!1,enabled:!0});N(this,"evaluateFocusedNodeAndPropertyAndShowButton",(u=5)=>{let{nodeType:c,property:h}=this.props.contentService.getCurrentlyFocusedNodePathAndProperty();if(!c||!h){if(u===0)return;setTimeout(()=>this.evaluateFocusedNodeAndPropertyAndShowButton(u-1),100);return}let v=c.properties[h];this.setState({show:v?.ui?.inlineEditable===!0&&v?.options?.sidekick?.module!==void 0})});N(this,"onClick",async()=>{let{addFlashMessage:u,i18nRegistry:c,contentService:h}=this.props;try{this.setState({enabled:!1});let{node:v,nodeType:y,parentNode:S,property:C}=h.getCurrentlyFocusedNodePathAndProperty();await h.evaluateNodeTypeConfigurationAndStartGeneration(v,C,y,S)}catch(v){u(v?.code??v?.message,v?.code?c.translate("NEOSidekick.AiAssistant:Error:"+v.code,v.message,{0:v.externalMessage}):v.message,v?.severity??"error")}finally{setTimeout(()=>{this.setState({enabled:!0})},2500)}})}componentDidMount(){this.evaluateFocusedNodeAndPropertyAndShowButton()}render(){let{i18nRegistry:u}=this.props;return this.state.show?Ar.default.createElement(Ui.Button,{disabled:!this.state.enabled,style:"transparent",hoverStyle:"brand",onClick:this.onClick,isActive:!!this.props.isActive,title:u.translate("NEOSidekick.AiAssistant:Main:generate")},Ar.default.createElement(Ui.Icon,{icon:"magic",size:"",fixedWidth:!0,padded:"right"}),u.translate("NEOSidekick.AiAssistant:Main:generate")):""}};N(zt,"propTypes",{contentService:Bi.default.object.isRequired,i18nRegistry:Bi.default.object.isRequired,addFlashMessage:Bi.default.func.isRequired}),zt=Kt([(0,Xc.neos)(r=>({contentService:r.get("NEOSidekick.AiAssistant").get("contentService"),i18nRegistry:r.get("i18n")})),(0,Jc.connect)(()=>{},{addFlashMessage:Qc.actions.UI.FlashMessages.add})],zt);var jc=r=>{r.get("ckEditor5").get("richtextToolbar").set("NEOSidekick.AiAssistant:generate",{component:zt,isVisible:()=>!0},"end")};xf("NEOSidekick.AiAssistant",{},(r,{store:o,frontendConfiguration:u})=>{let c=u["NEOSidekick.AiAssistant"];if(Dc(r,c?.enabled),!c?.enabled)return;if(!c.hasOwnProperty("defaultLanguage")||!c.defaultLanguage){console.error("Could not initialize AiAssistant: defaultLanguage is not configured correctly, see README.");return}r.set("NEOSidekick.AiAssistant",new Ht(""));let h=r.get("NEOSidekick.AiAssistant");h.set("configuration",c);let v=bf(c);h.set("externalService",v);let y=yc(r,o);h.set("contentService",y);let S=Sc();h.set("iFrameApiService",S);let C=Ac(r,o,S);h.set("contentCanvasService",C),Bc(r,c),Zc(r,o,S,y),jc(r)});})();
/*! Bundled license information:

lodash/lodash.js:
  (**
   * @license
   * Lodash <https://lodash.com/>
   * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
   * Released under MIT license <https://lodash.com/license>
   * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
   * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
   *)
*/
//# sourceMappingURL=Plugin.js.map
