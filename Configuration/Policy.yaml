privilegeTargets:
  'Neos\Flow\Security\Authorization\Privilege\Method\MethodPrivilege':
    'NEOSidekick.AiAssistant:CanUse':
      label: 'Can use AiAssistant'
      matcher: 'within(NEOSidekick\AiAssistant\Controller\BackendServiceController) || within(NEOSidekick\AiAssistant\Controller\BackendModule\OverviewController) || within(NEOSidekick\AiAssistant\Controller\BackendModule\ImageAlternativeTextController) || within(NEOSidekick\AiAssistant\Controller\BackendModule\FocusKeywordController) || within(NEOSidekick\AiAssistant\Controller\BackendModule\SeoTitleAndMetaDescriptionController) || within(NEOSidekick\AiAssistant\Controller\BackendModule\SeoImageAlternativeTextController) || within(NEOSidekick\AiAssistant\Controller\BackendModule\ConfigurationController) || within(NEOSidekick\AiAssistant\Controller\BackendModule\AutomationsController)'
    'NEOSidekick.AiAssistant:Service.updateNodeProperties':
      matcher: 'method(NEOSidekick\AiAssistant\Controller\ServiceController->(updateNodeProperty|test)Action())'
    'NEOSidekick.AiAssistant:Preview':
      matcher: 'method(NEOSidekick\AiAssistant\Controller\PreviewController->(show|preview)Action())'

roles:
  'Neos.Neos:AbstractEditor':
    privileges:
      - privilegeTarget: NEOSidekick.AiAssistant:CanUse
        permission: GRANT
      - privilegeTarget: 'NEOSidekick.AiAssistant:Service.updateNodeProperties'
        permission: GRANT
      - privilegeTarget: 'NEOSidekick.AiAssistant:Preview'
        permission: GRANT
  'NEOSidekick.AiAssistant:LivePreview':
    privileges:
      - privilegeTarget: 'Neos.Neos:ContentPreview'
        permission: GRANT
      - privilegeTarget: 'NEOSidekick.AiAssistant:Preview'
        permission: GRANT
